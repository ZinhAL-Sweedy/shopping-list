!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){var e,t,n;return function i(e,t,n){function r(a,s){if(!t[a]){if(!e[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n?n:t)},u,u.exports,i,e,t,n)}return t[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l}function r(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(c){s=c}var l=e("./schedule"),u=e("./queue"),h=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},h.hasDevTools?(i.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?r.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},i.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=r,i.prototype.invoke=o,i.prototype.settlePromises=a),i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},t.exports=i,t.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var l=n(o),u=new e(t);u._propagateFrom(this,1);var h=this._target();if(u._setBoundTo(l),l instanceof e){var f={promiseRejectionQueued:!1,promise:u,target:h,bindingPromise:l};h._then(t,a,void 0,u,f),l._then(s,c,void 0,u,f),u._setOnCancel(l)}else u._resolveCallback(h);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";function i(){try{Promise===o&&(Promise=r)}catch(e){}return o}var r;"undefined"!=typeof Promise&&(r=Promise);var o=e("./promise")();o.noConflict=i,t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var r="Object "+s.classString(e)+" has no method '"+s.toString(n)+"'";throw new t.TypeError(r)}return i}function i(e){var t=this.pop(),i=n(e,t);return i.apply(e,this)}function r(e){return e[this]}function o(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),c=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(i,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(c){var i=a(e);t=null!==i?i:r}else t=r;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o=e("./util"),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),c.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){function n(e,n,s){return function(c){var l=s._boundValue();e:for(var u=0;u<e.length;++u){var h=e[u];if(h===Error||null!=h&&h.prototype instanceof Error){if(c instanceof h)return o(n).call(l,c)}else if("function"==typeof h){var f=o(h).call(l,c);if(f===a)return f;if(f)return o(n).call(l,c)}else if(i.isObject(c)){for(var p=r(h),d=0;d<p.length;++d){var v=p[d];if(h[v]!=c[v])continue e}return o(n).call(l,c)}}return t}}var i=e("./util"),r=e("./es5").keys,o=i.tryCatch,a=i.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(i())}function n(){if(r)return new t}function i(){var e=o.length-1;if(e>=0)return o[e]}var r=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,r=!1},r=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,t){return{promise:t}}function r(){return!1}function o(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+R.toString(e));i._attachCancellationCallback(e)})}catch(r){return r}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?R.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function c(e){this._onCancelField=e}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function h(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function f(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function p(){this._trace=new j(this._peekContext())}function d(e,t){if(V(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=x(e);R.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),R.notEnumerableProp(e,"__stackCleaned__",!0)}}}function v(e,t,n,i,r){if(void 0===e&&null!==t&&Y){if(void 0!==r&&r._returnedNonUndefined())return;if(0===(65535&i._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=w(s),l=c.length-1;l>=0;--l){var u=c[l];if(!N.test(u)){var h=u.match(H);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var f=c[0],l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(p,!0,t)}}function m(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),g(n)}function g(e,n,i){if(oe.warnings){var r,o=new D(e);if(n)i._attachExtraTrace(o);else if(oe.longStackTraces&&(r=t._peekContext()))r.attachExtraTrace(o);else{var a=x(o);o.stack=a.message+"\n"+a.stack.join("\n")}ee("warning",o)||_(o,"",!0)}}function y(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function b(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function $(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(var s=a;s>=0;--s){var c=i[s];if(t[r]!==c)break;t.pop(),r--}t=i}}function w(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||U.test(i),o=r&&ne(i);r&&!o&&(q&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function k(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||U.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function x(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?k(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:w(t)}}function _(e,t,n){if("undefined"!=typeof console){var i;if(R.isObject(e)){var r=e.stack;i=t+z(r,e)}else i=t+String(e);"function"==typeof L?L(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function S(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(o){F.throwLater(o)}"unhandledRejection"===e?ee(e,n,i)||r||_(n,"Unhandled rejection "):ee(e,i)}function C(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():R.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var i=JSON.stringify(e);t=i}catch(r){}0===t.length&&(t="(empty array)")}return"(<"+E(t)+">, no stack trace)"}function E(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function T(){return"function"==typeof re}function A(e){var t=e.match(ie);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function O(e,t){if(T()){for(var n,i,r=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,c=0;c<r.length;++c){var l=A(r[c]);if(l){n=l.fileName,a=l.line;break}}for(var c=0;c<o.length;++c){var l=A(o[c]);if(l){i=l.fileName,s=l.line;break}}a<0||s<0||!n||!i||n!==i||a>=s||(ne=function(e){if(B.test(e))return!0;var t=A(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}}function j(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);re(this,j),t>32&&this.uncycle()}var P,M,L,I=t._getDomain,F=t._async,D=e("./errors").Warning,R=e("./util"),V=R.canAttachTrace,B=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,N=/\((?:timers\.js):\d+:\d+\)/,H=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,U=null,z=null,q=!1,W=!(0==R.env("BLUEBIRD_DEBUG")),G=!(0==R.env("BLUEBIRD_WARNINGS")||!W&&!R.env("BLUEBIRD_WARNINGS")),K=!(0==R.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!R.env("BLUEBIRD_LONG_STACK_TRACES")),Y=0!=R.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!R.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),F.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){S("rejectionHandled",P,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),S("unhandledRejection",M,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return g(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=I();M="function"==typeof e?null===t?e:R.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=I();P="function"==typeof e?null===t?e:R.domainBind(t,e):void 0};var X=function(){};t.longStackTraces=function(){if(F.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!oe.longStackTraces&&T()){var e=t.prototype._captureStackTrace,i=t.prototype._attachExtraTrace;oe.longStackTraces=!0,X=function(){if(F.haveItemsQueued()&&!oe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=i,n.deactivateLongStackTraces(),F.enableTrampoline(),oe.longStackTraces=!1},t.prototype._captureStackTrace=p,t.prototype._attachExtraTrace=d,n.activateLongStackTraces(),F.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return oe.longStackTraces&&T()};var J=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return R.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!R.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return R.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!R.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),R.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!R.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Q=function(){return R.isNode?function(){return process.emit.apply(process,arguments)}:R.global?function(e){var t="on"+e.toLowerCase(),n=R.global[t];return!!n&&(n.apply(R.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),Z={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},ee=function(e){var t=!1;try{t=Q.apply(null,arguments)}catch(n){F.throwLater(n),t=!0}var i=!1;try{i=J(e,Z[e].apply(null,arguments))}catch(n){F.throwLater(n),i=!0}return i||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&X()),"warnings"in e){var n=e.warnings;oe.warnings=!!n,Y=oe.warnings,R.isObject(n)&&"wForgottenReturn"in n&&(Y=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!oe.cancellation){if(F.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=l,t.prototype._propagateFrom=u,t.prototype._onCancel=s,t.prototype._setOnCancel=c,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,te=u,oe.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!oe.monitoring?(oe.monitoring=!0,t.prototype._fireEvent=ee):!e.monitoring&&oe.monitoring&&(oe.monitoring=!1,t.prototype._fireEvent=r)),t},t.prototype._fireEvent=r,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(i){return i}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var te=h,ne=function(){return!1},ie=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;R.inherits(j,Error),n.CapturedTrace=j,j.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<e;++i){var a=t[i].stack,s=n[a];if(void 0!==s&&s!==i){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var c=i>0?t[i-1]:this;s<e-1?(c._parent=t[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var l=c._length+1,u=i-2;u>=0;--u)t[u]._length=l,l++;return}}}},j.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=x(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(w(r.stack.split("\n"))),r=r._parent;$(i),b(i),R.notEnumerableProp(e,"stack",y(n,i)),R.notEnumerableProp(e,"__stackCleaned__",!0)}};var re=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():C(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=e,z=t;var n=Error.captureStackTrace;return ne=function(e){return B.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,z=t,q=!0,function(e){e.stack=(new Error).stack};var r;try{throw new Error}catch(o){r="stack"in o}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(z=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?C(t):t.toString()},null):(U=e,z=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(L=function(e){console.warn(e)},R.isNode&&process.stderr.isTTY?L=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:R.isNode||"string"!=typeof(new Error).stack||(L=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var oe={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1};return K&&t.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return te},boundValueFunction:function(){return f},checkForgottenReturns:v,setBounds:O,warn:g,deprecated:m,CapturedTrace:j,fireDomEvent:J,fireGlobalEvent:Q}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],i=function(){throw t};return this.caught(e,i)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){function n(){return o(this)}function i(e,n){return r(e,n,t,t)}var r=e.reduce,o=e.all;e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,i){return r(e,i,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=i}},{}],12:[function(e,t,n){"use strict";function i(e,t){function n(i){return this instanceof n?(h(this,"message","string"==typeof i?i:t),h(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return u(n,Error),n}function r(e){return this instanceof r?(h(this,"name","OperationalError"),h(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(h(this,"message",e.message),h(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(e)}var o,a,s=e("./es5"),c=s.freeze,l=e("./util"),u=l.inherits,h=l.notEnumerableProp,f=i("Warning","warning"),p=i("CancellationError","cancellation error"),d=i("TimeoutError","timeout error"),v=i("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(m){o=i("TypeError","type error"),a=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(v.prototype[g[y]]=Array.prototype[g[y]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var b=0;v.prototype.toString=function(){var e=Array(4*b+1).join(" "),t="\n"+e+"AggregateError of:\n";b++,e=Array(4*b+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];i=r.join("\n"),t+=i+"\n"}return b--,t},u(r,Error);var $=Error.__BluebirdErrorTypes__;$||($=c({CancellationError:p,TimeoutError:d,OperationalError:r,RejectionError:r,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:$,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:$.CancellationError,OperationalError:$.OperationalError,TimeoutError:$.TimeoutError,AggregateError:$.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},c=function(e,t){return{value:e[t]}},l=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},h=function(e){try{return Object(e).constructor.prototype}catch(t){return a}},f=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:f,keys:s,names:s,defineProperty:l,getDescriptor:c,freeze:u,getPrototypeOf:h,isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function r(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function s(e){if(!o(this,e))return h.e=e,h}function c(e){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),e);if(void 0!==l){i._setReturnedNonUndefined();var f=n(l,i);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var p=new u("late cancellation observer");return i._attachExtraTrace(p),h.e=p,h}f.isPending()&&f._attachCancellationCallback(new r(this))}return f._then(a,s,void 0,this,void 0)}}}return i.isRejected()?(o(this),h.e=e,h):(o(this),e)}var l=e("./util"),u=t.CancellationError,h=l.errorObj;return i.prototype.isFinallyHandler=function(){return 0===this.type},r.prototype._resultCancelled=function(){o(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,c,c)},t.prototype.tap=function(e){return this._passThrough(e,1,c)},i}},{"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=p(n[o])(e);if(i._popContext(),a===f){i._pushContext();var s=t.reject(f.e);return i._popContext(),s}var c=r(a,i);if(c instanceof t)return c}return null}function c(e,n,r,o){if(a.cancellation()){var s=new t(i),c=this._finallyPromise=new t(i);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else{var l=this._promise=new t(i);l._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var l=e("./errors"),u=l.TypeError,h=e("./util"),f=h.errorObj,p=h.tryCatch,d=[];h.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),e=p(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),e=p(this._generator["throw"]).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===f)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var i=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=r(i,this._promise);if(!(o instanceof t)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",i)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=c,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i((void 0),(void 0),n,r),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+h.classString(e));
d.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new c(e,this),r=i.promise();return i._run(t.spawn),r}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var r=l();this._callback=null===r?t:u.domainBind(r,t),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function c(e,n,r,o){if("function"!=typeof n)return i("expecting a function but got "+u.classString(n));var a=0;if(void 0!==r){if("object"!=typeof r||null===r)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(r)));if("number"!=typeof r.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(r.concurrency)));a=r.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var l=t._getDomain,u=e("./util"),h=u.tryCatch,f=u.errorObj,p=t._async;u.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(n=n*-1-1,i[n]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var l=this._promise,u=this._callback,p=l._boundValue();l._pushContext();var d=h(u).call(p,e,n,o),v=l._popContext();if(a.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",l),d===f)return this._reject(d.e),!0;var m=r(d,this._promise);if(m instanceof t){m=m._target();var g=m._bitField;if(0===(50397184&g))return c>=1&&this._inFlight++,i[n]=m,m._proxy(this,(n+1)*-1),!1;if(0===(33554432&g))return 0!==(16777216&g)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}i[n]=d}var y=++this._totalResolved;return y>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;o<n;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,n,i){return c(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments),a=i._popContext();return o.checkForgottenReturns(r,a,"Promise.method",i),i._resolveFromSyncValue(r),i}},t.attempt=t["try"]=function(e){if("function"!=typeof e)return r("expecting a function but got "+a.classString(e));var i=new t(n);i._captureStackTrace(),i._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=a.isArray(l)?s(e).apply(u,l):s(e).call(u,l)}else c=s(e)();var h=i._popContext();return o.checkForgottenReturns(c,h,"Promise.try",i),i._resolveFromSyncValue(c),i},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";function i(e){return e instanceof Error&&u.getPrototypeOf(e)===Error.prototype}function r(e){var t;if(i(e)){t=new l(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=u.keys(e),r=0;r<n.length;++r){var o=n[r];h.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,i){if(null!==e){if(n){var o=r(s(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(i);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,c=e("./errors"),l=c.OperationalError,u=e("./es5"),h=/^(?:name|message|stack|cause)$/;t.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var r=s(t).apply(n._boundValue(),[null].concat(e));r===c&&a.throwLater(r.e)}function i(e,t){var n=this,i=n._boundValue(),r=void 0===e?s(t).call(i,null):s(t).call(i,null,e);r===c&&a.throwLater(r.e)}function r(e,t){var n=this;if(!e){var i=new Error(e+"");i.cause=e,e=i}var r=s(t).call(n._boundValue(),e);r===c&&a.throwLater(r.e)}var o=e("./util"),a=t._async,s=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,r,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){function n(){}function i(e,t){if("function"!=typeof t)throw new y("expecting a function but got "+p.classString(t));if(e.constructor!==r)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function r(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==$&&(i(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function s(e){var t=new r($);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var c,l=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new r.PromiseInspection(this._target())},h=function(e){return r.reject(new y(e))},f={},p=e("./util");c=p.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},p.notEnumerableProp(r,"_getDomain",c);var d=e("./es5"),v=e("./async"),m=new v;d.defineProperty(r,"_async",{value:m});var g=e("./errors"),y=r.TypeError=g.TypeError;r.RangeError=g.RangeError;var b=r.CancellationError=g.CancellationError;r.TimeoutError=g.TimeoutError,r.OperationalError=g.OperationalError,r.RejectionError=g.OperationalError,r.AggregateError=g.AggregateError;var $=function(){},w={},k={},x=e("./thenables")(r,$),_=e("./promise_array")(r,$,x,h,n),S=e("./context")(r),C=S.create,E=e("./debuggability")(r,S),T=(E.CapturedTrace,e("./finally")(r,x)),A=e("./catch_filter")(k),O=e("./nodeback"),j=p.errorObj,P=p.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!p.isObject(o))return h("expecting an object but got A catch statement predicate "+p.classString(o));i[r++]=o}return i.length=r,e=arguments[n],this.then(void 0,A(i,e,this))}return this.then(void 0,e)},r.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},r.prototype.then=function(e,t){if(E.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+p.classString(e);arguments.length>1&&(n+=", "+p.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},r.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},r.prototype.spread=function(e){return"function"!=typeof e?h("expecting a function but got "+p.classString(e)):this.all()._then(e,void 0,void 0,w,void 0)},r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},r.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},r.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},r.getNewLibraryCopy=t.exports,r.is=function(e){return e instanceof r},r.fromNode=r.fromCallback=function(e){var t=new r($);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=P(e)(O(t,n));return i===j&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},r.all=function(e){return new _(e).promise()},r.cast=function(e){var t=x(e);return t instanceof r||(t=new r($),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(e){var t=new r($);return t._captureStackTrace(),t._rejectCallback(e,!0),t},r.setScheduler=function(e){if("function"!=typeof e)throw new y("expecting a function but got "+p.classString(e));return m.setScheduler(e)},r.prototype._then=function(e,t,n,i,o){var a=void 0!==o,s=a?o:new r($),l=this._target(),u=l._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===i&&0!==(2097152&this._bitField)&&(i=0!==(50397184&u)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=c();if(0!==(50397184&u)){var f,d,v=l._settlePromiseCtx;0!==(33554432&u)?(d=l._rejectionHandler0,f=e):0!==(16777216&u)?(d=l._fulfillmentHandler0,f=t,l._unsetRejectionIsUnhandled()):(v=l._settlePromiseLateCancellationObserver,d=new b("late cancellation observer"),l._attachExtraTrace(d),f=t),m.invoke(v,l,{handler:null===h?f:"function"==typeof f&&p.domainBind(h,f),promise:s,receiver:i,value:d})}else l._addCallbacks(e,t,s,i,h);return s},r.prototype._length=function(){return 65535&this._bitField},r.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},r.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},r.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},r.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},r.prototype._isFinal=function(){return(4194304&this._bitField)>0},r.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},r.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},r.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},r.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==f)return void 0===t&&this._isBound()?this._boundValue():t},r.prototype._promiseAt=function(e){return this[4*e-4+2]},r.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},r.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},r.prototype._boundValue=function(){},r.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=f),this._addCallbacks(t,n,i,r,null)},r.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=f),this._addCallbacks(n,i,r,o,null)},r.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:p.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:p.domainBind(r,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=i,"function"==typeof e&&(this[a+0]=null===r?e:p.domainBind(r,e)),"function"==typeof t&&(this[a+1]=null===r?t:p.domainBind(r,t))}return this._setLength(o+1),o},r.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},r.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=x(e,this);if(!(n instanceof r))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i===this)return void this._reject(l());var o=i._bitField;if(0===(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var c=new b("late cancellation observer");i._attachExtraTrace(c),this._reject(c)}}},r.prototype._rejectCallback=function(e,t,n){var i=p.ensureErrorObject(e),r=i===e;if(!r&&!n&&E.warnings()){var o="a promise was rejected with a non-error: "+p.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},r.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)},r.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0===(65536&r)){i._pushContext();var o;t===w?n&&"number"==typeof n.length?o=P(e).apply(this._boundValue(),n):(o=j,o.e=new y("cannot .spread() a non-array: "+p.classString(n))):o=P(e).call(t,n);var a=i._popContext();r=i._bitField,0===(65536&r)&&(o===k?i._reject(n):o===j?i._rejectCallback(o.e,!1):(E.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(e){this._rejectionHandler0=e},r.prototype._settlePromise=function(e,t,i,o){var a=e instanceof r,s=this._bitField,c=0!==(134217728&s);0!==(65536&s)?(a&&e._invokeInternalOnCancel(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=e,P(t).call(i,o)===j&&e._reject(j.e)):t===u?e._fulfill(u.call(i)):i instanceof n?i._promiseCancelled(e):a||e instanceof _?e._cancel():i.cancel()):"function"==typeof t?a?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,i,o,e)):t.call(i,o,e):i instanceof n?i._isResolved()||(0!==(33554432&s)?i._promiseFulfilled(o,e):i._promiseRejected(o,e)):a&&(c&&e._setAsyncGuaranteed(),0!==(33554432&s)?e._fulfill(o):e._reject(o))},r.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,o=e.value;"function"==typeof t?n instanceof r?this._settlePromiseFromHandler(t,i,o,n):t.call(i,o,n):n instanceof r&&n._reject(o)},r.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},r.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},r.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},r.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():m.settlePromises(this))}},r.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?m.fatalError(e,p.isNode):void((65535&t)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled())},r.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},r.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},r.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},r.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},r.defer=r.pending=function(){E.deprecated("Promise.defer","new Promise");var e=new r($);return{promise:e,resolve:o,reject:a}},p.notEnumerableProp(r,"_makeSelfResolutionError",l),e("./method")(r,$,x,h,E),e("./bind")(r,$,x,E),e("./cancel")(r,_,h,E),e("./direct_resolve")(r),e("./synchronous_inspection")(r),e("./join")(r,_,x,$,m,c),r.Promise=r,r.version="3.4.7",e("./map.js")(r,_,h,x,$,E),e("./call_get.js")(r),e("./using.js")(r,h,x,C,$,E),e("./timers.js")(r,$,E),e("./generators.js")(r,h,$,x,n,E),e("./nodeify.js")(r),e("./promisify.js")(r,$),e("./props.js")(r,_,x,h),e("./race.js")(r,$,x,h),e("./reduce.js")(r,_,h,x,$,E),e("./settle.js")(r,_,E),e("./some.js")(r,_,h),e("./filter.js")(r,$),e("./each.js")(r,$),e("./any.js")(r),p.toFastProperties(r),p.toFastProperties(r.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s(function(){}),s(void 0),s(!1),s(new r($)),E.setBounds(v.firstLineError,p.lastLineError),r}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){function a(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var i=this._promise=new t(n);e instanceof t&&i._propagateFrom(e,3),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=e("./util");c.isArray;return c.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function l(e,n){var o=i(this._values,this._promise);if(o instanceof t){o=o._target();var s=o._bitField;if(this._values=o,0===(50397184&s))return this._promise._setAsyncGuaranteed(),o._then(l,this._reject,void 0,this,n);if(0===(33554432&s))return 0!==(16777216&s)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=c.asArray(o),null===o){var u=r("expecting an array or an iterable object but got "+c.classString(o)).reason();return void this._promise._rejectCallback(u,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(a(n))):void this._iterate(o)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,a=null,s=0;s<n;++s){var c=i(e[s],r);c instanceof t?(c=c._target(),a=c._bitField):a=null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0===(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!==(33554432&a)?this._promiseFulfilled(c._value(),s):0!==(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||r._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e){return!k.test(e)}function r(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var i=p.getDataPropertyOrDefault(e,t+n,$);return!!i&&r(i)}function a(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,n,i){for(var s=p.inheritedDataKeys(e),c=[],l=0;l<s.length;++l){var u=s[l],h=e[u],f=i===x||x(u,h,e);"function"!=typeof h||r(h)||o(e,u,t)||!i(u,h,e,f)||c.push(u,h)}return a(c,t,n),c}function c(e,i,r,o,a,s){function c(){var r=i;i===f&&(r=this);var o=new t(n);o._captureStackTrace();var a="string"==typeof u&&this!==l?this[u]:e,c=d(o,s);try{a.apply(r,v(arguments,c))}catch(h){o._rejectCallback(m(h),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var l=function(){return this}(),u=e;return"string"==typeof u&&(e=o),p.notEnumerableProp(c,"__isPromisified__",!0),c}function l(e,t,n,i,r){for(var o=new RegExp(_(t)+"$"),a=s(e,t,o,n),c=0,l=a.length;c<l;c+=2){var u=a[c],h=a[c+1],d=u+t;if(i===S)e[d]=S(u,f,u,h,t,r);else{var v=i(h,function(){return S(u,f,u,h,t,r)});p.notEnumerableProp(v,"__isPromisified__",!0),e[d]=v}}return p.toFastProperties(e),e}function u(e,t,n){return S(e,t,void 0,e,null,n)}var h,f={},p=e("./util"),d=e("./nodeback"),v=p.withAppended,m=p.maybeWrapAsError,g=p.canEvaluate,y=e("./errors").TypeError,b="Async",$={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],k=new RegExp("^(?:"+w.join("|")+")$"),x=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},_=function(e){return e.replace(/([$])/,"\\$")},S=g?h:c;t.promisify=function(e,t){if("function"!=typeof e)throw new y("expecting a function but got "+p.classString(e));if(r(e))return e;t=Object(t);var n=void 0===t.context?f:t.context,o=!!t.multiArgs,a=u(e,n,o);return p.copyDescriptors(e,a,i),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,i=t.suffix;"string"!=typeof i&&(i=b);var r=t.filter;"function"!=typeof r&&(r=x);var o=t.promisifier;if("function"!=typeof o&&(o=S),!p.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(e),s=0;s<a.length;++s){var c=e[a[s]];"constructor"!==a[s]&&p.isClass(c)&&(l(c.prototype,i,r,o,n),l(c,i,r,o,n))}return l(e,i,r,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){function o(e){var t,n=!1;if(void 0!==s&&e instanceof s)t=h(e),n=!0;else{var i=u.keys(e),r=i.length;t=new Array(2*r);for(var o=0;o<r;++o){var a=i[o];t[o]=e[a],t[o+r]=a}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function a(e){var n,a=i(e);return l(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),l=c.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);var h=function(){function e(e,i){this[t]=e,this[t+n]=i,t++}var t=0,n=0;return function(i){n=i.size,t=0;var r=new Array(2*i.size);return i.forEach(e,r),r}}(),f=function(e){for(var t=new s,n=e.length/2|0,i=0;i<n;++i){var r=e[n+i],o=e[i];t.set(r,o)}return t};c.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var i;if(this._isMap)i=f(this._values);else{i={};for(var r=this.length(),o=0,a=this.length();o<a;++o)i[this._values[o+r]]=this._values[o]}return this._resolve(i),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,r){for(var o=0;o<r;++o)n[o+i]=e[o+t],e[o+t]=void 0}function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},r.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length,o=n+r&t-1;i(this,0,this,t,o)},t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){function o(e,o){var c=i(e);if(c instanceof t)return s(c);if(e=a.asArray(e),null===e)return r("expecting an array or an iterable object but got "+a.classString(e));var l=new t(n);void 0!==o&&l._propagateFrom(o,3);for(var u=l._fulfill,h=l._reject,f=0,p=e.length;f<p;++f){var d=e[f];(void 0!==d||f in e)&&t.cast(d)._then(u,h,void 0,l,null)}return l}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e,n,i,r){this.constructor$(e);var a=f();this._fn=null===a?n:p.domainBind(a,n),void 0!==i&&(i=t.resolve(i),i._attachCancellationCallback(this)),this._initialValue=i,this._currentCancellable=null,r===o?this._eachValues=Array(this._length):0===r?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function l(e,t,n,r){if("function"!=typeof t)return i("expecting a function but got "+p.classString(t));var o=new s(e,t,n,r);return o.promise()}function u(e){this.accum=e,this.array._gotAccum(e);var n=r(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(h,void 0,void 0,this,void 0)):h.call(this,n)}function h(e){var n=this.array,i=n._promise,r=d(n._fn);i._pushContext();var o;o=void 0!==n._eachValues?r.call(i._boundValue(),e,this.index,this.length):r.call(i._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var s=i._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),o}var f=t._getDomain,p=e("./util"),d=p.tryCatch;p.inherits(s,n),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var n,i,r=e.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=t.resolve(e[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<r;++i){var o={accum:null,value:e[i],index:i,length:r,array:this};n=n._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,n,i){return l(e,t,n,i)}}},{"./util":36}],29:[function(e,t,n){"use strict";var i,r=e("./util"),o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=r.getNativePromise();if(r.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,c=process.nextTick;i=r.isRecentNode?function(e){s.call(global,e)}:function(e){c.call(process,e)}}else if("function"==typeof a&&"function"==typeof a.resolve){var l=a.resolve();i=function(e){l.then(e)}}else i="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div"),r=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});r.observe(i,t);var o=function(){n||(n=!0,i.classList.toggle("foo"))};return function(n){var i=new MutationObserver(function(){i.disconnect(),n()});i.observe(e,t),o()}}();t.exports=i},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e){this.constructor$(e)}var o=t.PromiseInspection,a=e("./util");a.inherits(r,n),r.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new r(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new r(e),o=n.promise();return n.setHowMany(t),n.init(),o}var a=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,l=a.isArray,u={};a.inherits(r,n),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()));
}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(e){this._howMany=e},r.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},r.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},r.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},r.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(e){this._values.push(e)},r.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=r}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){function i(e,i){if(u(e)){if(e instanceof t)return e;var r=o(e);if(r===l){i&&i._pushContext();var c=t.reject(r.e);return i&&i._popContext(),c}if("function"==typeof r){if(a(e)){var c=new t(n);return e._then(c._fulfill,c._reject,void 0,c,null),c}return s(e,r,i)}}return e}function r(e){return e.then}function o(e){try{return r(e)}catch(t){return l.e=t,l}}function a(e){try{return h.call(e,"_promise0")}catch(t){return!1}}function s(e,i,r){function o(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,h,!0),s=null)}var s=new t(n),u=s;r&&r._pushContext(),s._captureStackTrace(),r&&r._popContext();var h=!0,f=c.tryCatch(i).call(e,o,a);return h=!1,s&&f===l&&(s._rejectCallback(f.e,!0,!0),s=null),u}var c=e("./util"),l=c.errorObj,u=c.isObject,h={}.hasOwnProperty;return i}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){function r(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(l,null,null,e,void 0),i.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(n),s=setTimeout(function(){a._fulfill()},+e),i.cancellation()&&a._setOnCancel(new r(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)};var h=function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()};t.prototype.timeout=function(e,t){e=+e;var n,s,c=new r(setTimeout(function(){n.isPending()&&h(n,t,s)},e));return i.cancellation()?(s=this.then(),n=s._then(o,a,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,a,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){function s(e){setTimeout(function(){throw e},0)}function c(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function l(e,n){function r(){if(a>=l)return u._fulfill();var o=c(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(n),e.promise)}catch(h){return s(h)}if(o instanceof t)return o._then(r,s,null,null,null)}r()}var a=0,l=e.length,u=new t(o);return r(),u}function u(e,t,n){this._data=e,this._promise=t,this._context=n}function h(e,t,n){this.constructor$(e,t,n)}function f(e){return u.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function p(e){this.length=e,this.promise=null,this[e-1]=null}var d=e("./util"),v=e("./errors").TypeError,m=e("./util").inherits,g=d.errorObj,y=d.tryCatch,b={};u.prototype.data=function(){return this._data},u.prototype.promise=function(){return this._promise},u.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},u.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},u.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(h,u),h.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},p.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var i=this[n];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if("function"!=typeof r)return n("expecting a function but got "+d.classString(r));var o,s=!0;2===e&&Array.isArray(arguments[0])?(o=arguments[0],e=o.length,s=!1):(o=arguments,e--);for(var c=new p(e),h=0;h<e;++h){var v=o[h];if(u.isDisposer(v)){var m=v;v=v.promise(),v._setDisposable(m)}else{var b=i(v);b instanceof t&&(v=b._then(f,null,null,{resources:c,index:h},void 0))}c[h]=v}for(var $=new Array(c.length),h=0;h<$.length;++h)$[h]=t.resolve(c[h]).reflect();var w=t.all($).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}k._pushContext(),r=y(r);var i=s?r.apply(void 0,e):r(e),o=k._popContext();return a.checkForgottenReturns(i,o,"Promise.using",k),i}),k=w.lastly(function(){var e=new t.PromiseInspection(w);return l(c,e)});return c.promise=k,k._setOnCancel(c),k},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new h(e,this,r());throw new v}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";function i(){try{var e=A;return A=null,e.apply(this,arguments)}catch(t){return T.e=t,T}}function r(e){return A=e,i}function o(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return o(e)?new Error(m(e)):e}function c(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r}function l(e,t,n){if(!C.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function u(e,t,n){if(o(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return C.defineProperty(e,t,i),e}function h(e){throw e}function f(e){try{if("function"==typeof e){var t=C.names(e.prototype),n=C.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=M.test(e+"")&&C.names(e).length>0;if(n||i||r)return!0}return!1}catch(o){return!1}}function p(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function d(e){return L.test(e)}function v(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i}function m(e){try{return e+""}catch(t){return"[no string representation]"}}function g(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function y(e){try{u(e,"isOperational",!0)}catch(t){}}function b(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function $(e){return g(e)&&C.propertyIsWritable(e,"stack")}function w(e){return{}.toString.call(e)}function k(e,t,n){for(var i=C.names(e),r=0;r<i.length;++r){var o=i[r];if(n(o))try{C.defineProperty(t,o,C.getDescriptor(e,o))}catch(a){}}}function x(e){return V?process.env[e]:void 0}function _(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}function S(e,t){return e.bind(t)}var C=e("./es5"),E="undefined"==typeof navigator,T={e:{}},A,O="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,j=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},P=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(C.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],r=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(a){return i}for(var s=0;s<o.length;++s){var c=o[s];if(!r[c]){r[c]=!0;var l=Object.getOwnPropertyDescriptor(e,c);null!=l&&null==l.get&&null==l.set&&i.push(c)}}e=C.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;r.push(o)}return r}}(),M=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,I=function(){return"stack"in new Error?function(e){return $(e)?e:new Error(m(e))}:function(e){if($(e))return e;try{throw new Error(m(e))}catch(t){return t}}}(),F=function(e){return C.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var D="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};F=function(e){return C.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?D(e):null}}var R="undefined"!=typeof process&&"[object process]"===w(process).toLowerCase(),V="undefined"!=typeof process&&"undefined"!=typeof process.env,B={isClass:f,isIdentifier:d,inheritedDataKeys:P,getDataPropertyOrDefault:l,thrower:h,isArray:C.isArray,asArray:F,notEnumerableProp:u,isPrimitive:o,isObject:a,isError:g,canEvaluate:E,errorObj:T,tryCatch:r,inherits:j,withAppended:c,maybeWrapAsError:s,toFastProperties:p,filledRange:v,toString:m,canAttachTrace:$,ensureErrorObject:I,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:w,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:V,env:x,global:O,getNativePromise:_,domainBind:S};B.isRecentNode=B.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),B.isNode&&B.toFastProperties(process);try{throw new Error}catch(N){B.lastLineError=N}t.exports=B},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),function(){function e(e){function t(t,n,i,r,o,a){for(;o>=0&&o<a;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=b(i,o,4);var a=!C(n)&&y.keys(n),s=(a||n).length,c=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[c]:c],c+=e),t(n,i,r,a,c,s)}}function t(e){return function(t,n,i){n=$(n,i);for(var r=S(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(i,r,o){var a=0,s=S(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(u.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}}function i(e,t){var n=j.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=j[n],o in e&&e[o]!==r[o]&&!y.contains(t,o)&&t.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,c=Function.prototype,l=a.push,u=a.slice,h=s.toString,f=s.hasOwnProperty,p=Array.isArray,d=Object.keys,v=c.bind,m=Object.create,g=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},$=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return $(e,t,1/0)};var w=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}},k=function(e){if(!y.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,S=x("length"),C=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=_};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,r;if(C(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=y.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},y.map=y.collect=function(e,t,n){t=$(t,n);for(var i=!C(e)&&y.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;if(i=C(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==i&&i!==-1)return e[i]},y.filter=y.select=function(e,t,n){var i=[];return t=$(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate($(t)),n)},y.every=y.all=function(e,t,n){t=$(t,n);for(var i=!C(e)&&y.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=$(t,n);for(var i=!C(e)&&y.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return C(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=u.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=C(e)?e:y.values(e);for(var s=0,c=e.length;s<c;s++)i=e[s],i>o&&(o=i)}else t=$(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-(1/0)&&o===-(1/0))&&(o=e,a=r)});return o},y.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=C(e)?e:y.values(e);for(var s=0,c=e.length;s<c;s++)i=e[s],i<o&&(o=i)}else t=$(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},y.shuffle=function(e){for(var t,n=C(e)?e:y.values(e),i=n.length,r=Array(i),o=0;o<i;o++)t=y.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},y.sample=function(e,t,n){return null==t||n?(C(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=$(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var r={};return n=$(n,i),y.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};y.groupBy=E(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=E(function(e,t,n){e[n]=t}),y.countBy=E(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?u.call(e):C(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:C(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=$(t,n);var i=[],r=[];return y.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var T=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=S(e);a<s;a++){var c=e[a];if(C(c)&&(y.isArray(c)||y.isArguments(c))){t||(c=T(c,t,n));var l=0,u=c.length;for(r.length+=u;l<u;)r[o++]=c[l++]}else n||(r[o++]=c)}return r};y.flatten=function(e,t){return T(e,t,!1)},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=$(n,i));for(var r=[],o=[],a=0,s=S(e);a<s;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&o===l||r.push(c),o=l):n?y.contains(o,l)||(o.push(l),r.push(c)):y.contains(r,c)||r.push(c)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=S(e);i<r;i++){var o=e[i];if(!y.contains(t,o)){for(var a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=T(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,S).length||0,n=Array(t),i=0;i<t;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=S(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=$(n,i,1);for(var r=n(t),o=0,a=S(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var A=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=k(e.prototype),a=e.apply(o,r);return y.isObject(a)?a:o};y.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return A(e,i,t,this,n.concat(u.call(arguments)))};return i},y.partial=function(e){var t=u.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===y?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return A(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return y.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:y.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var l=y.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return i=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(c,u)),o}},y.debounce=function(e,t,n){var i,r,o,a,s,c=function(){var l=y.now()-a;l<t&&l>=0?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r),o=r=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return O&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=$(t,n);for(var i,r=y.keys(e),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=t(e[i],i,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(e,t,n){t=$(t,n);for(var i,r=y.keys(e),o=0,a=r.length;o<a;o++)if(i=r[o],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;y.isFunction(t)?(r=y.allKeys(a),i=b(t,n)):(r=T(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=r.length;s<c;s++){var l=r[s],u=a[l];i(u,l,a)&&(o[l]=u)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(T(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=w(y.allKeys,!0),y.create=function(e,t){var n=k(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var P=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=h.call(e);if(r!==h.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!P(e[c],t[c],n,i))return!1}else{var l,u=y.keys(e);if(c=u.length,y.keys(t).length!==c)return!1;for(;c--;)if(l=u[c],!y.has(t,l)||!P(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return P(e,t)},y.isEmpty=function(e){return null==e||(C(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===h.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&f.call(e,t)},y.noConflict=function(){return r._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=x,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=y.invert(M),I=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=I(M),y.unescape=I(L),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var F=0;y.uniqueId=function(e){var t=++F+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+R[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||D).source,(t.interpolate||D).source,(t.evaluate||D).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(V,B),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var c=function(e){return a.call(this,e,y)},l=t.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},y.chain=function(e){var t=y(e);return t._chain=!0,t};var N=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),N(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],N(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return N(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",c=o[1];for(s+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+r;return n<o.length?we(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.6.2/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(we(o[i]));return new t(s)}}function n(e){if(null==e||C(e))return!1;if(lr(e)||w(e)||Ji&&e instanceof Ji)return!0;var t="length"in Object(e)&&e.length;return k(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,r){var o,a;if(e)if(_(e))for(o in e)"prototype"!==o&&"length"!==o&&"name"!==o&&e.hasOwnProperty(o)&&t.call(r,e[o],o,e);else if(lr(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;o<a;o++)(s||o in e)&&t.call(r,e[o],o,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,r,e);else if($(e))for(o in e)t.call(r,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e);else for(o in e)qi.call(e,o)&&t.call(r,e[o],o,e);return e}function r(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function o(e){return function(t,n){e(n,t)}}function a(){return++sr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(b(a)||_(a))for(var l=Object.keys(a),u=0,h=l.length;u<h;u++){var f=l[u],p=a[f];n&&b(p)?x(p)?e[f]=new Date(p.valueOf()):S(p)?e[f]=new RegExp(p):p.nodeName?e[f]=p.cloneNode(!0):I(p)?e[f]=p.clone():(b(e[f])||(e[f]=lr(p)?[]:{}),c(e[f],[p],!0)):e[f]=p}}return s(e,i),e}function l(e){return c(e,er.call(arguments,1),!1)}function u(e){return c(e,er.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function f(e,t){return l(Object.create(e),t)}function p(){}function d(e){return e}function v(e){return function(){return e}}function m(e){return _(e.toString)&&e.toString!==ir}function g(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function $(e){return null!==e&&"object"==typeof e&&!rr(e)}function w(e){return"string"==typeof e}function k(e){return"number"==typeof e}function x(e){return"[object Date]"===ir.call(e)}function _(e){return"function"==typeof e}function S(e){return"[object RegExp]"===ir.call(e)}function C(e){return e&&e.window===e;
}function E(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===ir.call(e)}function A(e){return"[object FormData]"===ir.call(e)}function O(e){return"[object Blob]"===ir.call(e)}function j(e){return"boolean"==typeof e}function P(e){return e&&_(e.then)}function M(e){return e&&k(e.length)&&ur.test(ir.call(e))}function L(e){return"[object ArrayBuffer]"===ir.call(e)}function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function F(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function D(e){return Wi(e.nodeName||e[0]&&e[0].nodeName)}function R(e,t){return Array.prototype.indexOf.call(e,t)!==-1}function V(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function B(e,t){function n(e,t){var n,i=t.$$hashKey;if(lr(e))for(var o=0,a=e.length;o<a;o++)t.push(r(e[o]));else if($(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)qi.call(e,n)&&(t[n]=r(e[n]));return s(t,i),t}function r(e){if(!b(e))return e;var t=a.indexOf(e);if(t!==-1)return c[t];if(C(e)||E(e))throw or("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(e);return void 0===r&&(r=lr(e)?[]:Object.create(rr(e)),i=!0),a.push(e),c.push(r),i?n(e,r):r}function o(e){switch(ir.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(_(e.cloneNode))return e.cloneNode(!0)}var a=[],c=[];if(t){if(M(t)||L(t))throw or("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw or("cpi","Can't copy! Source and destination are identical.");return lr(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),c.push(t),n(e,t)}return r(e)}function N(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!lr(e)){if(x(e))return!!x(t)&&N(e.getTime(),t.getTime());if(S(e))return!!S(t)&&e.toString()===t.toString();if(E(e)||E(t)||C(e)||C(t)||lr(t)||x(t)||S(t))return!1;r=me();for(i in e)if("$"!==i.charAt(0)&&!_(e[i])){if(!N(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&y(t[i])&&!_(t[i]))return!1;return!0}if(!lr(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!N(e[i],t[i]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(er.call(t,n))}function U(e,t){return er.call(e,t||0)}function z(e,t){var n=arguments.length>2?U(arguments,2):[];return!_(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:C(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":E(n)&&(i="$SCOPE"),i}function W(e,t){if(!g(e))return k(t)||(t=t?2:null),JSON.stringify(e,q,t)}function G(e){return w(e)?JSON.parse(e):e}function K(e,t){e=e.replace(vr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return cr(n)?t:n}function Y(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function X(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=K(t,i);return Y(e,n*(r-i))}function J(e){e=Ji(e).clone();try{e.empty()}catch(t){}var n=Ji("<div>").append(e).html();try{return e[0].nodeType===kr?Wi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+Wi(t)})}catch(t){return Wi(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return i((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(i=e.substring(0,n),r=e.substring(n+1)),i=Q(i),y(i)&&(r=!y(r)||Q(r),qi.call(t,i)?lr(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function ee(e){var t=[];return i(e,function(e,n){lr(e)?i(e,function(e){t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}):t.push(ne(n,!0)+(e===!0?"":"="+ne(e,!0)))}),t.length?t.join("&"):""}function te(e){return ne(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ie(e,t){var n,i,r=mr.length;for(i=0;i<r;++i)if(n=mr[i]+t,w(n=e.getAttribute(n)))return n;return null}function re(e){var t=e.currentScript,n=t&&t.getAttribute("src");if(!n)return!0;var i=e.createElement("a");if(i.href=n,e.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function oe(t,n){var r,o,a={};if(i(mr,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,o=t.getAttribute(n))}),i(mr,function(e){var n,i=e+"app";!r&&(n=t.querySelector("["+i.replace(":","\\:")+"]"))&&(r=n,o=n.getAttribute(i))}),r){if(!gr)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ie(r,"strict-di"),n(r,o?[o]:[],a)}}function ae(t,n,r){b(r)||(r={});var o={strictDi:!1};r=l(o,r);var a=function(){if(t=Ji(t),t.injector()){var i=t[0]===e.document?"document":J(t);throw or("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=lt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!c.test(e.name)?a():(e.name=e.name.replace(c,""),ar.resumeBootstrap=function(e){return i(e,function(e){n.push(e)}),a()},void(_(ar.resumeDeferredBootstrap)&&ar.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ce(e){var t=ar.element(e).injector();if(!t)throw or("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(yr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!br){var n=dr();Qi=g(n)?e.jQuery:n?e[n]:void 0,Qi&&Qi.fn.on?(Ji=Qi,l(Qi.fn,{scope:Vr.scope,isolateScope:Vr.isolateScope,controller:Vr.controller,injector:Vr.injector,inheritedData:Vr.inheritedData}),t=Qi.cleanData,Qi.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)n=Qi._data(i,"events"),n&&n.$destroy&&Qi(i).triggerHandler("$destroy");t(e)}):Ji=Le,ar.element=Ji,br=!0}}function he(e,t,n){if(!e)throw or("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function fe(e,t,n){return n&&lr(e)&&(e=e[e.length-1]),he(_(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw or("badname","hasOwnProperty is not a valid {0} name",t)}function de(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&_(e)?z(o,e):e}function ve(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=Ji(er.call(e,0,r))),t.push(n));return t||e}function me(){return Object.create(null)}function ge(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!m(e)||lr(e)||x(e)?W(e):e.toString()}return e}function ye(e){function n(e,t,n){return e[t]||(e[t]=n())}var i=t("$injector"),r=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function n(e,n,i){return i||(i=r),function(r,o){return o&&_(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),u}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var r=[],s=[],c=[],l=e("$injector","invoke","push",s),u={_invokeQueue:r,_configBlocks:s,_runBlocks:c,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator",s),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:l,run:function(e){return c.push(e),this}};return a&&l(a),u})}})}function be(e,t){if(lr(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function $e(e){var t=[];return JSON.stringify(e,function(e,n){if(n=q(e,n),b(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function we(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):g(e)?"undefined":"string"!=typeof e?$e(e):e}function ke(n){l(n,{bootstrap:ae,copy:B,extend:l,merge:u,equals:N,element:Ji,forEach:i,injector:lt,noop:p,bind:z,toJson:W,fromJson:G,identity:d,isUndefined:g,isDefined:y,isString:w,isFunction:_,isObject:b,isNumber:k,isElement:I,isArray:lr,version:Cr,isDate:x,lowercase:Wi,uppercase:Gi,callbacks:{$$counter:0},getTestability:ce,reloadWithDebugInfo:se,$$minErr:t,$$csp:pr,$$encodeUriSegment:te,$$encodeUriQuery:ne,$$stringify:ge}),(Zi=ye(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:En}),e.provider("$compile",$t).directive({a:Yo,input:va,textarea:va,form:ta,script:ls,select:fs,option:ps,ngBind:ya,ngBindHtml:$a,ngBindTemplate:ba,ngClass:ka,ngClassEven:_a,ngClassOdd:xa,ngCloak:Sa,ngController:Ca,ngForm:na,ngHide:ns,ngIf:Aa,ngInclude:Oa,ngInit:Pa,ngNonBindable:Ga,ngPluralize:Ja,ngRepeat:Qa,ngShow:ts,ngStyle:is,ngSwitch:rs,ngSwitchWhen:os,ngSwitchDefault:as,ngOptions:Xa,ngTransclude:cs,ngModel:za,ngList:Ma,ngChange:wa,pattern:vs,ngPattern:vs,required:ds,ngRequired:ds,minlength:gs,ngMinlength:gs,maxlength:ms,ngMaxlength:ms,ngValue:ga,ngModelOptions:Wa}).directive({ngInclude:ja}).directive(Xo).directive(Ea),e.provider({$anchorScroll:ut,$animate:io,$animateCss:ao,$$animateJs:to,$$animateQueue:no,$$AnimateRunner:oo,$$animateAsyncRun:ro,$browser:mt,$cacheFactory:gt,$controller:Ct,$document:Et,$$isDocumentHidden:Tt,$exceptionHandler:At,$filter:Hn,$$forceReflow:po,$interpolate:Ut,$interval:zt,$http:Vt,$httpParamSerializer:jt,$httpParamSerializerJQLike:Pt,$httpBackend:Nt,$xhrFactory:Bt,$jsonpCallbacks:ko,$location:an,$log:sn,$parse:wn,$rootScope:Cn,$q:kn,$$q:xn,$sce:Pn,$sceDelegate:jn,$sniffer:Mn,$templateCache:yt,$templateRequest:Ln,$$testability:In,$timeout:Fn,$window:Vn,$$rAF:Sn,$$jqLite:nt,$$Map:qr,$$cookieReader:Nn})}])}function xe(){return++Tr}function _e(e){return Ce(e.replace(Or,"ms-"))}function Se(e,t){return t.toUpperCase()}function Ce(e){return e.replace(Ar,Se)}function Ee(e){return!Lr.test(e)}function Te(e){var t=e.nodeType;return t===$r||!t||t===_r}function Ae(e){for(var t in Er[e.ng339])return!0;return!1}function Oe(e){for(var t=0,n=e.length;t<n;t++)Re(e[t])}function je(e,t){var n,r,o,a,s=t.createDocumentFragment(),c=[];if(Ee(e))c.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(Ir.exec(e)||["",""])[1].toLowerCase(),o=Dr[r]||Dr._default,n.innerHTML=o[1]+e.replace(Fr,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;c=H(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(c,function(e){s.appendChild(e)}),s}function Pe(t,n){n=n||e.document;var i;return(i=Mr.exec(t))?[n.createElement(i[1])]:(i=je(t,n))?i.childNodes:[]}function Me(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Le(e){if(e instanceof Le)return e;var t;if(w(e)&&(e=hr(e),t=!0),!(this instanceof Le)){if(t&&"<"!==e.charAt(0))throw Pr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Le(e)}t?ze(this,Pe(e)):_(e)?Xe(e):ze(this,e)}function Ie(e){return e.cloneNode(!0)}function Fe(e,t){if(t||Re(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Re(n[i])}function De(e,t,n,r){if(y(r))throw Pr("offargs","jqLite#off() does not support the `selector` argument");var o=Ve(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var c=function(t){var i=a[t];y(n)&&V(i||[],n),y(n)&&i&&i.length>0||(e.removeEventListener(t,s),delete a[t])};i(t.split(" "),function(e){c(e),jr[e]&&c(jr[e])})}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,s),delete a[t]}function Re(e,t){var n=e.ng339,i=n&&Er[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),De(e)),delete Er[n],e.ng339=void 0}}function Ve(e,t){var n=e.ng339,i=n&&Er[n];return t&&!i&&(e.ng339=n=xe(),i=Er[n]={events:{},data:{},handle:void 0}),i}function Be(e,t,n){if(Te(e)){var i,r=y(n),o=!r&&t&&!b(t),a=!t,s=Ve(e,!o),c=s&&s.data;if(r)c[Ce(t)]=n;else{if(a)return c;if(o)return c&&c[Ce(t)];for(i in t)c[Ce(i)]=t[i]}}}function Ne(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function He(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",hr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+hr(t)+" "," ")))})}function Ue(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=hr(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",hr(n))}}function ze(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function qe(e,t){return We(e,"$"+(t||"ngController")+"Controller")}function We(e,t,n){e.nodeType===_r&&(e=e.documentElement);for(var i=lr(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(y(n=Ji.data(e,i[r])))return n;e=e.parentNode||e.nodeType===Sr&&e.host}}function Ge(e){for(Fe(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ke(e,t){t||Fe(e);var n=e.parentNode;n&&n.removeChild(e)}function Ye(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Ji(n).on("load",t)}function Xe(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Je(e,t){var n=Br[t.toLowerCase()];return n&&Nr[D(e)]&&n}function Qe(e){return Hr[e]}function Ze(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(g(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||et;o>1&&(r=be(r));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(e,n,r[c])}};return n.elem=e,n}function et(e,t,n){n.call(e,t)}function tt(e,t,n){var i=t.relatedTarget;i&&(i===e||Rr.call(e,i))||n.call(e,t)}function nt(){this.$get=function(){return l(Le,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ne(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ue(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)}})}}function it(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||a)():i+":"+e}function rt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ot(e){return Function.prototype.toString.call(e)}function at(e){var t=ot(e).replace(Xr,""),n=t.match(Wr)||t.match(Gr);return n}function st(e){var t=at(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ct(e,t,n){var r,o,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw w(n)&&n||(n=e.name||st(e)),Jr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=at(e),i(o[1].split(Kr),function(e){e.replace(Yr,function(e,t,n){r.push(n)})})}e.$inject=r}}else lr(e)?(a=e.length-1,fe(e[a],"fn"),r=e.slice(0,a)):fe(e,"fn",!0);return r}function lt(e,t){function n(e){return function(t,n){return b(t)?void i(t,o(e)):e(t,n)}}function r(e,t){if(pe(e,"service"),(_(t)||lr(t))&&(t=x.instantiate(t)),!t.$get)throw Jr("pget","Provider '{0}' must define $get factory method.",e);return k[e+m]=t}function a(e,t){return function(){var n=E.invoke(t,this);if(g(n))throw Jr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return r(e,{$get:n!==!1?a(e,t):t})}function c(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function l(e,t){return s(e,v(t),!1)}function u(e,t){pe(e,"constant"),k[e]=t,S[e]=t}function h(e,t){var n=x.get(e+m),i=n.$get;n.$get=function(){var e=E.invoke(i,n);return E.invoke(t,null,{$delegate:e})}}function f(e){he(g(e)||lr(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=x.get(i[0]);r[i[1]].apply(r,i[2])}}if(!$.get(e)){$.set(e,!0);try{w(e)?(t=Zi(e),n=n.concat(f(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):_(e)?n.push(x.invoke(e)):lr(e)?n.push(x.invoke(e)):fe(e,"module")}catch(r){throw lr(e)&&(e=e[e.length-1]),r.message&&r.stack&&r.stack.indexOf(r.message)===-1&&(r=r.message+"\n"+r.stack),Jr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,r.stack||r.message||r)}}}),n}function p(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw Jr("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=d,e[t]=n(t,i),e[t]}catch(r){throw e[t]===d&&delete e[t],r}finally{y.shift()}}function r(e,n,r){for(var o=[],a=lt.$$annotate(e,t,r),s=0,c=a.length;s<c;s++){var l=a[s];if("string"!=typeof l)throw Jr("itkn","Incorrect injection token! Expected service name as string, got {0}",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}function o(e){if(Xi||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return j(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(ot(e))),t}function a(e,t,n,i){"string"==typeof n&&(i=n,n=null);var a=r(e,n,i);return lr(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var i=lr(e)?e[e.length-1]:e,o=r(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:lt.$$annotate,has:function(t){return k.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var d={},m="Provider",y=[],$=new zr,k={$provide:{provider:n(r),factory:n(s),service:n(c),value:n(l),constant:n(u),decorator:h}},x=k.$injector=p(k,function(e,t){throw ar.isString(t)&&y.push(t),Jr("unpr","Unknown provider: {0}",y.join(" <- "))}),S={},C=p(S,function(e,t){var n=x.get(e+m,t);return E.invoke(n.$get,n,void 0,e)}),E=C;k["$injector"+m]={$get:v(C)};var T=f(e);return E=C.get("$injector"),E.strictDi=t,i(T,function(e){e&&E.invoke(e)}),E}function ut(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===D(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(_(e))e=e();else if(I(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else k(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:k(e)?e.toString():n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=r(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ye(function(){i.$evalAsync(s)})}),s}]}function ht(e,t){return e||t?e?t?(lr(e)&&(e=e.join(" ")),lr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ft(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Zr)return n}}function pt(e){w(e)&&(e=e.split(" "));var t=me();return i(e,function(e){e.length&&(t[e]=!0)}),t}function dt(e){return b(e)?e:{}}function vt(e,t,n,r){function o(e){try{e.apply(null,U(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){_=null,l()}function c(){$=S(),$=g($)?null:$,N($,T)&&($=T),T=$,w=$}function l(){var e=w;c(),k===u.url()&&e===$||(k=u.url(),w=$,i(C,function(e){e(u.url(),$)}))}var u=this,h=e.location,f=e.history,d=e.setTimeout,v=e.clearTimeout,m={};u.isMock=!1;var y=0,b=[];u.$$completeOutstandingRequest=o,u.$$incOutstandingRequestCount=function(){y++},u.notifyWhenNoOutstandingRequests=function(e){0===y?e():b.push(e)};var $,w,k=h.href,x=t.find("base"),_=null,S=r.history?function(){try{return f.state}catch(e){}}:p;c(),u.url=function(t,n,i){if(g(i)&&(i=null),h!==e.location&&(h=e.location),f!==e.history&&(f=e.history),t){var o=w===i;if(k===t&&(!r.history||o))return u;var s=k&&Xt(k)===Xt(t);return k=t,w=i,!r.history||s&&o?(s||(_=t),n?h.replace(t):s?h.hash=a(t):h.href=t,h.href!==t&&(_=t)):(f[n?"replaceState":"pushState"](i,"",t),c()),_&&(_=t),u}return _||h.href.replace(/%27/g,"'")},u.state=function(){return $};var C=[],E=!1,T=null;u.onUrlChange=function(t){return E||(r.history&&Ji(e).on("popstate",s),Ji(e).on("hashchange",s),E=!0),C.push(t),t},u.$$applicationDestroyed=function(){Ji(e).off("hashchange popstate",s)},u.$$checkUrlChange=l,u.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return y++,n=d(function(){delete m[n],o(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return!!m[e]&&(delete m[e],v(e),o(p),!0)}}function mt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new vt(e,i,t,n)}]}function gt(){this.$get=function(){function e(e,i){function r(e){e!==f&&(p?p===e&&(p=e.n):p=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=l({},i,{id:e}),c=me(),u=i&&i.capacity||Number.MAX_VALUE,h=me(),f=null,p=null;return n[e]={put:function(e,t){if(!g(t)){if(u<Number.MAX_VALUE){var n=h[e]||(h[e]={key:e});r(n)}return e in c||a++,c[e]=t,a>u&&this.remove(p.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=h[e];if(!t)return;r(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=h[e];if(!t)return;t===f&&(f=t.p),t===p&&(p=t.n),o(t.n,t.p),delete h[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=me(),a=0,h=me(),f=p=null},destroy:function(){c=null,s=null,h=null,delete n[e]},info:function(){return l({},s,{size:a})}}}var n={};return e.info=function(){var e={};return i(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function yt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function bt(){}function $t(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,o=me();return i(e,function(e,i){if(e in T)return void(o[i]=T[e]);var a=e.match(r);if(!a)throw so("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(T[e]=o[i])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(b(e.scope)&&(e.bindToController===!0?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),b(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw so("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function s(e){var t=e.charAt(0);if(!t||t!==Wi(t))throw so("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw so("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function c(e){var t=e.require||e.controller&&e.name;return!lr(t)&&b(t)&&i(t,function(e,n){var i=e.match(S),r=e.substring(i[0].length);r||(t[n]=i[0]+n)}),t}function u(e,t){if(e&&(!w(e)||!/[EACM]/.test(e)))throw so("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var h={},m="Directive",$=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,x=F("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/,T=me();this.directive=function I(e,n){return he(e,"name"),pe(e,"directive"),w(e)?(s(e),he(n,"directiveFactory"),h.hasOwnProperty(e)||(h[e]=[],t.factory(e+m,["$injector","$exceptionHandler",function(t,n){var r=[];return i(h[e],function(i,o){try{var a=t.invoke(i);_(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=c(a),a.restrict=u(a.restrict,e),a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),h[e].push(n)):i(e,o(I)),this},this.component=function(e,t){function n(e){function n(t){return _(t)||lr(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:St(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return i(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,_(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(e){return y(e)?(A=e,this):A};var O=!1;this.preAssignBindingsEnabled=function(e){return y(e)?(O=e,this):O};var P=10;this.onChangesTtl=function(e){return arguments.length?(P=e,this):P};var M=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(M=e,this):M};var L=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(L=e,this):L},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,o,s,c,u,v,T,I){function F(){try{if(!--Ae)throw xe=void 0,so("infchng","{0} $onChanges() iterations reached. Aborting!\n",P);u.$apply(function(){for(var e=[],t=0,n=xe.length;t<n;++t)try{xe[t]()}catch(i){e.push(i)}if(xe=void 0,e.length)throw e})}finally{Ae++}}function R(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function B(e,t,n){Se.innerHTML="<span "+t+">";var i=Se.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function H(e,t){try{e.addClass(t)}catch(n){}}function q(e,t,n,i,r){e instanceof Ji||(e=Ji(e));var o=G(e,t,e,n,i,r);q.$$addScopeClass(e);var a=null;return function(t,n,i){if(!e)throw so("multilink","This element has already been linked.");he(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,c=i.transcludeControllers,l=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=W(l));var u;if(u="html"!==a?Ji(ve(a,Ji("<div>").append(e).html())):n?Vr.clone.call(e):e,c)for(var h in c)u.data("$"+h+"Controller",c[h].instance);return q.$$addScopeInfo(u,t),n&&n(u,t),o&&o(t,u,u,s),n||(e=o=null),u}}function W(e){var t=e&&e[0];return t&&"foreignobject"!==D(t)&&ir.call(t).match(/SVG/)?"svg":"html"}function G(e,t,n,i,r,o){function a(e,n,i,r){var o,a,s,c,l,u,h,f,v;if(p){var m=n.length;for(v=new Array(m),l=0;l<d.length;l+=3)h=d[l],v[h]=n[h]}else v=n;for(l=0,u=d.length;l<u;)s=v[d[l++]],o=d[l++],a=d[l++],o?(o.scope?(c=e.$new(),q.$$addScopeInfo(Ji(s),c)):c=e,f=o.transcludeOnThisElement?Y(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?Y(e,t):null,o(a,c,s,i,f)):a&&a(e,s.childNodes,void 0,r)}for(var s,c,l,u,h,f,p,d=[],v=lr(e)||e instanceof Ji,m=0;m<e.length;m++)s=new R,11===Xi&&K(e,m,v),c=X(e[m],[],s,0===m?i:void 0,r),l=c.length?ne(c,e[m],s,t,n,null,[],[],o):null,l&&l.scope&&q.$$addScopeClass(s.$$element),h=l&&l.terminal||!(u=e[m].childNodes)||!u.length?null:G(u,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||h)&&(d.push(m,l,h),f=!0,p=p||l),o=null;return f?a:null}function K(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===kr)for(;;){if(i=o?r.nextSibling:e[t+1],!i||i.nodeType!==kr)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}}function Y(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=me();for(var o in t.$$slots)t.$$slots[o]?r[o]=Y(e,t.$$slots[o],n):r[o]=null;return i}function X(e,t,n,i,r){var o,a,s,c=e.nodeType,l=n.$attr;switch(c){case $r:a=D(e),ae(t,kt(a),"E",i,r);for(var u,h,f,p,d,v,m=e.attributes,g=0,y=m&&m.length;g<y;g++){var $=!1,x=!1;u=m[g],h=u.name,d=u.value,p=kt(h),v=Me.test(p),v&&(h=h.replace(lo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var _=p.match(Le);_&&se(_[1])&&($=h,x=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),f=kt(h.toLowerCase()),l[f]=h,!v&&n.hasOwnProperty(f)||(n[f]=d,Je(e,f)&&(n[f]=!0)),ye(e,t,d,f,v),ae(t,f,"A",i,r,$,x)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Te)break;if(s=e.className,b(s)&&(s=s.animVal),w(s)&&""!==s)for(;o=k.exec(s);)f=kt(o[2]),ae(t,f,"C",i,r)&&(n[f]=hr(o[3])),s=s.substr(o.index+o[0].length);break;case kr:de(t,e.nodeValue);break;case xr:if(!Ce)break;Q(e,t,n,i,r)}return t.sort(fe),t}function Q(e,t,n,i,r){try{var o=$.exec(e.nodeValue);if(o){var a=kt(o[1]);ae(t,a,"M",i,r)&&(n[a]=hr(o[2]))}}catch(s){}}function Z(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw so("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===$r&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return Ji(i)}function ee(e,t,n){return function(i,r,o,a,s){return r=Z(r[0],t,n),e(i,r,o,a,s)}}function te(e,t,n,i,r,o){var a;return e?q(t,n,i,r,o):function(){return a||(a=q(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ne(e,t,n,o,a,s,c,u,h){function f(e,t,n,i){e&&(n&&(e=ee(e,n,i)),e.require=d.require,e.directiveName=v,(S===d||d.$$isolateScope)&&(e=$e(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=ee(t,n,i)),t.require=d.require,t.directiveName=v,(S===d||d.$$isolateScope)&&(t=$e(t,{
isolateScope:!0})),u.push(t))}function p(e,o,a,s,h){function f(e,t,n,i){var r;if(E(e)||(i=n,n=t,t=e,e=void 0),P&&(r=$),n||(n=P?T.parent():T),!i)return h(e,t,r,n,V);var o=h.$$slots[i];if(o)return o(e,t,r,n,V);if(g(o))throw so("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,J(T))}var p,d,v,m,y,$,w,T,A,j;t===a?(A=n,T=n.$$element):(T=Ji(a),A=new R(T,n)),y=o,S?m=o.$new(!0):k&&(y=o.$parent),h&&(w=f,w.$$boundTransclude=h,w.isSlotFilled=function(e){return!!h.$$slots[e]}),x&&($=re(T,A,w,x,m,o,S)),S&&(q.$$addScopeInfo(T,m,!0,!(C&&(C===S||C===S.$$originalDirective))),q.$$addScopeClass(T,!0),m.$$isolateBindings=S.$$isolateBindings,j=ke(o,A,m,m.$$isolateBindings,S),j.removeWatches&&m.$on("$destroy",j.removeWatches));for(var M in $){var L=x[M],I=$[M],F=L.$$bindings.bindToController;if(O){F?I.bindingInfo=ke(y,A,I.instance,F,L):I.bindingInfo={};var D=I();D!==I.instance&&(I.instance=D,T.data("$"+L.name+"Controller",D),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=ke(y,A,I.instance,F,L))}else I.instance=I(),T.data("$"+L.name+"Controller",I.instance),I.bindingInfo=ke(y,A,I.instance,F,L)}for(i(x,function(e,t){var n=e.require;e.bindToController&&!lr(n)&&b(n)&&l($[t].instance,ie(t,n,T,$))}),i($,function(e){var t=e.instance;if(_(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){r(n)}if(_(t.$onInit))try{t.$onInit()}catch(n){r(n)}_(t.$doCheck)&&(y.$watch(function(){t.$doCheck()}),t.$doCheck()),_(t.$onDestroy)&&y.$on("$destroy",function(){t.$onDestroy()})}),p=0,d=c.length;p<d;p++)v=c[p],we(v,v.isolateScope?m:o,T,A,v.require&&ie(v.directiveName,v.require,T,$),w);var V=o;for(S&&(S.template||null===S.templateUrl)&&(V=m),e&&e(V,a.childNodes,void 0,h),p=u.length-1;p>=0;p--)v=u[p],we(v,v.isolateScope?m:o,T,A,v.require&&ie(v.directiveName,v.require,T,$),w);i($,function(e){var t=e.instance;_(t.$postLink)&&t.$postLink()})}h=h||{};for(var d,v,m,y,$,w=-Number.MAX_VALUE,k=h.newScopeDirective,x=h.controllerDirectives,S=h.newIsolateScopeDirective,C=h.templateDirective,T=h.nonTlbTranscludeDirective,A=!1,j=!1,P=h.hasElementTranscludeDirective,M=n.$$element=Ji(t),L=s,I=o,F=!1,V=!1,B=0,N=e.length;B<N;B++){d=e[B];var H=d.$$start,W=d.$$end;if(H&&(M=Z(t,H,W)),m=void 0,w>d.priority)break;if($=d.scope,$&&(d.templateUrl||(b($)?(pe("new/isolated scope",S||k,d,M),S=d):pe("new/isolated scope",S,d,M)),k=k||d),v=d.name,!F&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var G,K=B+1;G=e[K++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){V=!0;break}F=!0}if(!d.templateUrl&&d.controller&&(x=x||me(),pe("'"+v+"' controller",x[v],d,M),x[v]=d),$=d.transclude)if(A=!0,d.$$tlb||(pe("transclusion",T,d,M),T=d),"element"===$)P=!0,w=d.priority,m=M,M=n.$$element=Ji(q.$$createComment(v,n[v])),t=M[0],be(a,U(m),t),m[0].$$parentNode=m[0].parentNode,I=te(V,m,o,w,L&&L.name,{nonTlbTranscludeDirective:T});else{var Y=me();if(b($)){m=[];var Q=me(),ne=me();i($,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,Q[e]=t,Y[t]=null,ne[t]=n}),i(M.contents(),function(e){var t=Q[kt(D(e))];t?(ne[t]=!0,Y[t]=Y[t]||[],Y[t].push(e)):m.push(e)}),i(ne,function(e,t){if(!e)throw so("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var ae in Y)Y[ae]&&(Y[ae]=te(V,Y[ae],o))}else m=Ji(Ie(t)).contents();M.empty(),I=te(V,m,o,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),I.$$slots=Y}if(d.template)if(j=!0,pe("template",C,d,M),C=d,$=_(d.template)?d.template(M,n):d.template,$=Pe($),d.replace){if(L=d,m=Ee($)?[]:_t(ve(d.templateNamespace,hr($))),t=m[0],1!==m.length||t.nodeType!==$r)throw so("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v,"");be(a,M,t);var se={$attr:{}},le=X(t,[],se),he=e.splice(B+1,e.length-(B+1));(S||k)&&oe(le,S,k),e=e.concat(le).concat(he),ce(n,se),N=e.length}else M.html($);if(d.templateUrl)j=!0,pe("template",C,d,M),C=d,d.replace&&(L=d),p=ue(e.splice(B,e.length-B),M,n,a,A&&I,c,u,{controllerDirectives:x,newScopeDirective:k!==d&&k,newIsolateScopeDirective:S,templateDirective:C,nonTlbTranscludeDirective:T}),N=e.length;else if(d.compile)try{y=d.compile(M,n,I);var fe=d.$$originalDirective||d;_(y)?f(null,z(fe,y),H,W):y&&f(z(fe,y.pre),z(fe,y.post),H,W)}catch(de){r(de,J(M))}d.terminal&&(p.terminal=!0,w=Math.max(w,d.priority))}return p.scope=k&&k.scope===!0,p.transcludeOnThisElement=A,p.templateOnThisElement=j,p.transclude=I,h.hasElementTranscludeDirective=P,p}function ie(e,t,n,r){var o;if(w(t)){var a=t.match(S),s=t.substring(a[0].length),c=a[1]||a[3],l="?"===a[2];if("^^"===c?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var u="$"+s+"Controller";o=c?n.inheritedData(u):n.data(u)}if(!o&&!l)throw so("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(lr(t)){o=[];for(var h=0,f=t.length;h<f;h++)o[h]=ie(e,t[h],n,r)}else b(t)&&(o={},i(t,function(t,i){o[i]=ie(e,t,n,r)}));return o||null}function re(e,t,n,i,r,o,a){var s=me();for(var l in i){var u=i[l],h={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},f=u.controller;"@"===f&&(f=t[u.name]);var p=c(f,h,!0,u.controllerAs);s[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return s}function oe(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=f(e[i],{$$isolateScope:t,$$newScope:n})}function ae(e,n,i,r,o,s,c){if(n===o)return null;var l=null;if(h.hasOwnProperty(n))for(var u,p=t.get(n+m),d=0,v=p.length;d<v;d++)if(u=p[d],(g(r)||r>u.priority)&&u.restrict.indexOf(i)!==-1){if(s&&(u=f(u,{$$start:s,$$end:c})),!u.$$bindings){var y=u.$$bindings=a(u,u.name);b(y.isolateScope)&&(u.$$isolateBindings=y.isolateScope)}e.push(u),l=u}return l}function se(e){if(h.hasOwnProperty(e))for(var n,i=t.get(e+m),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function ce(e,t){var n=t.$attr,r=e.$attr;i(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))}),i(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ue(e,t,n,a,s,c,l,u){var h,p,d=[],v=t[0],m=e.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=_(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,$=m.templateNamespace;return t.empty(),o(y).then(function(r){var o,f,w,k;if(r=Pe(r),m.replace){if(w=Ee(r)?[]:_t(ve($,hr(r))),o=w[0],1!==w.length||o.nodeType!==$r)throw so("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);f={$attr:{}},be(a,t,o);var x=X(o,[],f);b(m.scope)&&oe(x,!0),e=x.concat(e),ce(n,f)}else o=v,t.html(r);for(e.unshift(g),h=ne(e,o,n,s,t,m,c,l,u),i(a,function(e,n){e===o&&(a[n]=t[0])}),p=G(t[0].childNodes,s);d.length;){var _=d.shift(),S=d.shift(),C=d.shift(),E=d.shift(),T=t[0];if(!_.$$destroyed){if(S!==v){var A=S.className;u.hasElementTranscludeDirective&&m.replace||(T=Ie(o)),be(C,Ji(S),T),H(Ji(T),A)}k=h.transcludeOnThisElement?Y(_,h.transclude,E):E,h(p,_,T,a,k)}}d=null})["catch"](function(e){e instanceof Error&&r(e)}),function(e,t,n,i,r){var o=r;t.$$destroyed||(d?d.push(t,n,i,o):(h.transcludeOnThisElement&&(o=Y(t,h.transclude,r)),h(p,t,n,i,o)))}}function fe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pe(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw so("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,J(i))}function de(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&q.$$addBindingClass(t),function(e,t){var r=t.parent();n||q.$$addBindingClass(r),q.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function ve(t,n){switch(t=Wi(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ge(e,t){if("srcdoc"===t)return v.HTML;var n=D(e);if("src"===t||"ngSrc"===t){if(["img","video","audio","source","track"].indexOf(n)===-1)return v.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return v.RESOURCE_URL}function ye(e,t,i,r,o){var a=ge(e,r),s=!o,c=x[r]||o,l=n(i,s,a,c);if(l){if("multiple"===r&&"select"===D(e))throw so("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));if(C.test(r))throw so("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,o){var s=o.$$observers||(o.$$observers=me()),u=o[r];u!==i&&(l=u&&n(u,!0,a,c),i=u),l&&(o[r]=l(e),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(l,function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)}))}}}})}}function be(t,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=i;for(var l=r,u=l+s-1,h=t.length;l<h;l++,u++)u<h?t[l]=t[u]:delete t[l];t.length-=s-1,t.context===a&&(t.context=i);break}c&&c.replaceChild(i,a);var f=e.document.createDocumentFragment();for(r=0;r<s;r++)f.appendChild(n[r]);for(Ji.hasData(a)&&(Ji.data(i,Ji.data(a)),Ji(a).off("$destroy")),Ji.cleanData(f.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function $e(e,t){return l(function(){return e.apply(null,arguments)},e,t)}function we(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,J(n))}}function ke(e,t,r,o,a){function c(t,n,i){!_(r.$onChanges)||n===i||n!==n&&i!==i||(xe||(e.$$postDigest(F),xe=[]),u||(u={},xe.push(l)),u[t]&&(i=u[t].previousValue),u[t]=new wt(i,n))}function l(){r.$onChanges(u),u=void 0}var u,h=[],f={};return i(o,function(i,o){var l,u,d,v,m,g=i.attrName,y=i.optional,b=i.mode;switch(b){case"@":y||qi.call(t,g)||(r[o]=t[g]=void 0),m=t.$observe(g,function(e){if(w(e)||j(e)){var t=r[o];c(o,e,t),r[o]=e}}),t.$$observers[g].$$scope=e,l=t[g],w(l)?r[o]=n(l)(e):j(l)&&(r[o]=l),f[o]=new wt(co,r[o]),h.push(m);break;case"=":if(!qi.call(t,g)){if(y)break;t[g]=void 0}if(y&&!t[g])break;u=s(t[g]),v=u.literal?N:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw l=r[o]=u(e),so("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,a.name)},l=r[o]=u(e);var $=function(t){return v(t,r[o])||(v(t,l)?d(e,t=r[o]):r[o]=t),l=t};$.$stateful=!0,m=i.collection?e.$watchCollection(t[g],$):e.$watch(s(t[g],$),null,u.literal),h.push(m);break;case"<":if(!qi.call(t,g)){if(y)break;t[g]=void 0}if(y&&!t[g])break;u=s(t[g]);var k=u.literal,x=r[o]=u(e);f[o]=new wt(co,r[o]),m=e.$watch(u,function(e,t){if(t===e){if(t===x||k&&N(t,x))return;t=x}c(o,e,t),r[o]=e},k),h.push(m);break;case"&":if(u=t.hasOwnProperty(g)?s(t[g]):p,u===p&&y)break;r[o]=function(t){return u(e,t)}}}),{initialChanges:f,removeWatches:h.length&&function(){for(var e=0,t=h.length;e<t;++e)h[e]()}}}var xe,_e=/^\w/,Se=e.document.createElement("div"),Ce=M,Te=L,Ae=P;R.prototype={$normalize:kt,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=xt(e,t);n&&n.length&&T.addClass(this.$$element,n);var i=xt(t,e);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(e,t,n,o){var a,s=this.$$element[0],c=Je(s,e),l=Qe(e),u=e;if(c?(this.$$element.prop(e,t),o=c):l&&(this[l]=t,u=l),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=le(e,"-"))),a=D(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=I(t,"src"===e);else if("img"===a&&"srcset"===e&&y(t)){for(var h="",f=hr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(f)?p:/(,)/,v=f.split(d),m=Math.floor(v.length/2),b=0;b<m;b++){var $=2*b;h+=I(hr(v[$]),!0),h+=" "+hr(v[$+1])}var w=hr(v[2*b]).split(/\s/);h+=I(hr(w[0]),!0),2===w.length&&(h+=" "+hr(w[1])),this[e]=t=h}n!==!1&&(null===t||g(t)?this.$$element.removeAttr(o):_e.test(o)?this.$$element.attr(o,t):B(this.$$element[0],o,t));var k=this.$$observers;k&&i(k[u],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=me()),r=i[e]||(i[e]=[]);return r.push(t),u.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||g(n[e])||t(n[e])}),function(){V(r,t)}}};var Oe=n.startSymbol(),je=n.endSymbol(),Pe="{{"===Oe&&"}}"===je?d:function(e){return e.replace(/\{\{/g,Oe).replace(/}}/g,je)},Me=/^ngAttr[A-Z]/,Le=/^(.+)Start$/;return q.$$addBindingInfo=A?function(e,t){var n=e.data("$binding")||[];lr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,q.$$addBindingClass=A?function(e){H(e,"ng-binding")}:p,q.$$addScopeInfo=A?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:p,q.$$addScopeClass=A?function(e,t){H(e,t?"ng-isolate-scope":"ng-scope")}:p,q.$$createComment=function(t,n){var i="";return A&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},q}]}function wt(e,t){this.previousValue=e,this.currentValue=t}function kt(e){return e.replace(lo,"").replace(uo,Se)}function xt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function _t(e){e=Ji(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===xr||n.nodeType===kr&&""===n.nodeValue.trim())&&tr.call(e,t,1)}return e}function St(e,t){if(t&&w(t))return t;if(w(e)){var n=fo.exec(e);if(n)return n[3]}}function Ct(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),b(t)?l(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(e,n,i,r){if(!e||!b(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);e.$scope[n]=i}return function(t,a,s,c){var u,h,f,p;if(s=s===!0,c&&w(c)&&(p=c),w(t)){if(h=t.match(fo),!h)throw ho("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(f=h[1],p=p||h[3],t=e.hasOwnProperty(f)?e[f]:de(a.$scope,f,!0)||(n?de(r,f,!0):void 0),!t)throw ho("ctrlreg","The controller with the name '{0}' is not registered.",f);fe(t,f,!0)}if(s){var d=(lr(t)?t[t.length-1]:t).prototype;return u=Object.create(d||null),p&&o(a,p,u,f||t.name),l(function(){var e=i.invoke(t,u,a,f);return e!==u&&(b(e)||_(e))&&(u=e,p&&o(a,p,u,f||t.name)),u},{instance:u,identifier:p})}return u=i.instantiate(t,a,f),p&&o(a,p,u,f||t.name),u}}]}function Et(){this.$get=["$window",function(e){return Ji(e.document)}]}function Tt(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function At(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Ot(e){return b(e)?x(e)?e.toISOString():W(e):e}function jt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return r(e,function(e,n){null===e||g(e)||(lr(e)?i(e,function(e){t.push(ne(n)+"="+ne(Ot(e)))}):t.push(ne(n)+"="+ne(Ot(e))))}),t.join("&")}}}function Pt(){this.$get=function(){return function(e){function t(e,o,a){null===e||g(e)||(lr(e)?i(e,function(e,n){t(e,o+"["+(b(e)?n:"")+"]")}):b(e)&&!x(e)?r(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(ne(o)+"="+ne(Ot(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Mt(e,t){if(w(e)){var n=e.replace(bo,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(vo)||Lt(n))&&(e=G(n))}}return e}function Lt(e){var t=e.match(go);return t&&yo[t[0]].test(e)}function It(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=me();return w(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Wi(hr(e.substr(0,n))),hr(e.substr(n+1)))}):b(e)&&i(e,function(e,n){t(Wi(n),hr(e))}),r}function Ft(e){var t;return function(n){if(t||(t=It(e)),n){var i=t[Wi(n)];return void 0===i&&(i=null),i}return t}}function Dt(e,t,n,r){return _(r)?r(e,t,n):(i(r,function(i){e=i(e,t,n)}),e)}function Rt(e){return 200<=e&&e<300}function Vt(){var e=this.defaults={transformResponse:[Mt],transformRequest:[function(e){return!b(e)||T(e)||O(e)||A(e)?e:W(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:be(mo),put:be(mo),patch:be(mo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(e){return y(e)?(n=!!e,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,s,c,u,h,f,d){function v(n){function r(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function a(){o.$$completeOutstandingRequest(p)}function s(e,t){var n,r={};return i(e,function(e,i){_(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function c(t){var n,i,r,o=e.headers,a=l({},t.headers);o=l({},o.common,o[Wi(t.method)]);e:for(n in o){i=Wi(n);for(r in a)if(Wi(r)===i)continue e;a[n]=o[n]}return s(a,be(t))}function u(t){var n=t.headers,r=Dt(t.data,Ft(n),void 0,t.transformRequest);return g(r)&&i(n,function(e,t){"content-type"===Wi(t)&&delete n[t]}),g(t.withCredentials)&&!g(e.withCredentials)&&(t.withCredentials=e.withCredentials),k(t,r).then(v,v)}function v(e){var t=l({},e);return t.data=Dt(e.data,e.headers,e.status,m.transformResponse),Rt(e.status)?t:h.reject(t)}if(!b(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(d.valueOf(n.url)))throw t("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var m=l({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},n);m.headers=c(n),m.method=Gi(m.method),m.paramSerializer=w(m.paramSerializer)?f.get(m.paramSerializer):m.paramSerializer,o.$$incOutstandingRequestCount();var y=[],$=[],x=h.resolve(m);return i(E,function(e){(e.request||e.requestError)&&y.unshift(e.request,e.requestError),(e.response||e.responseError)&&$.push(e.response,e.responseError)}),x=r(x,y),x=x.then(u),x=r(x,$),x=x["finally"](a)}function m(e){i(arguments,function(e){v[e]=function(t,n){return v(l({},n||{},{method:e,url:t}))}})}function $(e){i(arguments,function(e){v[e]=function(t,n,i){return v(l({},i||{},{method:e,url:t,data:n}))}})}function k(t,r){function o(e){if(e){var t={};return i(e,function(e,i){t[i]=function(t){function i(){e(t)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),t}}function c(e,t,i,r){function o(){l(t,e,i,r)}m&&(Rt(e)?m.put(A,[e,t,It(i),r]):m.remove(A)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(e,n,i,r){n=n>=-1?n:0,(Rt(n)?k.resolve:k.reject)({data:e,status:n,headers:Ft(i),config:t,statusText:r})}function f(e){l(e.data,e.status,be(e.headers()),e.statusText)}function p(){var e=v.pendingRequests.indexOf(t);e!==-1&&v.pendingRequests.splice(e,1)}var m,$,k=h.defer(),_=k.promise,E=t.headers,T="jsonp"===Wi(t.method),A=t.url;if(T?A=d.getTrustedResourceUrl(A):w(A)||(A=d.valueOf(A)),A=x(A,t.paramSerializer(t.params)),T&&(A=S(A,t.jsonpCallbackParam)),v.pendingRequests.push(t),_.then(p,p),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=b(t.cache)?t.cache:b(e.cache)?e.cache:C),m&&($=m.get(A),y($)?P($)?$.then(f,f):lr($)?l($[1],$[0],be($[2]),$[3]):l($,200,{},"OK"):m.put(A,_)),g($)){var O=Rn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;O&&(E[t.xsrfHeaderName||e.xsrfHeaderName]=O),a(t.method,A,r,c,E,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return _}function x(e,t){return t.length>0&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}function S(e,t){if(/[&?][^=]+=JSON_CALLBACK/.test(e))throw $o("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);var n=new RegExp("[&?]"+t+"=");if(n.test(e))throw $o("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e);return e+=(e.indexOf("?")===-1?"?":"&")+t+"=JSON_CALLBACK"}var C=c("$http");e.paramSerializer=w(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var E=[];return i(r,function(e){E.unshift(w(e)?f.get(e):f.invoke(e))}),v.pendingRequests=[],m("get","delete","head","jsonp"),$("post","put","patch"),v.defaults=e,v}]}function Bt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Nt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return Ht(e,i,e.defer,t,n[0])}]}function Ht(e,t,n,r,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){i.removeEventListener("load",a),i.removeEventListener("error",a),o.body.removeChild(i),i=null;var s=-1,c="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},i.addEventListener("load",a),i.addEventListener("error",a),o.body.appendChild(i),a}return function(o,s,c,l,u,h,f,p,d,v){function m(){w&&w(),k&&k.abort()}function b(e,t,i,r,o){y(S)&&n.cancel(S),w=k=null,e(t,i,r,o)}if(s=s||e.url(),"jsonp"===Wi(o))var $=r.createCallback(s),w=a(s,$,function(e,t){var n=200===e&&r.getResponse($);b(l,e,n,"",t),r.removeCallback($)});else{var k=t(o,s);k.open(o,s,!0),i(u,function(e,t){y(e)&&k.setRequestHeader(t,e)}),k.onload=function(){var e=k.statusText||"",t="response"in k?k.response:k.responseText,n=1223===k.status?204:k.status;0===n&&(n=t?200:"file"===Dn(s).protocol?404:0),b(l,n,t,k.getAllResponseHeaders(),e)};var x=function(){b(l,-1,null,null,"")};if(k.onerror=x,k.onabort=x,k.ontimeout=x,i(d,function(e,t){k.addEventListener(t,e)}),i(v,function(e,t){k.upload.addEventListener(t,e)}),f&&(k.withCredentials=!0),p)try{k.responseType=p}catch(_){if("json"!==p)throw _}k.send(g(c)?null:c)}if(h>0)var S=n(m,h);else P(h)&&h.then(m)}}function Ut(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(p,t)}function s(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function c(o,c,f,p){function d(e){try{return e=j(e),p&&!y(e)?e:ge(e)}catch(t){i(wo.interr(o,t))}}if(!o.length||o.indexOf(e)===-1){var m;if(!c){var b=a(o);m=v(b),m.exp=o,m.expressions=[],m.$$watchDelegate=s}return m}p=!!p;for(var $,w,k,x=0,S=[],C=[],E=o.length,T=[],A=[];x<E;){if(($=o.indexOf(e,x))===-1||(w=o.indexOf(t,$+u))===-1){x!==E&&T.push(a(o.substring(x)));break}x!==$&&T.push(a(o.substring(x,$))),k=o.substring($+u,w),S.push(k),C.push(n(k,d)),x=w+h,A.push(T.length),T.push("")}if(f&&T.length>1&&wo.throwNoconcat(o),!c||S.length){var O=function(e){for(var t=0,n=S.length;t<n;t++){if(p&&g(e[t]))return;T[A[t]]=e[t]}return T.join("")},j=function(e){return f?r.getTrusted(f,e):r.valueOf(e)};return l(function(e){var t=0,n=S.length,r=new Array(n);try{for(;t<n;t++)r[t]=C[t](e);return O(r)}catch(a){i(wo.interr(o,a))}},{exp:o,expressions:S,$$watchDelegate:function(e,t){var n;return e.$watchGroup(C,function(i,r){var o=O(i);_(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var u=e.length,h=t.length,f=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function zt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,s,c,l){function u(){h?o.apply(null,f):o(v)}var h=arguments.length>4,f=h?U(arguments,4):[],p=t.setInterval,d=t.clearInterval,v=0,m=y(l)&&!l,g=(m?i:n).defer(),b=g.promise;return c=y(c)?c:0,b.$$intervalId=p(function(){m?r.defer(u):e.$evalAsync(u),g.notify(v++),c>0&&v>=c&&(g.resolve(v),d(b.$$intervalId),delete a[b.$$intervalId]),m||e.$apply()},s),a[b.$$intervalId]=g,b}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].promise["catch"](p),a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function qt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=te(t[n]);return t.join("/")}function Wt(e,t){var n=Dn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||_o[n.protocol]||null}function Gt(e,t){if(Co.test(e))throw So("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Dn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Z(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Kt(e,t){return e.slice(0,t.length)===t}function Yt(e,t){if(Kt(t,e))return t.substr(e.length)}function Xt(e){var t=e.indexOf("#");return t===-1?e:e.substr(0,t)}function Jt(e){return e.replace(/(#.+)|#$/,"$1")}function Qt(e){return e.substr(0,Xt(e).lastIndexOf("/")+1)}function Zt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function en(e,t,n){this.$$html5=!0,n=n||"",Wt(e,this),this.$$parse=function(e){var n=Yt(t,e);if(!w(n))throw So("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Gt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ee(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=qt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=Yt(e,i))?(a=o,s=n&&y(o=Yt(n,o))?t+(Yt("/",o)||o):e+a):y(o=Yt(t,i))?s=t+o:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function tn(e,t,n){Wt(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return Kt(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,a=Yt(e,i)||Yt(t,i);g(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",g(a)&&(e=i,this.replace())):(o=Yt(n,a),g(o)&&(o=a)),Gt(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=ee(this.$$search),i=this.$$hash?"#"+te(this.$$hash):"";this.$$url=qt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return Xt(e)===Xt(t)&&(this.$$parse(t),!0)}}function nn(e,t,n){this.$$html5=!0,tn.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e===Xt(i)?o=i:(a=Yt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ee(this.$$search),i=this.$$hash?"#"+te(this.$$hash):"";this.$$url=qt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function rn(e){return function(){return this[e]}}function on(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function an(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return j(e)?(t.enabled=e,this):b(e)?(j(e.enabled)&&(t.enabled=e.enabled),j(e.requireBase)&&(t.requireBase=e.requireBase),(j(e.rewriteLinks)||w(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=l.url(),o=l.$$state;try{i.url(e,t,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u,h,f=i.baseHref(),p=i.url();if(t.enabled){if(!f&&t.requireBase)throw So("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Zt(p)+(f||"/"),u=r.history?en:nn}else h=Xt(p),u=tn;var d=Qt(h);l=new u(h,d,"#"+e),l.$$parseLinkUrl(p,p),l.$$state=i.state();var v=/^\s*(javascript|mailto):/i;o.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=Ji(e.target);"a"!==D(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!w(r)||!g(s.attr(r))){var c=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");b(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Dn(c.animVal).href),v.test(c)||!c||s.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(c,u)&&(e.preventDefault(),l.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Jt(l.absUrl())!==Jt(p)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){return Kt(e,d)?(n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;e=Jt(e),l.$$parse(e),l.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,l.absUrl()===e&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(m=!1,c(r,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=e)}),n.$watch(function(){if(m||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=Jt(i.url()),t=Jt(l.absUrl()),o=i.state(),a=l.$$replace,u=e!==t||l.$$html5&&r.history&&o!==l.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=l.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(i?(l.$$parse(e),l.$$state=o):(u&&s(t,a,o===l.$$state?null:l.$$state),c(e,o)))}))}l.$$replace=!1}),l}]}function sn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||p,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function cn(e){return e+""}function ln(e,t){return"undefined"!=typeof e?e:t}function un(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function hn(e,t){var n=e(t);return!n.$stateful}function fn(e,t){var n,r,o;switch(e.type){case Mo.Program:n=!0,i(e.body,function(e){fn(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Mo.Literal:e.constant=!0,e.toWatch=[];break;case Mo.UnaryExpression:fn(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Mo.BinaryExpression:fn(e.left,t),fn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Mo.LogicalExpression:fn(e.left,t),fn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Mo.ConditionalExpression:fn(e.test,t),fn(e.alternate,t),fn(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Mo.Identifier:e.constant=!1,e.toWatch=[e];break;case Mo.MemberExpression:fn(e.object,t),e.computed&&fn(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Mo.CallExpression:o=!!e.filter&&hn(t,e.callee.name),n=o,r=[],i(e.arguments,function(e){fn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=o?r:[e];break;case Mo.AssignmentExpression:fn(e.left,t),fn(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Mo.ArrayExpression:n=!0,r=[],i(e.elements,function(e){fn(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Mo.ObjectExpression:n=!0,r=[],i(e.properties,function(e){fn(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch),e.computed&&(fn(e.key,t),e.key.constant||r.push.apply(r,e.key.toWatch))}),e.constant=n,e.toWatch=r;break;case Mo.ThisExpression:e.constant=!1,e.toWatch=[];break;case Mo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function pn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0;
}}function dn(e){return e.type===Mo.Identifier||e.type===Mo.MemberExpression}function vn(e){if(1===e.body.length&&dn(e.body[0].expression))return{type:Mo.AssignmentExpression,left:e.body[0].expression,right:{type:Mo.NGValueParameter},operator:"="}}function mn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Mo.Literal||e.body[0].expression.type===Mo.ArrayExpression||e.body[0].expression.type===Mo.ObjectExpression)}function gn(e){return e.constant}function yn(e,t){this.astBuilder=e,this.$filter=t}function bn(e,t){this.astBuilder=e,this.$filter=t}function $n(e){return _(e.valueOf)?e.valueOf():Ao.call(e)}function wn(){var e,t,n=me(),r={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(o){function a(e,t){var i,r,a;switch(typeof e){case"string":if(e=e.trim(),a=e,i=n[a],!i){":"===e.charAt(0)&&":"===e.charAt(1)&&(r=!0,e=e.substring(2));var s=new Po(v),d=new Lo(s,o,v);i=d.parse(e),i.constant?i.$$watchDelegate=h:r?i.$$watchDelegate=i.literal?u:l:i.inputs&&(i.$$watchDelegate=c),n[a]=i}return f(i,t);case"function":return f(e,t);default:return f(p,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&!n&&(e=$n(e),"object"==typeof e))&&(e===t||e!==e&&t!==t)}function c(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var c=s;return a=a[0],e.$watch(function(e){var t=a(e);return s(t,c,i.literal)||(o=i(e,void 0,void 0,[t]),c=t&&$n(t)),o},t,n,r)}for(var l=[],u=[],h=0,f=a.length;h<f;h++)l[h]=s,u[h]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;n<r;n++){var c=a[n](e);(t||(t=!s(c,l[n],i.literal)))&&(u[n]=c,l[n]=c&&$n(c))}return t&&(o=i(e,void 0,void 0,u)),o},t,n,r)}function l(e,t,n,i,r){function o(e){return i(e)}function a(e,n,i){l=e,_(t)&&t(e,n,i),y(e)&&i.$$postDigest(function(){y(l)&&s()})}var s,l;return s=i.inputs?c(e,a,n,i,r):e.$watch(o,a,n)}function u(e,t,n,r){function o(e){var t=!0;return i(e,function(e){y(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,i){s=e,_(t)&&t(e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&a()})},n)}function h(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function f(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==u&&n!==l,o=r?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return y(a)?s:a};return i=!e.inputs,e.$$watchDelegate&&e.$$watchDelegate!==c?(o.$$watchDelegate=e.$$watchDelegate,o.inputs=e.inputs):t.$stateful||(o.$$watchDelegate=c,o.inputs=e.inputs?e.inputs:[e]),o}var d=pr().noUnsafeEval,v={csp:d,literals:B(r),isIdentifierStart:_(e)&&e,isIdentifierContinue:_(t)&&t};return a}]}function kn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return _n(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function xn(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return _n(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function _n(e,n,r){function o(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){f(e,t)},this.reject=function(t){d(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function c(t){var n,i,o;o=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){t.pur=!0,i=o[a][0],n=o[a][t.status];try{_(n)?f(i,n(t.value)):1===t.status?f(i,t.value):d(i,t.value)}catch(c){d(i,c)}}}finally{--E,r&&0===E&&e(u)}}function u(){for(;!E&&T.length;){var e=T.shift();if(!e.pur){e.pur=!0;var t="Possibly unhandled rejection: "+we(e.value);e.value instanceof Error?n(e.value,t):n(t)}}}function h(t){!r||t.pending||2!==t.status||t.pur||(0===E&&0===T.length&&e(u),T.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++E,e(function(){c(t)}))}function f(e,t){e.$$state.status||(t===e?v(e,C("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){function n(t){a||(a=!0,p(e,t))}function i(t){a||(a=!0,v(e,t))}function r(t){m(e,t)}var o,a=!1;try{(b(t)||_(t))&&(o=t.then),_(o)?(e.$$state.status=-1,o.call(t,n,i,r)):(e.$$state.value=t,e.$$state.status=1,h(e.$$state))}catch(s){i(s)}}function d(e,t){e.$$state.status||v(e,t)}function v(e,t){e.$$state.value=t,e.$$state.status=2,h(e.$$state)}function m(t,i){var r=t.$$state.pending;t.$$state.status<=0&&r&&r.length&&e(function(){for(var e,t,o=0,a=r.length;o<a;o++){t=r[o][0],e=r[o][3];try{m(t,_(e)?e(i):i)}catch(s){n(s)}}})}function y(e){var t=new s;return d(t,e),t}function $(e,t,n){var i=null;try{_(n)&&(i=n())}catch(r){return y(r)}return P(i)?i.then(function(){return t(e)},y):t(e)}function w(e,t,n,i){var r=new s;return f(r,e),r.then(t,n,i)}function k(e){var t=new s,n=0,r=lr(e)?[]:{};return i(e,function(e,i){n++,w(e).then(function(e){r[i]=e,--n||f(t,r)},function(e){d(t,e)})}),0===n&&f(t,r),t}function x(e){var t=o();return i(e,function(e){w(e).then(t.resolve,t.reject)}),t.promise}function S(e){function t(e){f(i,e)}function n(e){d(i,e)}if(!_(e))throw C("norslvr","Expected resolverFn, got '{0}'",e);var i=new s;return e(t,n),i}var C=t("$q",TypeError),E=0,T=[];l(s.prototype,{then:function(e,t,n){if(g(e)&&g(t)&&g(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&h(this.$$state),i},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return $(t,A,e)},function(t){return $(t,y,e)},t)}});var A=w;return S.prototype=s.prototype,S.defer=o,S.reject=y,S.when=w,S.resolve=A,S.all=k,S.race=x,S}function Sn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Cn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var r=10,o=t("$rootScope"),s=null,c=null;this.digestTtl=function(e){return arguments.length&&(r=e),r},this.$get=["$exceptionHandler","$parse","$browser",function(t,l,u){function h(e){e.currentScope.$$destroyed=!0}function f(e){9===Xi&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function d(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function v(e){if(S.$$phase)throw o("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function m(){S.$$phase=null}function y(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function $(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function w(){}function k(){for(;T.length;)try{T.shift()()}catch(e){t(e)}c=null}function x(){null===c&&(c=u.defer(function(){S.$apply(k)}))}d.prototype={constructor:d,$new:function(t,n){var i;return n=n||this,t?(i=new d,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",h),i},$watch:function(e,t,n,i){var r=l(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,c={fn:t,last:w,get:r,exp:i||e,eq:!!n};return s=null,_(t)||(c.fn=p),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(c),a.$$digestWatchIndex++,y(this,1),function(){var e=V(a,c);e>=0&&(y(o,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,c=!1,l=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,c||(c=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function i(e){o=e;var t,i,r,s,c;if(!g(o)){if(b(o))if(n(o)){a!==p&&(a=p,m=a.length=0,h++),t=o.length,m!==t&&(h++,a.length=m=t);for(var l=0;l<t;l++)c=a[l],s=o[l],r=c!==c&&s!==s,r||c===s||(h++,a[l]=s)}else{a!==d&&(a=d={},m=0,h++),t=0;for(i in o)qi.call(o,i)&&(t++,s=o[i],c=a[i],i in a?(r=c!==c&&s!==s,r||c===s||(h++,a[i]=s)):(m++,a[i]=s,h++));if(m>t){h++;for(i in a)qi.call(o,i)||(m--,delete a[i])}}else a!==o&&(a=o,h++);return h}}function r(){if(v?(v=!1,t(o,o,c)):t(o,s,c),u)if(b(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var i in o)qi.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,c=this,u=t.length>1,h=0,f=l(e,i),p=[],d={},v=!0,m=0;return this.$watch(f,r)},$digest:function(){var e,n,i,a,l,h,f,p,d,g,y,b=r,$=this,x=[];v("$digest"),u.$$checkUrlChange(),this===S&&null!==c&&(u.defer.cancel(c),k()),s=null;do{f=!1,d=$;for(var T=0;T<C.length;T++){try{y=C[T],y.scope.$eval(y.expression,y.locals)}catch(O){t(O)}s=null}C.length=0;e:do{if(h=d.$$watchers)for(h.$$digestWatchIndex=h.length;h.$$digestWatchIndex--;)try{if(e=h[h.$$digestWatchIndex])if(l=e.get,(n=l(d))===(i=e.last)||(e.eq?N(n,i):cr(n)&&cr(i))){if(e===s){f=!1;break e}}else f=!0,s=e,e.last=e.eq?B(n,null):n,a=e.fn,a(n,i===w?n:i,d),b<5&&(g=4-b,x[g]||(x[g]=[]),x[g].push({msg:_(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:i}))}catch(O){t(O)}if(!(p=d.$$watchersCount&&d.$$childHead||d!==$&&d.$$nextSibling))for(;d!==$&&!(p=d.$$nextSibling);)d=d.$parent}while(d=p);if((f||C.length)&&!b--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,x)}while(f||C.length);for(m();A<E.length;)try{E[A++]()}catch(O){t(O)}E.length=A=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&u.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)$(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){S.$$phase||C.length||u.defer(function(){C.length&&S.$digest()}),C.push({scope:this,expression:l(e),locals:t})},$$postDigest:function(e){E.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{m()}}catch(n){t(n)}finally{try{S.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=l(e),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);i!==-1&&(n[i]=null,$(r,1,e))}},$emit:function(e,n){var i,r,o,a=[],s=this,c=!1,l={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=H([l],arguments,1);do{for(i=s.$$listeners[e]||a,l.currentScope=s,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,u)}catch(h){t(h)}else i.splice(r,1),r--,o--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,n){var i=this,r=i,o=i,a={name:e,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return a;for(var s,c,l,u=H([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[e]||[],c=0,l=s.length;c<l;c++)if(s[c])try{s[c].apply(null,u)}catch(h){t(h)}else s.splice(c,1),c--,l--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var S=new d,C=S.$$asyncQueue=[],E=S.$$postDigestQueue=[],T=S.$$applyAsyncQueue=[],A=0;return S}]}function En(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Dn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Tn(e){return e.replace(Do,Se)}function An(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw Io("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=fr(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw Io("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function On(e){var t=[];return y(e)&&i(e,function(e){t.push(An(e))}),t}function jn(){this.SCE_CONTEXTS=Fo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=On(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=On(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?Rn(t):!!e.exec(t.href)}function r(n){var r,o,a=Dn(n.toString()),s=!1;for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=h.hasOwnProperty(e)?h[e]:null;if(!n)throw Io("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||g(t)||""===t)return t;if("string"!=typeof t)throw Io("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||g(t)||""===t)return t;var n=h.hasOwnProperty(e)?h[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Fo.RESOURCE_URL){if(r(t))return t;throw Io("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Fo.HTML)return l(t);throw Io("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(e){throw Io("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var u=o(),h={};return h[Fo.HTML]=o(u),h[Fo.CSS]=o(u),h[Fo.URL]=o(u),h[Fo.JS]=o(u),h[Fo.RESOURCE_URL]=o(h[Fo.URL]),{trustAs:a,getTrusted:c,valueOf:s}}]}function Pn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Xi<8)throw Io("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=be(Fo);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=d),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(Fo,function(e,t){var n=Wi(t);r[Tn("parse_as_"+n)]=function(t){return o(e,t)},r[Tn("get_trusted_"+n)]=function(t){return a(e,t)},r[Tn("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Mn(){this.$get=["$window","$document",function(e,t){var n={},i=e.nw&&e.nw.process,r=!i&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),o=!r&&e.history&&e.history.pushState,a=h((/android (\d+)/.exec(Wi((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},l=c.body&&c.body.style,u=!1,f=!1;return l&&(u=!!("transition"in l||"webkitTransition"in l),f=!!("animation"in l||"webkitAnimation"in l)),{history:!(!o||a<4||s),hasEvent:function(e){if("input"===e&&Xi)return!1;if(g(n[e])){var t=c.createElement("div");n[e]="on"+e in t}return n[e]},csp:pr(),transitions:u,animations:f,android:a}}]}function Ln(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function a(s,c){function u(e){return c||(e=Ro("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),r.reject(e)}a.totalPendingRequests++,w(s)&&!g(n.get(s))||(s=o.getTrustedResourceUrl(s));var h=i.defaults&&i.defaults.transformResponse;return lr(h)?h=h.filter(function(e){return e!==Mt}):h===Mt&&(h=null),i.get(s,l({cache:n,transformResponse:h},e))["finally"](function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},u)}return a.totalPendingRequests=0,a}]}function In(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=ar.element(e).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+fr(t)+"(\\s|\\||$)");r.test(i)&&o.push(e)}else i.indexOf(t)!==-1&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Fn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,c){_(o)||(c=s,s=o,o=p);var l,u=U(arguments,3),h=y(c)&&!c,f=(h?i:n).defer(),d=f.promise;return l=t.defer(function(){try{f.resolve(o.apply(null,u))}catch(t){f.reject(t),r(t)}finally{delete a[d.$$timeoutId]}h||e.$apply()},s),d.$$timeoutId=l,a[l]=f,d}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].promise["catch"](p),a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Dn(e){var t=e;return Xi&&(Vo.setAttribute("href",t),t=Vo.href),Vo.setAttribute("href",t),{href:Vo.href,protocol:Vo.protocol?Vo.protocol.replace(/:$/,""):"",host:Vo.host,search:Vo.search?Vo.search.replace(/^\?/,""):"",hash:Vo.hash?Vo.hash.replace(/^#/,""):"",hostname:Vo.hostname,port:Vo.port,pathname:"/"===Vo.pathname.charAt(0)?Vo.pathname:"/"+Vo.pathname}}function Rn(e){var t=w(e)?Dn(e):e;return t.protocol===Bo.protocol&&t.host===Bo.host}function Vn(){this.$get=v(e)}function Bn(e){function t(e){try{return e.cookie||""}catch(t){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},o="";return function(){var e,a,s,c,l,u=t(i);if(u!==o)for(o=u,e=o.split("; "),r={},s=0;s<e.length;s++)a=e[s],c=a.indexOf("="),c>0&&(l=n(a.substring(0,c)),g(r[l])&&(r[l]=n(a.substring(c+1))));return r}}function Nn(){this.$get=Bn}function Hn(e){function t(r,o){if(b(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Gn),t("date",ci),t("filter",Un),t("json",li),t("limitTo",ui),t("lowercase",Go),t("number",Kn),t("orderBy",fi),t("uppercase",Ko)}function Un(){return function(e,i,r,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,c=Wn(i);switch(c){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=zn(i,r,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function zn(e,t,n,i){var r,o=b(e)&&n in e;return t===!0?t=N:_(t)||(t=function(e,t){return!g(e)&&(null===e||null===t?e===t:!(b(t)||b(e)&&!m(e))&&(e=Wi(""+e),t=Wi(""+t),e.indexOf(t)!==-1))}),r=function(r){return o&&!b(r)?qn(r,e[n],t,n,!1):qn(r,e,t,n,i)}}function qn(e,t,n,i,r,o){var a=Wn(e),s=Wn(t);if("string"===s&&"!"===t.charAt(0))return!qn(e,t.substring(1),n,i,r);if(lr(e))return e.some(function(e){return qn(e,t,n,i,r)});switch(a){case"object":var c;if(r){for(c in e)if("$"!==c.charAt(0)&&qn(e[c],t,n,i,!0))return!0;return!o&&qn(e,t,n,i,!1)}if("object"===s){for(c in t){var l=t[c];if(!_(l)&&!g(l)){var u=c===i,h=u?e:e[c];if(!qn(h,l,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Wn(e){return null===e?"null":typeof e}function Gn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return g(n)&&(n=t.CURRENCY_SYM),g(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:Jn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Kn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Jn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Yn(e){var t,n,i,r,o,a=0;for((n=e.indexOf(Ho))>-1&&(e=e.replace(Ho,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Uo;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Uo;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>No&&(t=t.splice(0,No-1),a=n-1,n=1),{d:t,e:a,i:n}}function Xn(e,t,n,i){var r=e.d,o=r.length-e.i;t=g(t)?Math.min(Math.max(n,o),i):+t;var a=t+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var c=a;c<r.length;c++)r[c]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var h=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);h&&(r.unshift(h),e.i++)}function Jn(e,t,n,i,r){if(!w(e)&&!k(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,c=Math.abs(e)+"",l="";if(a)l="∞";else{o=Yn(c),Xn(o,r,t.minFrac,t.maxFrac);var u=o.d,h=o.i,f=o.e,p=[];for(s=u.reduce(function(e,t){return e&&!t},!0);h<0;)u.unshift(0),h++;h>0?p=u.splice(h,u.length):(p=u,u=[0]);var d=[];for(u.length>=t.lgSize&&d.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)d.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&d.unshift(u.join("")),l=d.join(n),p.length&&(l+=i+p.join("")),f&&(l+="e+"+f)}return e<0&&!s?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Qn(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=Uo+e;return n&&(e=e.substr(e.length-t)),r+e}function Zn(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),Qn(a,t,i,r)}}function ei(e,t,n){return function(i,r){var o=i["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Gi(a+e);return r[s][o]}}function ti(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=Qn(Math[i>0?"floor":"ceil"](i/60),2)+Qn(Math.abs(i%60),2)}function ni(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ii(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ri(e){return function(t){var n=ni(t.getFullYear()),i=ii(t),r=+i-+n,o=1+Math.round(r/6048e5);return Qn(o,e)}}function oi(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ai(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function si(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function ci(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(i,h(t[1]),h(t[2])-1,h(t[3]));var c=h(t[4]||0)-r,l=h(t[5]||0)-o,u=h(t[6]||0),f=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,c,l,u,f),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=Wo.test(n)?h(n):t(n)),k(n)&&(n=new Date(n)),!x(n)||!isFinite(n.getTime()))return n;for(;r;)s=qo.exec(r),s?(l=H(l,s,1),r=l.pop()):(l.push(r),r=null);var u=n.getTimezoneOffset();return o&&(u=K(o,u),n=X(n,o,!0)),i(l,function(t){a=zo[t],c+=a?a(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function li(){return function(e,t){return g(t)&&(t=2),W(e,t)}}function ui(){return function(e,t,i){return t=Math.abs(Number(t))===1/0?Number(t):h(t),cr(t)?e:(k(e)&&(e=e.toString()),n(e)?(i=!i||isNaN(i)?0:h(i),i=i<0?Math.max(0,e.length+i):i,t>=0?hi(e,i,i+t):0===i?hi(e,t,e.length):hi(e,Math.max(0,i+t),i)):e)}}function hi(e,t,n){return w(e)?e.slice(t,n):er.call(e,t,n)}function fi(e){function i(t){return t.map(function(t){var n=1,i=d;if(_(t))i=t;else if(w(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return _(e.valueOf)&&(e=e.valueOf(),r(e))?e:m(e)&&(e=e.toString(),r(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(b(o)&&(o=e.index),b(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}return function(e,r,o,c){function l(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:h.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,i=h.length;n<i;n++){var r=p(e.predicateValues[n],t.predicateValues[n]);if(r)return r*h[n].descending*f}return p(e.tieBreaker,t.tieBreaker)*f}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);lr(r)||(r=[r]),0===r.length&&(r=["+"]);var h=i(r),f=o?-1:1,p=_(c)?c:s,d=Array.prototype.map.call(e,l);return d.sort(u),e=d.map(function(e){return e.value})}}function pi(e){return _(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function di(e,t){e.$name=t}function vi(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Jo,this.$$element=e,this.$$animate=i,mi(this)}function mi(e){e.$$classCache={},e.$$classCache[Ia]=!(e.$$classCache[La]=e.$$element.hasClass(La))}function gi(e){function t(e,t,n,i){e[t]||(e[t]={}),a(e[t],n,i)}function n(e,t,n,i){e[t]&&s(e[t],n,i),yi(e[t])&&(e[t]=void 0)}function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function r(e,t,n){t=t?"-"+le(t,"-"):"",i(e,La+t,n===!0),i(e,Ia+t,n===!1)}var o=e.clazz,a=e.set,s=e.unset;o.prototype.$setValidity=function(e,o,c){g(o)?t(this,"$pending",e,c):n(this,"$pending",e,c),j(o)?o?(s(this.$error,e,c),a(this.$$success,e,c)):(a(this.$error,e,c),s(this.$$success,e,c)):(s(this.$error,e,c),s(this.$$success,e,c)),this.$pending?(i(this,Qo,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,Qo,!1),this.$valid=yi(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var l;l=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),r(this,e,l),this.$$parentForm.$setValidity(e,l,this)}}function yi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function bi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function $i(e,t,n,i,r,o){wi(e,t,n,i,r,o),bi(i)}function wi(e,t,n,i,r,o){var a=Wi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,l()})}var c,l=function(e){if(c&&(o.defer.cancel(c),c=null),!s){var r=t.val(),l=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=hr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))t.on("input",l);else{var u=function(e,t,n){c||(c=o.defer(function(){c=null,t&&t.value===n||l(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",l),pa[a]&&i.$$hasNativeValidators&&a===n.type&&t.on(fa,function(e){if(!c){var t=this[zi],n=t.badInput,i=t.typeMismatch;c=o.defer(function(){c=null,t.badInput===n&&t.typeMismatch===i||l(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function ki(e,t){if(x(e))return e;if(w(e)){la.lastIndex=0;var n=la.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,c=0,l=ni(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(i,0,l.getDate()+u,o,a,s,c)}}return NaN}function xi(e,t){return function(n,r){var o,a;if(x(n))return n;if(w(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ia.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function _i(e,t,n,i){return function(r,o,a,s,c,l,u){function h(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return y(e)&&!x(e)?n(e)||void 0:e}Si(r,o,a,s),wi(r,o,a,s,c,l);var p,d=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,p);return d&&(i=X(i,d)),i}}),s.$formatters.push(function(e){if(e&&!x(e))throw Ha("datefmt","Expected `{0}` to be a date",e);return h(e)?(p=e,p&&d&&(p=X(p,d,!0)),u("date")(e,i,d)):(p=null,"")}),y(a.min)||a.ngMin){var v;s.$validators.min=function(e){return!h(e)||g(v)||n(e)>=v},a.$observe("min",function(e){v=f(e),s.$validate()})}if(y(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!h(e)||g(m)||n(e)<=m},a.$observe("max",function(e){m=f(e),s.$validate()})}}}function Si(e,t,n,i){var r=t[0],o=i.$$hasNativeValidators=b(r.validity);o&&i.$parsers.push(function(e){var n=t.prop(zi)||{};return n.badInput||n.typeMismatch?void 0:e})}function Ci(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:aa.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!k(t))throw Ha("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Ei(e){return y(e)&&!k(e)&&(e=parseFloat(e)),cr(e)?void 0:e}function Ti(e){return(0|e)===e}function Ai(e){var t=e.toString(),n=t.indexOf(".");if(n===-1){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function Oi(e,t,n){var i=Number(e),r=!Ti(i),o=!Ti(t),a=!Ti(n);if(r||o||a){var s=r?Ai(i):0,c=o?Ai(t):0,l=a?Ai(n):0,u=Math.max(s,c,l),h=Math.pow(10,u);i*=h,t*=h,n*=h,r&&(i=Math.round(i)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(i-t)%n===0}function ji(e,t,n,i,r,o){Si(e,t,n,i),Ci(i),wi(e,t,n,i,r,o);var a,s;if((y(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||g(a)||e>=a;
},n.$observe("min",function(e){a=Ei(e),i.$validate()})),(y(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||g(s)||e<=s},n.$observe("max",function(e){s=Ei(e),i.$validate()})),y(n.step)||n.ngStep){var c;i.$validators.step=function(e,t){return i.$isEmpty(t)||g(c)||Oi(t,a||0,c)},n.$observe("step",function(e){c=Ei(e),i.$validate()})}}function Pi(e,t,n,i,r,o){function a(e,i){t.attr(e,n[e]),n.$observe(e,i)}function s(e){if(h=Ei(e),!cr(i.$modelValue))if(u){var n=t.val();h>n&&(n=h,t.val(n)),i.$setViewValue(n)}else i.$validate()}function c(e){if(f=Ei(e),!cr(i.$modelValue))if(u){var n=t.val();f<n&&(t.val(f),n=f<h?h:f),i.$setViewValue(n)}else i.$validate()}function l(e){p=Ei(e),cr(i.$modelValue)||(u&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate())}Si(e,t,n,i),Ci(i),wi(e,t,n,i,r,o);var u=i.$$hasNativeValidators&&"range"===t[0].type,h=u?0:void 0,f=u?100:void 0,p=u?1:void 0,d=t[0].validity,v=y(n.min),m=y(n.max),b=y(n.step),$=i.$render;i.$render=u&&y(d.rangeUnderflow)&&y(d.rangeOverflow)?function(){$(),i.$setViewValue(t.val())}:$,v&&(i.$validators.min=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||g(h)||t>=h},a("min",s)),m&&(i.$validators.max=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||g(f)||t<=f},a("max",c)),b&&(i.$validators.step=u?function(){return!d.stepMismatch}:function(e,t){return i.$isEmpty(t)||g(p)||Oi(t,h||0,p)},a("step",l))}function Mi(e,t,n,i,r,o){wi(e,t,n,i,r,o),bi(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||ra.test(n)}}function Li(e,t,n,i,r,o){wi(e,t,n,i,r,o),bi(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||oa.test(n)}}function Ii(e,t,n,i){var r=!n.ngTrim||"false"!==hr(n.ngTrim);g(n.name)&&t.attr("name",a());var o=function(e){var o;t[0].checked&&(o=n.value,r&&(o=hr(o)),i.$setViewValue(o,e&&e.type))};t.on("click",o),i.$render=function(){var e=n.value;r&&(e=hr(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)}function Fi(e,t,n,i,r){var o;if(y(i)){if(o=e(i),!o.constant)throw Ha("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function Di(e,t,n,i,r,o,a,s){var c=Fi(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Fi(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return N(e,c)}),i.$parsers.push(function(e){return e?c:l})}function Ri(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function r(e){return e&&e.split(" ")}function o(e){var t=e;return lr(e)?t=e.map(o).join(" "):b(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function a(e){var t=e;if(lr(e))t=e.map(a);else if(b(e)){var n=!1;t=Object.keys(e).filter(function(t){var i=e[t];return!n&&g(i)&&(n=!0),i}),n&&t.push(void 0)}return t}e="ngClass"+e;var s;return["$parse",function(c){return{restrict:"AC",link:function(l,u,h){function f(e){e=v(r(e),1),h.$addClass(e)}function p(e){e=v(r(e),-1),h.$removeClass(e)}function d(e,t){var i=r(e),o=r(t),a=n(i,o),s=n(o,i),c=v(a,-1),l=v(s,1);h.$addClass(l),h.$removeClass(c)}function v(e,t){var n=[];return i(e,function(e){(t>0||S[e])&&(S[e]=(S[e]||0)+t,S[e]===+(t>0)&&n.push(e))}),n.join(" ")}function m(e){e===t?f(b):p(b),C=e}function g(e){var t=o(e);t!==b&&y(t)}function y(e){C===t&&d(b,e),b=e}var b,$=h[e].trim(),w=":"===$.charAt(0)&&":"===$.charAt(1),k=w?a:o,x=c($,k),_=w?g:y,S=u.data("$classCounts"),C=!0;S||(S=me(),u.data("$classCounts",S)),"ngClass"!==e&&(s||(s=c("$index",function(e){return 1&e})),l.$watch(s,m)),l.$watch(x,_,w)}}}]}function Vi(e,t,n,i,r,o,a,s,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Jo,this.$options=Ua,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=e,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,mi(this),Bi(this)}function Bi(e){e.$$scope.$watch(function(){var t=e.$$ngModelGet(e.$$scope);if(t!==e.$modelValue&&(e.$modelValue===e.$modelValue||t===t)){e.$modelValue=e.$$rawModelValue=t,e.$$parserValid=void 0;for(var n=e.$formatters,i=n.length,r=t;i--;)r=n[i](r);e.$viewValue!==r&&(e.$$updateEmptyClasses(r),e.$viewValue=e.$$lastCommittedViewValue=r,e.$render(),e.$$runValidators(e.$modelValue,e.$viewValue,p))}return t})}function Ni(e){this.$$options=e}function Hi(e,t){i(t,function(t,n){y(e[n])||(e[n]=t)})}var Ui=/^\/(.+)\/([a-z]*)$/,zi="validity",qi=Object.prototype.hasOwnProperty,Wi=function(e){return w(e)?e.toLowerCase():e},Gi=function(e){return w(e)?e.toUpperCase():e},Ki=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Yi=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Wi=Ki,Gi=Yi);var Xi,Ji,Qi,Zi,er=[].slice,tr=[].splice,nr=[].push,ir=Object.prototype.toString,rr=Object.getPrototypeOf,or=t("ng"),ar=e.angular||(e.angular={}),sr=0;Xi=e.document.documentMode;var cr=Number.isNaN||function(e){return e!==e};p.$inject=[],d.$inject=[];var lr=Array.isArray,ur=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,hr=function(e){return w(e)?e.trim():e},fr=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},pr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!y(pr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");pr.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else pr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return pr.rules},dr=function(){if(y(dr.name_))return dr.name_;var t,n,i,r,o=mr.length;for(n=0;n<o;++n)if(i=mr[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return dr.name_=r},vr=/:/g,mr=["ng-","data-ng-","ng:","x-ng-"],gr=re(e.document),yr=/[A-Z]/g,br=!1,$r=1,wr=2,kr=3,xr=8,_r=9,Sr=11,Cr={full:"1.6.2",major:1,minor:6,dot:2,codeName:"llamacorn-lovehug"};Le.expando="ng339";var Er=Le.cache={},Tr=1;Le._data=function(e){return this.cache[e[this.expando]]||{}};var Ar=/-([a-z])/g,Or=/^-ms-/,jr={mouseleave:"mouseout",mouseenter:"mouseover"},Pr=t("jqLite"),Mr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Lr=/<|&#?\w+;/,Ir=/<([\w:-]+)/,Fr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Dr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dr.optgroup=Dr.option,Dr.tbody=Dr.tfoot=Dr.colgroup=Dr.caption=Dr.thead,Dr.th=Dr.td;var Rr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Vr=Le.prototype={ready:Xe,toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Ji(e>=0?this[e]:this[this.length+e])},length:0,push:nr,sort:[].sort,splice:[].splice},Br={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Br[Wi(e)]=e});var Nr={};i("input,select,option,textarea,button,form,details".split(","),function(e){Nr[e]=!0});var Hr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};i({data:Be,removeData:Re,hasData:Ae,cleanData:Oe},function(e,t){Le[t]=e}),i({data:Be,inheritedData:We,scope:function(e){return Ji.data(e,"$scope")||We(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Ji.data(e,"$isolateScope")||Ji.data(e,"$isolateScopeNoTemplate")},controller:qe,injector:function(e){return We(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ne,css:function(e,t,n){return t=_e(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i,r=e.nodeType;if(r!==kr&&r!==wr&&r!==xr&&e.getAttribute){var o=Wi(t),a=Br[o];return y(n)?void(null===n||n===!1&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)):(i=e.getAttribute(t),a&&null!==i&&(i=o),null===i?void 0:i)}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(g(t)){var n=e.nodeType;return n===$r||n===kr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(g(t)){if(e.multiple&&"select"===D(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return g(t)?e.innerHTML:(Fe(e,!0),void(e.innerHTML=t))},empty:Ge},function(e,t){Le.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Ge&&g(2===e.length&&e!==Ne&&e!==qe?t:n)){if(b(t)){for(i=0;i<o;i++)if(e===Be)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=g(a)?Math.min(o,1):o,c=0;c<s;c++){var l=e(this[c],t,n);a=a?a+l:l}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}}),i({removeData:Re,on:function(e,t,n,i){if(y(i))throw Pr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Te(e)){var r=Ve(e,!0),o=r.events,a=r.handle;a||(a=r.handle=Ze(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length,l=function(t,i,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,a)),s.push(n)};c--;)t=s[c],jr[t]?(l(jr[t],tt),l(t,void 0,!0)):l(t)}},off:De,one:function(e,t,n){e=Ji(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Fe(e),i(new Le(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===$r&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===$r||n===Sr){t=new Le(t);for(var i=0,r=t.length;i<r;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===$r){var n=e.firstChild;i(new Le(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Me(e,Ji(t).eq(0).clone()[0])},remove:Ke,detach:function(e){Ke(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new Le(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:Ue,removeClass:He,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var i=n;g(i)&&(i=!Ne(e,t)),(i?Ue:He)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Sr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Ie,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,c=Ve(e),u=c&&c.events,h=u&&u[s];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:e},t.type&&(r=l(r,t)),o=be(h),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Le.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)g(r)?(r=e(this[o],t,n,i),y(r)&&(r=Ji(r))):ze(r,e(this[o],t,n,i));return y(r)?r:this}}),Le.prototype.bind=Le.prototype.on,Le.prototype.unbind=Le.prototype.off;var Ur=Object.create(null);rt.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return cr(e)?Ur:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(t!==-1)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);n===-1&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},"delete":function(e){e=this._transformKey(e);var t=this._idx(e);return t!==-1&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var zr=rt,qr=[function(){this.$get=[function(){return zr}]}],Wr=/^([^(]+?)=>/,Gr=/^[^(]*\(\s*([^)]*)\)/m,Kr=/,/,Yr=/^\s*(_?)(\S+?)\1\s*$/,Xr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Jr=t("$injector");lt.$$annotate=ct;var Qr=t("$animate"),Zr=1,eo="ng-animate",to=function(){this.$get=p},no=function(){var e=new zr,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(e,t,n){var r=!1;return t&&(t=w(t)?t.split(" "):lr(t)?t:[],i(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){i(t,function(t){var n=e.get(t);if(n){var r=pt(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&Ue(e,o),a&&He(e,a)}),e["delete"](t)}}),t.length=0}function s(n,i,s){var c=e.get(n)||{},l=o(c,i,!0),u=o(c,s,!1);(l||u)&&(e.set(n,c),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:p,on:p,off:p,pin:p,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},io=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Qr("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+eo+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Qr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',eo)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=ft(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&Ji(i),r=r&&Ji(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",dt(o))},move:function(n,i,r,o){return i=i&&Ji(i),r=r&&Ji(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",dt(o))},leave:function(t,n){return e.push(t,"leave",dt(n),function(){t.remove()})},addClass:function(t,n,i){return i=dt(i),i.addClass=ht(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=dt(i),i.removeClass=ht(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=dt(r),r.addClass=ht(r.addClass,n),r.removeClass=ht(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=dt(o),o.from=o.from?l(o.from,n):n,o.to=o.to?l(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ht(o.tempClasses,r),e.push(t,"animate",o)}}}]}],ro=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},oo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,o){function a(e){this.setHost(e);var t=n(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){r()?i(e):t(e)},this._state=0}var s=0,c=1,l=2;return a.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},a.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;i(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===l?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=c,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==l&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=l)}},a}]},ao=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o(),s||c.complete(),s=!0}),c}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=B(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,c=new n;return{start:r,end:r}}}]},so=t("$compile"),co=new bt;$t.$inject=["$provide","$$sanitizeUriProvider"],wt.prototype.isFirstChange=function(){return this.previousValue===co};var lo=/^((?:x|data)[:\-_])/i,uo=/[:\-_]+(.)/g,ho=t("$controller"),fo=/^(\S+)(\s+as\s+([\w$]+))?$/,po=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Ji&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},vo="application/json",mo={"Content-Type":vo+";charset=utf-8"},go=/^\[|^\{(?!\{)/,yo={"[":/]$/,"{":/}$/},bo=/^\)]\}',?\n/,$o=t("$http"),wo=ar.$interpolateMinErr=t("$interpolate");wo.throwNoconcat=function(e){throw wo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},wo.interr=function(e,t){return wo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ko=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,i={};return{createCallback:function(e){var r="_"+(n.$$counter++).toString(36),o="angular.callbacks."+r,a=t(r);return i[o]=n[r]=a,o},wasCalled:function(e){return i[e].called},getResponse:function(e){return i[e].data},removeCallback:function(e){var t=i[e];delete n[t.id],delete i[e]}}}]},xo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,_o={http:80,https:443,ftp:21},So=t("$location"),Co=/^\s*[\\/]{2,}/,Eo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:rn("$$absUrl"),url:function(e){if(g(e))return this.$$url;var t=xo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:rn("$$protocol"),host:rn("$$host"),port:rn("$$port"),path:on("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||k(e))e=e.toString(),this.$$search=Z(e);else{if(!b(e))throw So("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=B(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:on("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([nn,tn,en],function(e){e.prototype=Object.create(Eo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==en||!this.$$html5)throw So("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=g(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var To=t("$parse"),Ao={}.constructor.prototype.valueOf,Oo=me();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Oo[e]=!0});var jo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Po=function(e){this.options=e};Po.prototype={constructor:Po,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=Oo[t],o=Oo[n],a=Oo[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw To("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Wi(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=jo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Mo=function(e,t){this.lexer=e,this.options=t};Mo.Program="Program",Mo.ExpressionStatement="ExpressionStatement",Mo.AssignmentExpression="AssignmentExpression",Mo.ConditionalExpression="ConditionalExpression",Mo.LogicalExpression="LogicalExpression",Mo.BinaryExpression="BinaryExpression",Mo.UnaryExpression="UnaryExpression",Mo.CallExpression="CallExpression",Mo.MemberExpression="MemberExpression",Mo.Identifier="Identifier",Mo.Literal="Literal",Mo.ArrayExpression="ArrayExpression",Mo.Property="Property",Mo.ObjectExpression="ObjectExpression",Mo.ThisExpression="ThisExpression",Mo.LocalsExpression="LocalsExpression",Mo.NGValueParameter="NGValueParameter",Mo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Mo.Program,body:e}},expressionStatement:function(){return{type:Mo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!dn(e))throw To("lval","Trying to assign a value to a non l-value");e={type:Mo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Mo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Mo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Mo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Mo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Mo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Mo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Mo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Mo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=B(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Mo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Mo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Mo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Mo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Mo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Mo.Identifier,name:e.text}},constant:function(){return{type:Mo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Mo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Mo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Mo.ObjectExpression,properties:t}},throwError:function(e,t){throw To("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw To("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw To("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{"this":{type:Mo.ThisExpression},$locals:{type:Mo.LocalsExpression}}},yn.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(n,t.$filter);var r,o="";if(this.stage="assign",r=vn(n)){this.state.computing="assign";var a=this.nextId();this.recurse(r,a),this.return_(a),o="fn.assign="+this.generateFunction("assign","s,v,l")}var s=pn(n.body);t.stage="inputs",i(s,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push(i),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(n);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",c)(this.$filter,cn,ln,un);return this.state=this.stage=void 0,l.literal=mn(n),l.constant=gn(n),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,o,a){var s,c,l,u,h,f=this;if(r=r||p,!a&&y(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,o,!0));switch(e.type){case Mo.Program:i(e.body,function(t,n){f.recurse(t.expression,void 0,void 0,function(e){c=e}),n!==e.body.length-1?f.current().body.push(c,";"):f.return_(c)});break;case Mo.Literal:u=this.escape(e.value),
this.assign(t,u),r(t||u);break;case Mo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){c=e}),u=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,u),r(u);break;case Mo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){c=e}),u="+"===e.operator?this.plus(s,c):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(c,0):"("+s+")"+e.operator+"("+c+")",this.assign(t,u),r(u);break;case Mo.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),r(t);break;case Mo.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),r(t);break;case Mo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){o&&1!==o&&f.if_(f.isNull(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),r(t);break;case Mo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,s,void 0,function(){f.if_(f.notNull(s),function(){e.computed?(c=f.nextId(),f.recurse(e.property,c),f.getStringValue(c),o&&1!==o&&f.if_(f.not(f.computedMember(s,c)),f.lazyAssign(f.computedMember(s,c),"{}")),u=f.computedMember(s,c),f.assign(t,u),n&&(n.computed=!0,n.name=c)):(o&&1!==o&&f.if_(f.isNull(f.nonComputedMember(s,e.property.name)),f.lazyAssign(f.nonComputedMember(s,e.property.name),"{}")),u=f.nonComputedMember(s,e.property.name),f.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){f.assign(t,"undefined")}),r(t)},!!o);break;case Mo.CallExpression:t=t||this.nextId(),e.filter?(c=f.filter(e.callee.name),l=[],i(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),l.push(t)}),u=c+"("+l.join(",")+")",f.assign(t,u),r(t)):(c=f.nextId(),s={},l=[],f.recurse(e.callee,c,s,function(){f.if_(f.notNull(c),function(){i(e.arguments,function(t){f.recurse(t,e.constant?void 0:f.nextId(),void 0,function(e){l.push(e)})}),u=s.name?f.member(s.context,s.name,s.computed)+"("+l.join(",")+")":c+"("+l.join(",")+")",f.assign(t,u)},function(){f.assign(t,"undefined")}),r(t)}));break;case Mo.AssignmentExpression:c=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){f.if_(f.notNull(s.context),function(){f.recurse(e.right,c),u=f.member(s.context,s.name,s.computed)+e.operator+c,f.assign(t,u),r(t||u)})},1);break;case Mo.ArrayExpression:l=[],i(e.elements,function(t){f.recurse(t,e.constant?void 0:f.nextId(),void 0,function(e){l.push(e)})}),u="["+l.join(",")+"]",this.assign(t,u),r(t||u);break;case Mo.ObjectExpression:l=[],h=!1,i(e.properties,function(e){e.computed&&(h=!0)}),h?(t=t||this.nextId(),this.assign(t,"{}"),i(e.properties,function(e){e.computed?(s=f.nextId(),f.recurse(e.key,s)):s=e.key.type===Mo.Identifier?e.key.name:""+e.key.value,c=f.nextId(),f.recurse(e.value,c),f.assign(f.member(t,s,e.computed),c)})):(i(e.properties,function(t){f.recurse(t.value,e.constant?void 0:f.nextId(),void 0,function(e){l.push(f.escape(t.key.type===Mo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+l.join(",")+"}",this.assign(t,u)),r(t||u);break;case Mo.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Mo.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Mo.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw To("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},bn.prototype={compile:function(e){var t=this,n=this.astBuilder.ast(e);fn(n,t.$filter);var r,o;(r=vn(n))&&(o=this.recurse(r));var a,s=pn(n.body);s&&(a=[],i(s,function(e,n){var i=t.recurse(e);e.input=i,a.push(i),e.watchId=n}));var c=[];i(n.body,function(e){c.push(t.recurse(e.expression))});var l=0===n.body.length?p:1===n.body.length?c[0]:function(e,t){var n;return i(c,function(i){n=i(e,t)}),n};return o&&(l.assign=function(e,t,n){return o(e,n,t)}),a&&(l.inputs=a),l.literal=mn(n),l.constant=gn(n),l},recurse:function(e,t,n){var r,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Mo.Literal:return this.value(e.value,t);case Mo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case Mo.BinaryExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case Mo.LogicalExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case Mo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Mo.Identifier:return s.identifier(e.name,t,n);case Mo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(r,o,t,n):this.nonComputedMember(r,o,t,n);case Mo.CallExpression:return a=[],i(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,i,r){for(var s=[],c=0;c<a.length;++c)s.push(a[c](e,n,i,r));var l=o.apply(void 0,s,r);return t?{context:void 0,name:void 0,value:l}:l}:function(e,n,i,r){var s,c=o(e,n,i,r);if(null!=c.value){for(var l=[],u=0;u<a.length;++u)l.push(a[u](e,n,i,r));s=c.value.apply(c.context,l)}return t?{value:s}:s};case Mo.AssignmentExpression:return r=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,a){var s=r(e,n,i,a),c=o(e,n,i,a);return s.context[s.name]=c,t?{value:c}:c};case Mo.ArrayExpression:return a=[],i(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case Mo.ObjectExpression:return a=[],i(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===Mo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,i,r)]=a[s].value(e,n,i,r):o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case Mo.ThisExpression:return function(e){return t?{value:e}:e};case Mo.LocalsExpression:return function(e,n){return t?{value:n}:n};case Mo.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=y(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=y(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),c=t(i,r,o,a),l=un(s,c);return n?{value:l}:l}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),c=t(i,r,o,a),l=(y(s)?s:0)-(y(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var c=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,o,a){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var c=s?s[e]:void 0;return t?{context:s,name:e,value:c}:c}},computedMember:function(e,t,n,i){return function(r,o,a,s){var c,l,u=e(r,o,a,s);return null!=u&&(c=t(r,o,a,s),c=cn(c),i&&1!==i&&u&&!u[c]&&(u[c]={}),l=u[c]),n?{context:u,name:c,value:l}:l}},nonComputedMember:function(e,t,n,i){return function(r,o,a,s){var c=e(r,o,a,s);i&&1!==i&&c&&null==c[t]&&(c[t]={});var l=null!=c?c[t]:void 0;return n?{context:c,name:t,value:l}:l}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var Lo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Mo(e,n),this.astCompiler=n.csp?new bn(this.ast,t):new yn(this.ast,t)};Lo.prototype={constructor:Lo,parse:function(e){return this.astCompiler.compile(e)}};var Io=t("$sce"),Fo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Do=/_([a-z])/g,Ro=t("$compile"),Vo=e.document.createElement("a"),Bo=Dn(e.location.href);Bn.$inject=["$document"],Hn.$inject=["$provide"];var No=22,Ho=".",Uo="0";Gn.$inject=["$locale"],Kn.$inject=["$locale"];var zo={yyyy:Zn("FullYear",4,0,!1,!0),yy:Zn("FullYear",2,0,!0,!0),y:Zn("FullYear",1,0,!1,!0),MMMM:ei("Month"),MMM:ei("Month",!0),MM:Zn("Month",2,1),M:Zn("Month",1,1),LLLL:ei("Month",!1,!0),dd:Zn("Date",2),d:Zn("Date",1),HH:Zn("Hours",2),H:Zn("Hours",1),hh:Zn("Hours",2,-12),h:Zn("Hours",1,-12),mm:Zn("Minutes",2),m:Zn("Minutes",1),ss:Zn("Seconds",2),s:Zn("Seconds",1),sss:Zn("Milliseconds",3),EEEE:ei("Day"),EEE:ei("Day",!0),a:oi,Z:ti,ww:ri(2),w:ri(1),G:ai,GG:ai,GGG:ai,GGGG:si},qo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Wo=/^-?\d+$/;ci.$inject=["$locale"];var Go=v(Wi),Ko=v(Gi);fi.$inject=["$parse"];var Yo=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ir.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Xo={};i(Br,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=kt("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),Xo[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Hr,function(e,t){Xo[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ui);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=kt("ng-"+e);Xo[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===ir.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Xi&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Jo={$addControl:p,$$renameControl:di,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Qo="ng-pending",Zo="ng-submitted";vi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],vi.prototype={$rollbackViewValue:function(){i(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){i(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){pe(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],i(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),i(this.$error,function(t,n){this.$setValidity(n,null,e)},this),i(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),V(this.$$controls,e),e.$$parentForm=Jo},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Da),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fa,Da+" "+Zo),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,i(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){i(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Zo),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},gi({clazz:vi,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(V(i,n),0===i.length&&delete e[t])}});var ea=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||p}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:vi,compile:function(n,r){n.addClass(Fa).addClass(La);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var c=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",c)},0,!1)})}var u=a[1]||s.$$parentForm;u.$addControl(s);var h=o?i(s.$name):p;o&&(h(e,s),r.$observe(o,function(t){s.$name!==t&&(h(e,void 0),s.$$parentForm.$$renameControl(s,t),(h=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(e,void 0),l(s,Jo)})}}}};return r}]},ta=ea(),na=ea(!0),ia=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ra=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,oa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,aa=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,sa=/^(\d{4,})-(\d{2})-(\d{2})$/,ca=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,la=/^(\d{4,})-W(\d\d)$/,ua=/^(\d{4,})-(\d\d)$/,ha=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fa="keydown wheel mousedown",pa=me();i("date,datetime-local,month,time,week".split(","),function(e){pa[e]=!0});var da={text:$i,date:_i("date",sa,xi(sa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":_i("datetimelocal",ca,xi(ca,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:_i("time",ha,xi(ha,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:_i("week",la,ki,"yyyy-Www"),month:_i("month",ua,xi(ua,["yyyy","MM"]),"yyyy-MM"),number:ji,url:Mi,email:Li,radio:Ii,range:Pi,checkbox:Di,hidden:p,button:p,submit:p,reset:p,file:p},va=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(da[Wi(a.type)]||da.text)(r,o,a,s[0],t,e,n,i)}}}}],ma=/^(true|false|\d+)$/,ga=function(){function e(e,t,n){var i=y(n)?n:9===Xi?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return ma.test(n.ngValue)?function(t,n,i){var r=t.$eval(i.ngValue);e(n,i,r)}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},ya=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=ge(e)})}}}}],ba=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=g(e)?"":e})}}}}],$a=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],wa=v({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ka=Ri("",!0),xa=Ri("Odd",0),_a=Ri("Even",1),Sa=pi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Ca=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ea={},Ta={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=kt("ng-"+e);Ea[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};Ta[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Aa=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,l;n.$watch(r.ngIf,function(n){n?c||a(function(n,o){c=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=ve(s.clone),e.leave(l).done(function(e){e!==!1&&(l=null)}),s=null))})}}}],Oa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ar.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,c,l,u){var h,f,p,d=0,v=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).done(function(e){e!==!1&&(f=null)}),f=p,p=null)};i.$watch(o,function(o){var c=function(e){e===!1||!y(s)||s&&!i.$eval(s)||t()},f=++d;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&f===d){var t=i.$new();l.template=e;var s=u(t,function(e){v(),n.enter(e,null,r).done(c)});h=t,p=s,h.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||f===d&&(v(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(v(),l.template=null)})}}}}],ja=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return ir.call(i[0]).match(/SVG/)?(i.empty(),void t(je(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],Pa=pi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ma=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var o=n.ngList||", ",a="false"!==n.ngTrim,s=a?hr(o):o,c=function(e){if(!g(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(a?hr(e):e)}),t}};r.$parsers.push(c),r.$formatters.push(function(e){if(lr(e))return e.join(o)}),r.$isEmpty=function(e){return!e||!e.length}}}},La="ng-valid",Ia="ng-invalid",Fa="ng-pristine",Da="ng-dirty",Ra="ng-untouched",Va="ng-touched",Ba="ng-empty",Na="ng-not-empty",Ha=t("ngModel");Vi.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Vi.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return _(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){_(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Ha("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,J(this.$$element))},$render:p,$isEmpty:function(e){return g(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,Na),this.$$animate.addClass(this.$$element,Ba)):(this.$$animate.removeClass(this.$$element,Ba),this.$$animate.addClass(this.$$element,Na))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Da),this.$$animate.addClass(this.$$element,Fa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Da),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ra,Va)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Va,Ra)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!cr(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function r(){var e=u.$$parserName||"parse";return g(u.$$parserValid)?(s(e,null),!0):(u.$$parserValid||(i(u.$validators,function(e,t){s(t,null)}),i(u.$asyncValidators,function(e,t){s(t,null)})),s(e,u.$$parserValid),u.$$parserValid)}function o(){var n=!0;return i(u.$validators,function(i,r){var o=Boolean(i(e,t));n=n&&o,s(r,o)}),!!n||(i(u.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],r=!0;i(u.$asyncValidators,function(i,o){var a=i(e,t);if(!P(a))throw Ha("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?u.$$q.all(n).then(function(){c(r)},p):c(!0)}function s(e,t){l===u.$$currentValidationRunId&&u.$setValidity(e,t)}function c(e){l===u.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,u=this;return r()&&o()?void a():void c(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){i.$modelValue!==o&&i.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,i=this;if(this.$$parserValid=!g(n)||void 0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),g(n)){this.$$parserValid=!1;break}cr(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){a||(i.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),i(this.$viewChangeListeners,function(e){try{e()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");k(t[e])?t=t[e]:k(t["default"])&&(t=t["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e)}},gi({clazz:Vi,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Ua,za=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Vi,priority:1,compile:function(t){return t.addClass(Fa).addClass(Ra).addClass(La),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function o(){a.$setTouched()}var a=r[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],qa=/(\s+|^)default(\s+|$)/;Ni.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=l({},e),i(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=hr(n.replace(qa,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Hi(e,this.$$options)),Hi(e,Ua.$$options),new Ni(e)}},Ua=new Ni({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Wa=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Ua,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},Ga=pi({terminal:!0,priority:1e3}),Ka=t("ngOptions"),Ya=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Xa=["$compile","$document","$parse",function(t,r,o){function a(e,t,i){function r(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!l&&n(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var s=e.match(Ya);if(!s)throw Ka("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var c=s[5]||s[7],l=s[6],u=/ as /.test(s[0])&&s[1],h=s[9],f=o(s[2]?s[1]:c),p=u&&o(u),d=p||f,v=h&&o(h),m=h?function(e,t){return v(i,t)}:function(e){return it(e)},g=function(e,t){return m(e,x(e,t))},y=o(s[2]||s[1]),b=o(s[3]||""),$=o(s[4]||""),w=o(s[8]),k={},x=l?function(e,t){return k[l]=t,k[c]=e,k}:function(e){return k[c]=e,k};return{trackBy:h,getTrackByValue:g,getWatchables:o(w,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;o<r;o++){var c=e===n?o:n[o],l=e[c],u=x(l,c),h=m(l,u);if(t.push(h),s[2]||s[1]){var f=y(i,u);t.push(f)}if(s[4]){var p=$(i,u);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=w(i)||[],o=a(n),s=o.length,c=0;c<s;c++){var l=n===o?c:o[c],u=n[l],f=x(u,l),p=d(i,f),v=m(p,f),k=y(i,f),_=b(i,f),S=$(i,f),C=new r(v,p,k,_,S);e.push(C),t[v]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[g(e)]},getViewValueFromOption:function(e){return h?B(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function u(e,t){var n=c.cloneNode(!1);t.appendChild(n),f(e,n)}function h(e){var t=x.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function f(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=x&&d.readValue();if(x)for(var t=x.items.length-1;t>=0;t--){var i=x.items[t];Ke(y(i.group)?i.element.parentNode:i.element)}x=_.getOptions();var r={};if(w&&n.prepend(d.emptyOption),x.items.forEach(function(e){var t;y(e.group)?(t=r[e.group],t||(t=l.cloneNode(!1),S.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),u(e,t)):u(e,S)}),n[0].appendChild(S),v.$render(),!v.$isEmpty(e)){var o=d.readValue(),a=_.trackBy||m;(a?N(e,o):e===o)||(v.$setViewValue(o),v.$render())}}for(var d=s[0],v=s[1],m=o.multiple,g=0,b=n.children(),$=b.length;g<$;g++)if(""===b[g].value){d.hasEmptyOption=!0,d.emptyOption=b.eq(g);break}var w=!!d.emptyOption,k=Ji(c.cloneNode(!1));k.val("?");var x,_=a(o.ngOptions,n,e),S=r[0].createDocumentFragment();d.generateUnknownOptionValue=function(e){return"?"},m?(d.writeValue=function(e){var t=e&&e.map(h)||[];x.items.forEach(function(e){e.element.selected&&!R(t,e)&&(e.element.selected=!1)})},d.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=x.selectValueMap[e];n&&!n.disabled&&t.push(x.getViewValueFromOption(n))}),t},_.trackBy&&e.$watchCollection(function(){if(lr(v.$viewValue))return v.$viewValue.map(function(e){return _.getTrackByValue(e)})},function(){v.$render()})):(d.writeValue=function(e){var t=x.selectValueMap[n.val()],i=x.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),i?(n[0].value!==i.selectValue&&(d.removeUnknownOption(),d.unselectEmptyOption(),n[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):w?d.selectEmptyOption():d.unknownOption.parent().length?d.updateUnknownOption(e):d.renderUnknownOption(e)},d.readValue=function(){var e=x.selectValueMap[n.val()];return e&&!e.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),x.getViewValueFromOption(e)):null},_.trackBy&&e.$watch(function(){return _.getTrackByValue(v.$viewValue)},function(){v.$render()})),w&&(d.emptyOption.remove(),t(d.emptyOption)(e),d.emptyOption[0].nodeType===xr?(d.hasEmptyOption=!1,d.registerOption=function(e,t){""===t.val()&&(d.hasEmptyOption=!0,d.emptyOption=t,d.emptyOption.removeClass("ng-scope"),v.$render(),t.on("$destroy",function(){d.hasEmptyOption=!1,d.emptyOption=void 0}))}):d.emptyOption.removeClass("ng-scope")),n.empty(),p(),e.$watchCollection(_.getWatchables,p)}var c=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=p},post:s}}}],Ja=["$locale","$interpolate","$log",function(e,t,n){
var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function l(e){s.text(e||"")}var u,h=c.count,f=c.$attr.when&&s.attr(c.$attr.when),d=c.offset||0,v=a.$eval(f)||{},m={},y=t.startSymbol(),b=t.endSymbol(),$=y+h+"-"+d+b,w=ar.noop;i(c,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+Wi(n[2]);v[i]=s.attr(c.$attr[t])}}),i(v,function(e,n){m[n]=t(e.replace(r,$))}),a.$watch(h,function(t){var i=parseFloat(t),r=cr(i);if(r||i in v||(i=e.pluralCat(i-d)),!(i===u||r&&cr(u))){w();var o=m[i];g(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),w=p,l()):w=a.$watch(o,l),u=i}})}}}],Qa=["$parse","$animate","$compile",function(e,r,o){var a="$$NG_REMOVED",s=t("ngRepeat"),c=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},l=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,h){var f=h.ngRepeat,p=o.$$createComment("end ngRepeat",f),d=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var v=d[1],m=d[2],g=d[3],y=d[4];if(d=v.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var b=d[3]||d[1],$=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var w,k,x,_,S={$id:it};return y?w=e(y):(x=function(e,t){return it(t)},_=function(e){return e}),function(e,t,o,h,d){w&&(k=function(t,n,i){return $&&(S[$]=t),S[b]=n,S.$index=i,w(e,S)});var v=me();e.$watchCollection(m,function(o){var h,m,y,w,S,C,E,T,A,O,j,P,M=t[0],L=me();if(g&&(e[g]=o),n(o))A=o,T=k||x;else{T=k||_,A=[];for(var I in o)qi.call(o,I)&&"$"!==I.charAt(0)&&A.push(I)}for(w=A.length,j=new Array(w),h=0;h<w;h++)if(S=o===A?h:A[h],C=o[S],E=T(S,C,h),v[E])O=v[E],delete v[E],L[E]=O,j[h]=O;else{if(L[E])throw i(j,function(e){e&&e.scope&&(v[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,E,C);j[h]={id:E,scope:void 0,clone:void 0},L[E]=!0}for(var F in v){if(O=v[F],P=ve(O.clone),r.leave(P),P[0].parentNode)for(h=0,m=P.length;h<m;h++)P[h][a]=!0;O.scope.$destroy()}for(h=0;h<w;h++)if(S=o===A?h:A[h],C=o[S],O=j[h],O.scope){y=M;do y=y.nextSibling;while(y&&y[a]);l(O)!==y&&r.move(ve(O.clone),null,M),M=u(O),c(O.scope,h,b,C,$,S,w)}else d(function(e,t){O.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,r.enter(e,null,M),M=n,O.clone=e,L[O.id]=O,c(O.scope,h,b,C,$,S,w)});v=L})}}}}],Za="ng-hide",es="ng-hide-animate",ts=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,Za,{tempClasses:es})})}}}],ns=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,Za,{tempClasses:es})})}}}],is=pi(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),rs=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,c=[],l=[],u=[],h=[],f=function(e,t){return function(n){n!==!1&&e.splice(t,1)}};n.$watch(s,function(n){for(var r,o;u.length;)e.cancel(u.pop());for(r=0,o=h.length;r<o;++r){var s=ve(l[r].clone);h[r].$destroy();var p=u[r]=e.leave(s);p.done(f(u,r))}l.length=0,h.length=0,(c=a.cases["!"+n]||a.cases["?"])&&i(c,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),e.enter(i,o.parent(),o)})})})}}}],os=pi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,o){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e});i(a,function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:o,element:t})})}}),as=pi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),ss=t("ngTransclude"),cs=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){function a(e,n){e.length&&c(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function c(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==kr||i.nodeValue.trim())return!0}}if(!o)throw ss("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],ls=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],us={$setViewValue:p,$render:p},hs=["$element","$scope",function(t,n){function i(){c||(c=!0,n.$$postDigest(function(){c=!1,a.ngModelCtrl.$render()}))}function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),e&&a.ngModelCtrl.$render())}))}function o(e){e.prop("selected",!0),e.attr("selected",!0)}var a=this,s=new zr;a.selectValueMap={},a.ngModelCtrl=us,a.multiple=!1,a.unknownOption=Ji(e.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),t.prepend(a.unknownOption),o(a.unknownOption),t.val(n)},a.updateUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),o(a.unknownOption),t.val(n)},a.generateUnknownOptionValue=function(e){return"? "+it(e)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(t.val(""),o(a.emptyOption))},a.unselectEmptyOption=function(){a.hasEmptyOption&&a.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){a.renderUnknownOption=p}),a.readValue=function(){var e=t.val(),n=e in a.selectValueMap?a.selectValueMap[e]:e;return a.hasOption(n)?n:null},a.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&n.removeAttribute("selected"),a.hasOption(e)){a.removeUnknownOption();var i=it(e);t.val(i in a.selectValueMap?i:e);var r=t[0].options[t[0].selectedIndex];o(Ji(r))}else null==e&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(e):a.renderUnknownOption(e)},a.addOption=function(e,t){if(t[0].nodeType!==xr){pe(e,'"option value"'),""===e&&(a.hasEmptyOption=!0,a.emptyOption=t);var n=s.get(e)||0;s.set(e,n+1),i()}},a.removeOption=function(e){var t=s.get(e);t&&(1===t?(s["delete"](e),""===e&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):s.set(e,t-1))},a.hasOption=function(e){return!!s.get(e)};var c=!1,l=!1;a.registerOption=function(e,t,n,o,s){if(n.$attr.ngValue){var c,l=NaN;n.$observe("value",function(e){var n,i=t.prop("selected");y(l)&&(a.removeOption(c),delete a.selectValueMap[l],n=!0),l=it(e),c=e,a.selectValueMap[l]=e,a.addOption(e,t),t.attr("value",l),n&&i&&r()})}else o?n.$observe("value",function(e){a.readValue();var n,i=t.prop("selected");y(c)&&(a.removeOption(c),n=!0),c=e,a.addOption(e,t),n&&i&&r()}):s?e.$watch(s,function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&a.removeOption(i),a.addOption(e,t),i&&o&&r()}):a.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(a.multiple?r(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=a.readValue(),t=n.value;a.removeOption(t),i(),(a.multiple&&e&&e.indexOf(t)!==-1||e===t)&&r(!0)})}}],fs=function(){function e(e,t,n,r){var o=r[0],a=r[1];if(!a)return void(o.registerOption=p);if(o.ngModelCtrl=a,t.on("change",function(){o.removeUnknownOption(),e.$apply(function(){a.$setViewValue(o.readValue())})}),n.multiple){o.multiple=!0,o.readValue=function(){var e=[];return i(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in o.selectValueMap?o.selectValueMap[n]:n)}}),e},o.writeValue=function(e){i(t.find("option"),function(t){t.selected=!!e&&(R(e,t.value)||R(e,o.selectValueMap[t.value]))})};var s,c=NaN;e.$watch(function(){c!==a.$viewValue||N(s,a.$viewValue)||(s=be(a.$viewValue),a.$render()),c=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:hs,priority:1,link:{pre:e,post:t}}},ps=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return y(n.ngValue)||(y(n.value)?i=e(n.value,!0):(r=e(t.text(),!0),r||n.$set("value",t.text()))),function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],ds=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},vs=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,J(n));o=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||g(o)||o.test(t)}}}}},ms=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=h(e);r=cr(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},gs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=h(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),ke(ar),ar.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i),o=(e*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,o=n(e,t);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Ji(function(){oe(e.document,ae)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&a.test("."+e)}function i(e,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;a<s&&t.isDefined(e);a++){var c=r[a];e=null!==e?e[c]:void 0}return e}function r(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var o=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,c,l){function u(e,t){this.template=e,this.defaults=d({},n.defaults,t),this.urlParams={}}function h(e,t,$,w){function k(e,n){var r={};return n=d({},t,n),p(n,function(t,n){y(t)&&(t=t(e)),r[n]=t&&t.charAt&&"@"===t.charAt(0)?i(e,t.substr(1)):t}),r}function x(e){return e.resource}function _(e){r(e||{},this)}var S=new u(e,w);return $=d({},n.defaults.actions,$),_.prototype.toJSON=function(){var e=d({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},p($,function(e,t){var n=/^(POST|PUT|PATCH)$/i.test(e.method),i=e.timeout,u=g(e.cancellable)?e.cancellable:S.defaults.cancellable;i&&!b(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,i=null),_[t]=function(s,h,g,b){function $(e){R["catch"](f),A.resolve(e)}var w,C,E,T={};switch(arguments.length){case 4:E=b,C=g;case 3:case 2:if(!y(h)){T=s,w=h,C=g;break}if(y(s)){C=s,E=h;break}C=h,E=g;case 1:y(s)?C=s:n?w=s:T=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A,O,j=this instanceof _,P=j?w:e.isArray?[]:new _(w),M={},L=e.interceptor&&e.interceptor.response||x,I=e.interceptor&&e.interceptor.responseError||void 0,F=!!E,D=!!I;p(e,function(e,t){switch(t){default:M[t]=v(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!j&&u&&(A=c.defer(),M.timeout=A.promise,i&&(O=l(A.resolve,i))),n&&(M.data=w),S.setUrlParams(M,d({},k(w,e.params||{}),T),e.url);var R=a(M).then(function(n){var i=n.data;if(i){if(m(i)!==!!e.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,e.isArray?"array":"object",m(i)?"array":"object",M.method,M.url);if(e.isArray)P.length=0,p(i,function(e){"object"==typeof e?P.push(new _(e)):P.push(e)});else{var a=P.$promise;r(i,P),P.$promise=a}}return n.resource=P,n});return R=R["finally"](function(){P.$resolved=!0,!j&&u&&(P.$cancelRequest=f,l.cancel(O),A=O=M.timeout=null)}),R=R.then(function(e){var t=L(e);return(C||f)(t,e.headers,e.status,e.statusText),t},F||D?function(e){return F&&!D&&R["catch"](f),F&&E(e),D?I(e):c.reject(e)}:void 0),j?R:(P.$promise=R,P.$resolved=!1,u&&(P.$cancelRequest=$),P)},_.prototype["$"+t]=function(e,n,i){y(e)&&(i=n,n=e,e={});var r=_[t].call(this,e,this,n,i);return r.$promise||r}}),_.bind=function(n){var i=d({},t,n);return h(e,i,$,w)},_}var f=t.noop,p=t.forEach,d=t.extend,v=t.copy,m=t.isArray,g=t.isDefined,y=t.isFunction,b=t.isNumber,$=t.$$encodeUriQuery,w=t.$$encodeUriSegment;return u.prototype={setUrlParams:function(t,n,i){var r,a,s=this,c=i||s.template,l="",u=s.urlParams=Object.create(null);p(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(u[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(c)})}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return l=e,""}),n=n||{},p(s.urlParams,function(e,t){r=n.hasOwnProperty(t)?n[t]:s.defaults[t],g(r)&&null!==r?(a=e.isQueryParamValue?$(r,!0):w(r),c=c.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):c=c.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),t.url=l+c.replace(/\/(\\|%5C)\./,"/."),p(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},h}]})}(window,window.angular),function(e,t){"use strict";function n(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?c(r[n]):r[n]]=!0;return i}function i(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),y.innerHTML=t;var i=5;do{if(0===i)throw f("uinput","Failed to sanitize html because the input is unstable");i--,e.document.documentMode&&m(y),t=y.innerHTML,y.innerHTML=t}while(t!==y.innerHTML);for(var r=y.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),p(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1===r.nodeType&&n.end(r.nodeName.toLowerCase()),o=r.nextSibling,!o))for(;null==o&&(r=r.parentNode,r!==y);)o=r.nextSibling,1===r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=y.firstChild;)y.removeChild(r)}function p(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function d(e){return e.replace(/&/g,"&amp;").replace(b,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace($,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(e,t){var n=!1,i=r(e,e.push);return{start:function(e,r){e=c(e),!n&&T[e]&&(n=e),n||A[e]!==!0||(i("<"),i(e),a(r,function(n,r){var o=c(r),a="img"===e&&"src"===o||"background"===o;M[o]!==!0||O[o]===!0&&!t(n,a)||(i(" "),i(r),i('="'),i(d(n)),i('"'))}),i(">"))},end:function(e){e=c(e),n||A[e]!==!0||w[e]===!0||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(d(e))}}}function m(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}var s=t.firstChild;s&&m(s),t=t.nextSibling}}var g=!1;this.$get=["$$sanitizeUri",function(e){return g&&o(A,E),function(t){var n=[];return u(t,h(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(g=e,this):g},r=t.bind,o=t.extend,a=t.forEach,s=t.isDefined,c=t.lowercase,l=t.noop,u=i,h=v;var y,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$=/([^#-~ |!])/g,w=n("area,br,col,hr,img,wbr"),k=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=n("rp,rt"),_=o({},x,k),S=o({},k,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),C=o({},x,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),T=n("script,style"),A=o({},w,S,C,_),O=n("background,cite,href,longdesc,src,xlink:href"),j=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=o({},O,P,j);!function(e){var t;if(!e.document||!e.document.implementation)throw f("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)y=i[0];else{var r=t.createElement("html");y=t.createElement("body"),r.appendChild(y),t.appendChild(r)}}(e)}function i(e){var t=[],n=h(t,l);return n.chars(e),t.join("")}var r,o,a,s,c,l,u,h,f=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,c=t.isObject,l=t.isString;return function(t,u,h){function f(e){e&&b.push(i(e))}function p(e,t){var n,i=g(e);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!a(u)||"target"in i||b.push('target="',u,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),f(t),b.push("</a>")}if(null==t||""===t)return t;if(!l(t))throw o("notstring","Expected string but received: {0}",t);for(var d,v,m,g=s(h)?h:c(h)?function(){return h}:function(){return{}},y=t,b=[];d=y.match(n);)v=d[0],d[2]||d[4]||(v=(d[3]?"http://":"mailto:")+v),m=d.index,f(y.substr(0,m)),p(v,d[0].replace(r,"")),y=y.substring(m+d[0].length);return f(y),e(b.join(""))}}])}(window,window.angular),function(e,t){"use strict";function n(e,t,n){if(!e)throw ve("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(Y(e)&&(e=e.join(" ")),Y(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=Y(e)?e:e&&ee(e)&&e.length?e.split(/\s+/):[],K(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof ne)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===D)return e;break;default:return ne(c(e))}if(e.nodeType===D)return ne(e)}function c(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===D)return n}}function l(e,t,n){K(t,function(t){e.addClass(t,n)})}function u(e,t,n){K(t,function(t){e.removeClass(t,n)})}function h(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||ie;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ie},e.$$prepared=!0}return e}function p(e,t){d(e,t),v(e,t)}function d(e,t){t.from&&(e.css(t.from),t.from=null)}function v(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var i=t.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=g(e.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=_(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var c=i.domOperation!==ie?i.domOperation:null;return G(i,r),c&&(i.domOperation=c),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function g(e,t,n){function i(e){ee(e)&&(e=e.split(" "));var t={};return K(e,function(e){e.length&&(t[e]=!0)}),t}var r=1,o=-1,a={};e=i(e),t=i(t),K(t,function(e,t){a[t]=r}),n=i(n),K(n,function(e,t){a[t]=a[t]===r?null:o});var s={addClass:"",removeClass:""};return K(a,function(t,n){var i,a;t===r?(i="addClass",a=!e[n]||e[n+V]):t===o&&(i="removeClass",a=e[n]||e[n+R]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(e){return e instanceof ne?e[0]:e}function b(e,t,n){var i="";t&&(i=o(t,B,!0)),n.addClass&&(i=_(i,o(n.addClass,R))),n.removeClass&&(i=_(i,o(n.removeClass,V))),i.length&&(n.preparationClasses=i,e.addClass(i))}function $(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function w(e,t){var n=t?"-"+t+"s":"";return x(e,[pe,n]),[pe,n]}function k(e,t){var n=t?"paused":"",i=I+le;return x(e,[i,n]),[i,n]}function x(e,t){var n=t[0],i=t[1];e.style[n]=i}function _(e,t){return e?t?e+" "+t:e:t}function S(e){return[fe,e+"s"]}function C(e,t){var n=t?he:pe;return[n,e+"s"]}function E(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return K(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=T(n)),0===n&&(n=null),i[t]=n}}),i}function T(e){var t=0,n=e.split(/\s*,\s*/);return K(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function A(e){return 0===e||null!=e}function O(e,t){var n=M,i=e+"s";return t?n+=re:i+=" linear all",[n,i]}function j(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function P(e,t,n){K(n,function(n){e[n]=X(e[n])?e[n]:t.style.getPropertyValue(n)})}var M,L,I,F,D=1,R="-add",V="-remove",B="ng-",N="-active",H="-prepare",U="ng-animate",z="$$ngAnimateChildren",q="";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(q="-webkit-",M="WebkitTransition",L="webkitTransitionEnd transitionend"):(M="transition",L="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(q="-webkit-",I="WebkitAnimation",F="webkitAnimationEnd animationend"):(I="animation",F="animationend");var W,G,K,Y,X,J,Q,Z,ee,te,ne,ie,re="Duration",oe="Property",ae="Delay",se="TimingFunction",ce="IterationCount",le="PlayState",ue=9999,he=I+ae,fe=I+re,pe=M+ae,de=M+re,ve=t.$$minErr("ng"),me=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],ge=["$interpolate",function(e){return{link:function(t,n,i){function r(e){e="on"===e||"true"===e,n.data(z,e)}var o=i.ngAnimateChildren;ee(o)&&0===o.length?n.data(z,!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}],ye="$$animateCss",be=1e3,$e=3,we=1.5,ke={transitionDuration:de,transitionDelay:pe,transitionProperty:M+oe,animationDuration:fe,animationDelay:he,animationIterationCount:I+ce},xe={transitionDuration:de,transitionDelay:pe,animationDuration:fe,animationDelay:he},_e=["$animateProvider",function(e){var t=j(),n=j();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,s,c,l,u,m,g){function b(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,r=i[n]||(i[n]=++H);return r+"-"+e.getAttribute("class")+"-"+t}function $(n,i,r,o){var a=t.get(r);return a||(a=E(e,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function _(r,a,s,c){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var u=o(a,"-stagger");i.addClass(r,u),l=E(e,r,c),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(r,u),n.put(s,l)}return l||{}}function T(e){U.push(e),m.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),i=0;i<U.length;i++)U[i](e);U.length=0})}function j(e,t,n){var i=$(e,t,n,ke),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var D=h(i),H=0,U=[];return function(e,n){function l(){m()}function h(){m(!0)}function m(t){if(!(X||Q&&J)){X=!0,J=!1,z.$$skipPreparationClasses||i.removeClass(e,ke),i.removeClass(e,Se),k(G,!1),w(G,!1),K(le,function(e){G.style[e[0]]=""}),D(e,z),p(e,z),Object.keys(q).length&&K(q,function(e,t){e?G.style.setProperty(t,e):G.style.removeProperty(t)}),z.onDone&&z.onDone(),pe&&pe.length&&e.off(pe.join(" "),H);var n=e.data(ye);n&&(c.cancel(n[0].timer),e.removeData(ye)),Z&&Z.complete(!t)}}function $(e){Ve.blockTransition&&w(G,e),Ve.blockKeyframeAnimation&&k(G,!!e)}function E(){return Z=new s({end:l,cancel:h}),T(ie),m(),{$$willAnimate:!1,start:function(){return Z},end:l}}function H(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed($e));Math.max(n-ce,0)>=ne&&i>=re&&(Q=!0,m())}function U(){function t(){if(!X){if($(!1),K(le,function(e){var t=e[0],n=e[1];G.style[t]=n}),D(e,z),i.addClass(e,Se),Ve.recalculateTimingStyles){if(_e=G.getAttribute("class")+" "+ke,Te=b(G,_e),De=j(G,_e,Te),Re=De.maxDelay,te=Math.max(Re,0),re=De.maxDuration,0===re)return void m();Ve.hasTransitions=De.transitionDuration>0,Ve.hasAnimations=De.animationDuration>0}if(Ve.applyAnimationDelay&&(Re="boolean"!=typeof z.delay&&A(z.delay)?parseFloat(z.delay):Re,te=Math.max(Re,0),De.animationDelay=Re,Be=C(Re,!0),le.push(Be),G.style[Be[0]]=Be[1]),ne=te*be,ae=re*be,z.easing){var t,r=z.easing;Ve.hasTransitions&&(t=M+se,le.push([t,r]),G.style[t]=r),Ve.hasAnimations&&(t=I+se,le.push([t,r]),G.style[t]=r)}De.transitionDuration&&pe.push(L),De.animationDuration&&pe.push(F),ce=Date.now();var o=ne+we*ae,a=ce+o,s=e.data(ye)||[],l=!0;if(s.length){var u=s[0];l=a>u.expectedEndTime,l?c.cancel(u.timer):s.push(m)}if(l){var h=c(n,o,!1);s[0]={timer:h,expectedEndTime:a},s.push(m),e.data(ye,s)}pe.length&&e.on(pe.join(" "),H),z.to&&(z.cleanupStyles&&P(q,G,Object.keys(z.to)),v(e,z))}}function n(){var t=e.data(ye);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ye)}}if(!X){if(!G.parentNode)return void m();var r=function(e){if(Q)J&&e&&(J=!1,m());else if(J=!e,De.animationDuration){var t=k(G,J);J?le.push(t):a(le,t)}},o=Ie>0&&(De.transitionDuration&&0===Ae.transitionDuration||De.animationDuration&&0===Ae.animationDuration)&&Math.max(Ae.animationDelay,Ae.transitionDelay);o?c(t,Math.floor(o*Ie*be),!1):t(),ee.resume=function(){r(!0)},ee.pause=function(){r(!1)}}}var z=n||{};z.$$prepared||(z=f(W(z)));var q={},G=y(e);if(!G||!G.parentNode||!g.enabled())return E();var X,J,Q,Z,ee,te,ne,re,ae,ce,le=[],he=e.attr("class"),fe=r(z),pe=[];if(0===z.duration||!u.animations&&!u.transitions)return E();var de=z.event&&Y(z.event)?z.event.join(" "):z.event,ve=de&&z.structural,me="",ge="";ve?me=o(de,B,!0):de&&(me=de),z.addClass&&(ge+=o(z.addClass,R)),
z.removeClass&&(ge.length&&(ge+=" "),ge+=o(z.removeClass,V)),z.applyClassesEarly&&ge.length&&D(e,z);var ke=[me,ge].join(" ").trim(),_e=he+" "+ke,Se=o(ke,N),Ce=fe.to&&Object.keys(fe.to).length>0,Ee=(z.keyframeStyle||"").length>0;if(!Ee&&!Ce&&!ke)return E();var Te,Ae;if(z.stagger>0){var Oe=parseFloat(z.stagger);Ae={transitionDelay:Oe,animationDelay:Oe,transitionDuration:0,animationDuration:0}}else Te=b(G,_e),Ae=_(G,ke,Te,xe);z.$$skipPreparationClasses||i.addClass(e,ke);var je;if(z.transitionStyle){var Pe=[M,z.transitionStyle];x(G,Pe),le.push(Pe)}if(z.duration>=0){je=G.style[M].length>0;var Me=O(z.duration,je);x(G,Me),le.push(Me)}if(z.keyframeStyle){var Le=[I,z.keyframeStyle];x(G,Le),le.push(Le)}var Ie=Ae?z.staggerIndex>=0?z.staggerIndex:t.count(Te):0,Fe=0===Ie;Fe&&!z.skipBlocking&&w(G,ue);var De=j(G,_e,Te),Re=De.maxDelay;te=Math.max(Re,0),re=De.maxDuration;var Ve={};if(Ve.hasTransitions=De.transitionDuration>0,Ve.hasAnimations=De.animationDuration>0,Ve.hasTransitionAll=Ve.hasTransitions&&"all"===De.transitionProperty,Ve.applyTransitionDuration=Ce&&(Ve.hasTransitions&&!Ve.hasTransitionAll||Ve.hasAnimations&&!Ve.hasTransitions),Ve.applyAnimationDuration=z.duration&&Ve.hasAnimations,Ve.applyTransitionDelay=A(z.delay)&&(Ve.applyTransitionDuration||Ve.hasTransitions),Ve.applyAnimationDelay=A(z.delay)&&Ve.hasAnimations,Ve.recalculateTimingStyles=ge.length>0,(Ve.applyTransitionDuration||Ve.applyAnimationDuration)&&(re=z.duration?parseFloat(z.duration):re,Ve.applyTransitionDuration&&(Ve.hasTransitions=!0,De.transitionDuration=re,je=G.style[M+oe].length>0,le.push(O(re,je))),Ve.applyAnimationDuration&&(Ve.hasAnimations=!0,De.animationDuration=re,le.push(S(re)))),0===re&&!Ve.recalculateTimingStyles)return E();if(null!=z.delay){var Be;"boolean"!=typeof z.delay&&(Be=parseFloat(z.delay),te=Math.max(Be,0)),Ve.applyTransitionDelay&&le.push(C(Be)),Ve.applyAnimationDelay&&le.push(C(Be,!0))}return null==z.duration&&De.transitionDuration>0&&(Ve.recalculateTimingStyles=Ve.recalculateTimingStyles||Fe),ne=te*be,ae=re*be,z.skipBlocking||(Ve.blockTransition=De.transitionDuration>0,Ve.blockKeyframeAnimation=De.animationDuration>0&&Ae.animationDelay>0&&0===Ae.animationDuration),z.from&&(z.cleanupStyles&&P(q,G,Object.keys(z.from)),d(e,z)),Ve.blockTransition||Ve.blockKeyframeAnimation?$(re):z.skipBlocking||w(G,!1),{$$willAnimate:!0,end:l,start:function(){if(!X)return ee={end:l,cancel:h,resume:null,pause:null},Z=new s(ee),T(U),Z}}}}]}],Se=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,c,l,u,h){function f(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return ee(e)&&(e=e.split(" ")),ee(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function d(t,a,c){function l(e){var t={},n=y(e).getBoundingClientRect();return K(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=g.scrollTop;break;case"left":i+=g.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function u(){var t=e(m,{addClass:r,delay:!0,from:l(a)});return t.$$willAnimate?t:null}function h(e){return e.attr("class")||""}function d(){var t=f(h(c)),n=p(t,b),i=p(b,t),a=e(m,{to:l(c),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function v(){m.remove(),a.removeClass(n),c.removeClass(n)}var m=ne(y(a).cloneNode(!0)),b=f(h(m));a.addClass(n),c.addClass(n),m.addClass(i),$.append(m);var w,k=u();if(!k&&(w=d(),!w))return v();var x=k||w;return{start:function(){function e(){n&&n.end()}var t,n=x.start();return n.done(function(){return n=null,!w&&(w=d())?(n=w.start(),n.done(function(){n=null,v(),t.complete()}),n):(v(),void t.complete())}),t=new s({end:e,cancel:e})}}}function v(e,t,n,i){var r=m(e,ie),o=m(t,ie),a=[];if(K(i,function(e){var t=e.out,i=e["in"],r=d(n,t,i);r&&a.push(r)}),r||o||0!==a.length)return{start:function(){function e(){K(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),K(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}}function m(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=_(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!l.animations&&!l.transitions)return ie;var g=h[0].body,b=y(c),$=ne(t(b)||g.contains(b)?b:g);return function(e){return e.from&&e.to?v(e.from,e.to,e.classes,e.anchors):m(e)}}]}],Ce=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=Y(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=h(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function c(){d=!0,s(),p(e,a)}function l(e,t,i,r,o){var a;switch(i){case"animate":a=[t,r.from,r.to,o];break;case"setClass":a=[t,g,y,o];break;case"addClass":a=[t,g,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(r);var s=e.apply(e,a);if(s)if(Q(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Q(s))return s;return ie}function u(e,t,i,r,o){var a=[];return K(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,c=function(e){a||(a=!0,(o||ie)(e),r.complete(!e))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,e,t,i,function(e){var t=e===!1;c(t)}),r})}),a}function h(e,t,i,r,o){var a=u(e,t,i,r,o);if(0===a.length){var s,c;"beforeSetClass"===o?(s=u(e,"removeClass",i,r,"beforeRemoveClass"),c=u(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=u(e,"removeClass",i,r,"removeClass"),c=u(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(e){var t=[];return a.length&&K(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){K(t,function(t){e?t.cancel():t.end()})}}}var d=!1;3===arguments.length&&Z(i)&&(a=i,i=null),a=f(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var v,m,g=a.addClass,y=a.removeClass,b=r(i);if(b.length){var $,w;"leave"===t?(w="leave",$="afterLeave"):(w="before"+t.charAt(0).toUpperCase()+t.substr(1),$=t),"enter"!==t&&"move"!==t&&(v=h(e,t,a,b,w)),m=h(e,t,a,b,$)}if(v||m){var k;return{$$willAnimate:!0,end:function(){return k?k.end():(c(),k=new n,k.complete(!0)),k},start:function(){function e(e){c(e),k.complete(e)}function t(t){d||((i||ie)(t),e(t))}if(k)return k;k=new n;var i,r=[];return v&&r.push(function(e){i=v(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),m&&r.push(function(e){i=m(e)}),k.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),k}}}}}]}],Ee=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,o=t.classes;return e(n,i,o,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){K(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],Te="data-ng-animate",Ae="$ngAnimatePin",Oe=["$animateProvider",function(t){function i(e){if(!e)return null;var t=e.split(d),n=Object.create(null);return K(t,function(e){n[e]=!0}),n}function r(e,t){if(e&&t){var n=i(t);return e.split(d).some(function(e){return n[e]})}}function o(e,t,n){return v[e].some(function(e){return e(t,n)})}function a(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var l=1,u=2,d=" ",v=this.rules={skip:[],cancel:[],join:[]};v.join.push(function(e,t){return!e.structural&&a(e)}),v.skip.push(function(e,t){return!e.structural&&!a(e)}),v.skip.push(function(e,t){return"leave"===t.event&&e.structural}),v.skip.push(function(e,t){return t.structural&&t.state===u&&!e.structural}),v.cancel.push(function(e,t){return t.structural&&e.structural}),v.cancel.push(function(e,t){return t.state===u&&e.structural}),v.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,o=t.addClass,a=t.removeClass;return!(te(n)&&te(i)||te(o)&&te(a))&&(r(n,a)||r(i,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,d,v,g,w,k,x,_,S,C){function E(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function T(e,t){return m(e,t,{})}function A(e,t,n){var i=[],r=H[n];return r&&K(r,function(r){ie.call(r.node,t)?i.push(r.callback):"leave"===n&&ie.call(r.node,e)&&i.push(r.callback)}),i}function O(e,t,n){var i=c(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}function j(e,t){"close"!==e||t.parentNode||re.off(t)}function P(e,t,n){function c(e,t,n,r){S(function(){var e=A(x,g,t);e.length?i(function(){K(e,function(e){e(v,n,r)}),j(n,g)}):j(n,g)}),e.progress(t,n,r)}function h(e){$(v,d),Q(v,d),p(v,d),d.domOperation(),_.complete(!e)}var d=W(n),v=s(e),g=y(v),x=g&&g.parentNode;d=f(d);var _=new k,S=E();if(Y(d.addClass)&&(d.addClass=d.addClass.join(" ")),d.addClass&&!ee(d.addClass)&&(d.addClass=null),Y(d.removeClass)&&(d.removeClass=d.removeClass.join(" ")),d.removeClass&&!ee(d.removeClass)&&(d.removeClass=null),d.from&&!Z(d.from)&&(d.from=null),d.to&&!Z(d.to)&&(d.to=null),!g)return h(),_;var O=[g.getAttribute("class"),d.addClass,d.removeClass].join(" ");if(!q(O))return h(),_;var P=["enter","move","leave"].indexOf(t)>=0,D=C(),N=!B||D||V.get(g),H=!N&&R.get(g)||{},U=!!H.state;if(N||U&&H.state===l||(N=!I(g,x,t)),N)return D&&c(_,t,"start"),h(),D&&c(_,t,"close"),_;P&&M(g);var z={structural:P,element:v,event:t,addClass:d.addClass,removeClass:d.removeClass,close:h,options:d,runner:_};if(U){var G=o("skip",z,H);if(G)return H.state===u?(h(),_):(m(v,H,z),H.runner);var X=o("cancel",z,H);if(X)if(H.state===u)H.runner.end();else{if(!H.structural)return m(v,H,z),H.runner;H.close()}else{var J=o("join",z,H);if(J){if(H.state!==u)return b(v,P?t:null,d),t=z.event=H.event,d=m(v,H,z),H.runner;T(v,z)}}}else T(v,z);var te=z.structural;if(te||(te="animate"===z.event&&Object.keys(z.options.to||{}).length>0||a(z)),!te)return h(),L(g),_;var ne=(H.counter||0)+1;return z.counter=ne,F(g,l,z),r.$$postDigest(function(){v=s(e);var n=R.get(g),i=!n;n=n||{};var r=v.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==ne||!o)return i&&(Q(v,d),p(v,d)),(i||P&&n.event!==t)&&(d.domOperation(),_.end()),void(o||L(g));t=!n.structural&&a(n,!0)?"setClass":n.event,F(g,u);var l=w(v,t,n.options);_.setHost(l),c(_,t,"start",{}),l.done(function(e){h(!e);var n=R.get(g);n&&n.counter===ne&&L(g),c(_,t,"close",{})})}),_}function M(e){var t=e.querySelectorAll("["+Te+"]");K(t,function(e){var t=parseInt(e.getAttribute(Te),10),n=R.get(e);if(n)switch(t){case u:n.runner.end();case l:R["delete"](e)}})}function L(e){e.removeAttribute(Te),R["delete"](e)}function I(e,t,n){var i,r=v[0].body,o=y(d),a=e===r||"HTML"===e.nodeName,s=e===o,c=!1,l=V.get(e),u=ne.data(e,Ae);for(u&&(t=y(u));t&&(s||(s=t===o),t.nodeType===D);){var h=R.get(t)||{};if(!c){var f=V.get(t);if(f===!0&&l!==!1){l=!0;break}f===!1&&(l=!1),c=h.structural}if(te(i)||i===!0){var p=ne.data(t,z);X(p)&&(i=p)}if(c&&i===!1)break;if(a||(a=t===r),a&&s)break;t=s||!(u=ne.data(t,Ae))?t.parentNode:y(u)}var m=(!c||i)&&l!==!0;return m&&s&&a}function F(e,t,n){n=n||{},n.state=t,e.setAttribute(Te,t);var i=R.get(e),r=i?G(i,n):n;R.set(e,r)}var R=new g,V=new g,B=null,N=r.$watch(function(){return 0===x.totalPendingRequests},function(e){e&&(N(),r.$$postDigest(function(){r.$$postDigest(function(){null===B&&(B=!0)})}))}),H=Object.create(null),U=t.classNameFilter(),q=U?function(e){return U.test(e)}:function(){return!0},Q=h(_),ie=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},re={on:function(e,t,n){var i=c(t);H[e]=H[e]||[],H[e].push({node:i,callback:n}),ne(t).on("$destroy",function(){var r=R.get(i);r||re.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||ee(arguments[0])){var i=H[e];i&&(H[e]=1===arguments.length?null:O(i,t,n))}else{t=arguments[0];for(var r in H)H[r]=O(H[r],t)}},pin:function(e,t){n(J(e),"element","not an element"),n(J(t),"parentElement","not an element"),e.data(Ae,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,P(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!B;else{var i=J(e);if(i){var r=y(e);1===n?t=!V.get(r):V.set(r,!t)}else t=B=!!e}return t}};return re}]}],je=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,s,c,l,u,d){function v(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;o.set(n,e);for(var a;i;){if(a=o.get(i)){a.processed||(a=t(a));break}i=i.parentNode}return(a||r).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,o=0,a=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,i.push(e)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new u;for(i=0;i<e.length;i++){var a=e[i];o.set(a.domNode,e[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(r)}var m=[],g=h(e);return function(u,h,b){function $(e){var t="["+o+"]",n=e.hasAttribute(o)?[e]:e.querySelectorAll(t),i=[];return K(n,function(e){var t=e.getAttribute(o);t&&t.length&&i.push(e)}),i}function w(e){var t=[],n={};K(e,function(e,i){var r=e.element,a=y(r),s=e.event,c=["enter","move"].indexOf(s)>=0,l=e.structural?$(a):[];if(l.length){var u=c?"to":"from";K(l,function(e){var t=e.getAttribute(o);n[t]=n[t]||{},n[t][u]={animationID:i,element:ne(e)}})}else t.push(e)});var i={},r={};return K(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,l=c.toString();return void(i[l]||(i[l]=!0,t.push(e[c])))}var u=e[a.animationID],h=e[s.animationID],f=a.animationID.toString();if(!r[f]){var p=r[f]={structural:!0,beforeStart:function(){u.beforeStart(),h.beforeStart()},close:function(){u.close(),h.close()},classes:k(u.classes,h.classes),from:u,to:h,anchors:[]};p.classes.length?t.push(p):(t.push(u),t.push(h))}r[f].anchors.push({out:a.element,"in":s.element})}),t}function k(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function x(e){for(var t=a.length-1;t>=0;t--){var n=a[t],i=c.get(n),r=i(e);if(r)return r}}function _(){u.addClass(U),j&&e.addClass(u,j),P&&(e.removeClass(u,P),P=null)}function S(e,t){function n(e){var n=r(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function C(){var e=r(u);!e||"leave"===h&&b.$$domOperationFired||e.end()}function E(t){u.off("$destroy",C),n(u),g(u,b),p(u,b),b.domOperation(),j&&e.removeClass(u,j),u.removeClass(U),A.complete(!t)}b=f(b);var T=["enter","move","leave"].indexOf(h)>=0,A=new l({end:function(){E()},cancel:function(){E(!0)}});if(!a.length)return E(),A;t(u,A);var O=i(u.attr("class"),i(b.addClass,b.removeClass)),j=b.tempClasses;j&&(O+=" "+j,b.tempClasses=null);var P;return T&&(P="ng-"+h+H,e.addClass(u,P)),m.push({element:u,classes:O,event:h,structural:T,options:b,beforeStart:_,close:E}),u.on("$destroy",C),m.length>1?A:(s.$$postDigest(function(){var e=[];K(m,function(t){r(t.element)?e.push(t):t.close()}),m.length=0;var t=w(e),n=[];K(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(r(i)){var o=x(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){n(!e)}),S(e,a)}else n()}})}),d(v(n))}),A)}}]}],Pe=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){ie=t.noop,W=t.copy,G=t.extend,ne=t.element,K=t.forEach,Y=t.isArray,ee=t.isString,Z=t.isObject,te=t.isUndefined,X=t.isDefined,Q=t.isFunction,J=t.isElement}).directive("ngAnimateSwap",Pe).directive("ngAnimateChildren",ge).factory("$$rAFScheduler",me).provider("$$animateQueue",Oe).provider("$$animation",je).provider("$animateCss",_e).provider("$$animateCssDriver",Se).provider("$$animateJs",Ce).provider("$$animateJsDriver",Ee)}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return z(new(z(function(){},{prototype:e})),t)}function r(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function c(e,t,n,i){var r,c=o(n,i),l={},u=[];for(var h in c)if(c[h]&&c[h].params&&(r=a(c[h].params),r.length))for(var f in r)s(u,r[f])>=0||(u.push(r[f]),l[r[f]]=e[r[f]]);return z({},l,t)}function l(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function u(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function f(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)s(n,i)==-1&&(t[i]=e[i]);return t}function p(e,t){var n=H(e),i=n?[]:{};return U(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function d(e,t){var n=H(e)?[]:{};return U(e,function(e,i){n[i]=t(e,i)}),n}function v(e){return e.then(n,function(){})&&e}function m(e,t){var i=1,o=2,c={},l=[],u=c,h=z(e.when(c),{$$promises:c,$$values:c});this.study=function(c){function p(e,n){if(y[n]!==o){if(g.push(n),y[n]===i)throw g.splice(0,s(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(y[n]=i,B(e))m.push(n,[function(){return t.get(e)}],l);else{var r=t.annotate(e);U(r,function(e){e!==n&&c.hasOwnProperty(e)&&p(c[e],e)}),m.push(n,e,r)}g.pop(),y[n]=o}}function d(e){return N(e)&&e.then&&e.$$promises}if(!N(c))throw new Error("'invocables' must be an object");var v=a(c||{}),m=[],g=[],y={};return U(c,p),c=g=y=null,function(i,o,a){function s(){--$||(w||r(b,o.$$values),g.$$values=b,g.$$promises=g.$$promises||!0,delete g.$$inheritedValues,p.resolve(b))}function c(e){g.$$failure=e,p.reject(e)}function l(n,r,o){function l(e){h.reject(e),c(e)}function u(){if(!R(g.$$failure))try{h.resolve(t.invoke(r,a,b)),h.promise.then(function(e){b[n]=e,s()},l)}catch(e){l(e)}}var h=e.defer(),f=0;U(o,function(e){y.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(f++,y[e].then(function(t){b[e]=t,--f||u()},l))}),f||u(),y[n]=h.promise}if(d(i)&&a===n&&(a=o,o=i,i=null),i){if(!N(i))throw new Error("'locals' must be an object")}else i=u;if(o){if(!d(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var p=e.defer(),g=p.promise,y=g.$$promises={},b=z({},i),$=1+m.length/3,w=!1;if(R(o.$$failure))return c(o.$$failure),g;o.$$inheritedValues&&r(b,f(o.$$inheritedValues,v)),z(y,o.$$promises),o.$$values?(w=r(b,f(o.$$values,v)),g.$$inheritedValues=f(o.$$values,v),s()):(o.$$inheritedValues&&(g.$$inheritedValues=f(o.$$inheritedValues,v)),o.then(s,c));for(var k=0,x=m.length;k<x;k+=3)i.hasOwnProperty(m[k])?s():l(m[k],m[k+1],m[k+2]);return g}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function g(e,t,n){this.fromConfig=function(e,t,n){return R(e.template)?this.fromString(e.template,t):R(e.templateUrl)?this.fromUrl(e.templateUrl,t):R(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return V(e)?e(t):e},this.fromUrl=function(n,i){return V(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function y(e,t,r){function o(t,n,i,r){if(m.push(t),d[t])return d[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(v[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return v[t]=new G.Param(t,n,i,r),v[t]}function a(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function s(r,o){var a,s,c,l,u;return a=r[2]||r[3],u=t.params[a],c=e.substring(f,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(l=G.type(s)||i(G.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:c,type:l,cfg:u}}t=z({params:{}},N(t)?t:{});var c,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",f=0,p=this.segments=[],d=r?r.params:{},v=this.params=r?r.params.$$new():new G.ParamSet,m=[];this.source=e;for(var g,y,b;(c=l.exec(e))&&(g=s(c,!1),!(g.segment.indexOf("?")>=0));)y=o(g.id,g.type,g.cfg,"path"),h+=a(g.segment,y.type.pattern.source,y.squash,y.isOptional),p.push(g.segment),f=l.lastIndex;b=e.substring(f);var $=b.indexOf("?");if($>=0){var w=this.sourceSearch=b.substring($);if(b=b.substring(0,$),this.sourcePath=e.substring(0,f+$),w.length>0)for(f=0;c=u.exec(w);)g=s(c,!0),y=o(g.id,g.type,g.cfg,"search"),f=l.lastIndex}else this.sourcePath=e,this.sourceSearch="";h+=a(b)+(t.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(h,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function b(e){z(this,e)}function $(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function r(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function o(){return{strict:v,caseInsensitive:f}}function c(e){return V(e)||H(e)&&V(e[e.length-1])}function l(){for(;k.length;){var e=k.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(g[e.name],h.invoke(e.def))}}function u(e){z(this,e||{})}G=this;var h,f=!1,v=!0,m=!1,g={},w=!0,k=[],x={string:{encode:e,decode:r,is:function(e){return null==e||!R(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return R(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};$.$$getDefaultValue=function(e){if(!c(e.value))return e.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(e.value)},this.caseInsensitive=function(e){return R(e)&&(f=e),f},this.strictMode=function(e){return R(e)&&(v=e),v},this.defaultSquashPolicy=function(e){if(!R(e))return m;if(e!==!0&&e!==!1&&!B(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new y(e,z(o(),t))},this.isMatcher=function(e){if(!N(e))return!1;var t=!0;return U(y.prototype,function(n,i){V(n)&&(t=t&&R(e[i])&&V(e[i]))}),t},this.type=function(e,t,n){if(!R(t))return g[e];if(g.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return g[e]=new b(z({name:e},t)),n&&(k.push({name:e,def:n}),w||l()),this},U(x,function(e,t){g[t]=new b(z({name:t},e))}),g=i(g,{}),this.$get=["$injector",function(e){return h=e,w=!1,l(),U(x,function(e,t){g[t]||(g[t]=new b(e))}),this}],this.Param=function(e,i,r,o){function l(e){var t=N(e)?a(e):[],n=s(t,"value")===-1&&s(t,"type")===-1&&s(t,"squash")===-1&&s(t,"array")===-1;return n&&(e={value:e}),e.$$fn=c(e.value)?e.value:function(){return e.value},e}function u(n,i,r){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i?i:n.type?t.isString(n.type)?g[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===r?g.any:g.string}function f(){var t={array:"search"===o&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return z(t,n,r).array}function v(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!R(n)||null==n)return m;if(n===!0||B(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function y(e,t,i,r){var o,a,c=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=H(e.replace)?e.replace:[],B(r)&&o.push({from:r,to:n}),a=d(o,function(e){return e.from}),p(c,function(e){return s(a,e.from)===-1}).concat(o)}function $(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var e=h.invoke(r.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function w(e){function t(e){return function(t){return t.from===e}}function n(e){var n=d(p(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),R(e)?x.type.$normalize(e):$()}function k(){return"{Param:"+e+" "+i+" squash: '"+C+"' optional: "+S+"}"}var x=this;r=l(r),i=u(r,i,o);var _=f();i=_?i.$asArray(_,"search"===o):i,"string"!==i.name||_||"path"!==o||r.value!==n||(r.value="");var S=r.value!==n,C=v(r,S),E=y(r,_,S,C);z(this,{id:e,type:i,location:o,array:_,squash:C,replace:E,isOptional:S,value:w,dynamic:n,config:r,toString:k})},u.prototype={$$new:function(){return i(this,z(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(a(t),function(t){s(e,t)===-1&&s(i,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return U(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var i,r,o,a,s,c=this.$$keys();for(i=0;i<c.length&&(r=this[c[i]],o=e[c[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=u}function w(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!R(i)||i}function s(i,r,o,a,s){function f(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(o,i);return!!t&&(B(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){v&&i.url()===v;v=n;var r,a=l.length;for(r=0;r<a;r++)if(t(l[r]))return;u&&t(u)}}function d(){return c=c||r.$on("$locationChangeSuccess",p)}var v,m=a.baseHref(),g=i.url();return h||d(),{sync:function(){p()},listen:function(){return d()},update:function(e){return e?void(g=i.url()):void(i.url()!==g&&(i.url(g),i.replace()))},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),v=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var c=n.format(r);if(o=o||{},a||null===c||(c="#"+e.hashPrefix()+c),null!==c&&r&&r["#"]&&(c+="#"+r["#"]),c=f(c,a,o.absolute),!o.absolute||!c)return c;var l=!a&&c?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,l,c].join("")}}}var c,l=[],u=null,h=!1;this.rule=function(e){if(!V(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(B(e)){var t=e;e=function(){return t}}else if(!V(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=B(t);if(B(e)&&(e=i.compile(e)),!s&&!V(t)&&!H(t))throw new Error("invalid 'handler' in when()");var c={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),z(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:B(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),z(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},l={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in l)if(l[u])return this.rule(c[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),h=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function k(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function f(e,t){if(!e)return n;var i=B(e),r=i?e:e.name,a=o(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=f(t);for(var s=r.split("."),c=0,l=s.length,u=t;c<l;c++)if(""!==s[c]||0!==c){if("^"!==s[c])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(c).join("."),r=u.name+(u.name&&s?".":"")+s}var h=C[r];return!h||!i&&(i||h!==e&&h.self!==e)?n:h}function p(e,t){E[e]||(E[e]=[]),E[e].push(t)}function m(e){for(var t=E[e]||[];t.length;)g(t.shift())}function g(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!B(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):B(t.parent)?t.parent:N(t.parent)&&B(t.parent.name)?t.parent.name:"";if(r&&!C[r])return p(r,t.self);for(var o in A)V(A[o])&&(t[o]=A[o](t,A.$delegates[o]));return C[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&l(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function y(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=S.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function $(e,t){return B(e)&&!R(t)?A[e]:V(t)&&B(e)?(A[e]&&!A.$delegates[e]&&(A.$delegates[e]=A[e]),A[e]=t,this):this;
}function w(e,t){return N(e)?t=e:t.name=e,g(t),this}function k(e,r,o,s,h,p,m,g,$){function w(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return m.update(),j;if(!a.retry)return null;if(o.$retry)return m.update(),P;var s=S.transition=r.when(a.retry);return s.then(function(){return s!==S.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),A):(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return j}),m.update(),s}function k(e,n,i,a,c,l){function f(){var n=[];return U(e.views,function(i,r){var a=i.resolve&&i.resolve!==e.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:c.globals,params:p,notify:l.notify})||""}],n.push(h.resolve(a,c.globals,c.resolve,e).then(function(n){if(V(i.controllerProvider)||H(i.controllerProvider)){var o=t.extend({},a,c.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,c[r]=n}))}),r.all(n).then(function(){return c.globals})}var p=i?n:u(e.params.$$keys(),n),d={$stateParams:p};c.resolve=h.resolve(e.resolve,d,c.resolve,e);var v=[c.resolve.then(function(e){c.globals=e})];return a&&v.push(a),r.all(v).then(f).then(function(e){return c})}var E=new Error("transition superseded"),A=v(r.reject(E)),O=v(r.reject(new Error("transition prevented"))),j=v(r.reject(new Error("transition aborted"))),P=v(r.reject(new Error("transition failed")));return _.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:_.self,$current:_,transition:null},S.reload=function(e){return S.transitionTo(S.current,p,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,z({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,o){n=n||{},o=z({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=S.$current,h=S.params,d=l.path,v=f(t,o.relative),g=n["#"];if(!R(v)){var y={to:t,toParams:n,options:o},b=w(y,l.self,h,o);if(b)return b;if(t=y.to,n=y.toParams,o=y.options,v=f(t,o.relative),!R(v)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(v[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=c(p,n||{},S.$current,v)),!v.params.$$validates(n))return P;n=v.params.$$values(n),t=v;var $=t.path,C=0,j=$[C],M=_.locals,L=[];if(o.reload){if(B(o.reload)||N(o.reload)){if(N(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var I=o.reload===!0?d[0]:f(o.reload);if(o.reload&&!I)throw new Error("No such reload state '"+(B(o.reload)?o.reload:o.reload.name)+"'");for(;j&&j===d[C]&&j!==I;)M=L[C]=j.locals,C++,j=$[C]}}else for(;j&&j===d[C]&&j.ownParams.$$equals(n,h);)M=L[C]=j.locals,C++,j=$[C];if(x(t,n,l,h,M,o))return g&&(n["#"]=g),S.params=n,q(S.params,p),q(u(t.params.$$keys(),p),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),S.transition=null,r.when(S.current);if(n=u(t.params.$$keys(),n||{}),g&&(n["#"]=g),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,l.self,h,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),null==S.transition&&m.update(),O;for(var F=r.when(M),D=C;D<$.length;D++,j=$[D])M=L[D]=i(M),F=k(j,n,j===t,F,M,o);var V=S.transition=F.then(function(){var i,r,a;if(S.transition!==V)return e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),A;for(i=d.length-1;i>=C;i--)a=d[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=C;i<$.length;i++)r=$[i],r.locals=L[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==V?(e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),A):(S.$current=t,S.current=t.self,S.params=n,q(S.params,p),S.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,l.self,h),m.update(!0),S.current)}).then(null,function(i){return i===E?A:S.transition!==V?(e.$broadcast("$stateChangeCancel",t.self,n,l.self,h),A):(S.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,l.self,h,i),a.defaultPrevented||m.update(),r.reject(i))});return V},S.is=function(e,t,i){i=z({relative:S.$current},i||{});var r=f(e,i.relative);return R(r)?S.$current===r&&(!t||l(r.params.$$values(t),p)):n},S.includes=function(e,t,i){if(i=z({relative:S.$current},i||{}),B(e)&&y(e)){if(!b(e))return!1;e=S.$current.name}var r=f(e,i.relative);if(!R(r))return n;if(!R(S.$current.includes[r.name]))return!1;if(!t)return!0;for(var o=a(t),s=0;s<o.length;s++){var c=o[s],l=r.params[c];if(l&&!l.type.equals(p[c],t[c]))return!1}return!0},S.href=function(e,t,i){i=z({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=f(e,i.relative);if(!R(r))return null;i.inherit&&(t=c(p,t||{},S.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?m.href(o.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return d(a(C),function(e){return C[e].self});var n=f(e,t||S.$current);return n&&n.self?n.self:null},S}function x(e,t,n,i,r,o){function a(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),o=h.apply({},[e.params].concat(r)),a=new G.ParamSet(o);return a.$$equals(t,n)}if(!o.reload&&e===n&&(r===n.locals||e.self.reloadOnSearch===!1&&a(n,i,t)))return!0}var _,S,C={},E={},T="abstract",A={parent:function(e){if(R(e.parent)&&e.parent)return f(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?f(t[1]):_},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(B(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||_).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new G.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new G.Param(n,null,e,"config"))}),t},params:function(e){var t=h(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?z(e.parent.params.$$new(),t):new G.ParamSet},views:function(e){var t={};return U(R(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?z({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};_=g({name:"",url:"^",views:null,"abstract":!0}),_.navigable=null,this.decorator=$,this.state=w,this.$get=k,k.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(e,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=z(r,n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function _(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,i,r,o){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function s(e,n){var i=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(u)return{enter:function(e,n,i){t.version.minor>2?u.enter(e,null,n).then(i):u.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?u.leave(e).then(n):u.leave(e,n)}};if(l){var r=l&&l(n,e);return{enter:function(e,t,n){r.enter(e,null,t),n()},leave:function(e,t){r.leave(e),t()}}}return i()}var c=a(),l=c("$animator"),u=c("$animate"),h={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,c){return function(n,a,l){function u(){if(f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p){var e=p.data("$uiViewAnim");y.leave(p,function(){e.$$animLeave.resolve(),f=null}),f=p,p=null}}function h(s){var h,f=E(n,l,a,r),b=f&&e.$current&&e.$current.locals[f];if(s||b!==v){h=n.$new(),v=e.$current.locals[f],h.$emit("$viewContentLoading",f);var $=c(h,function(e){var r=o.defer(),s=o.defer(),c={$animEnter:r.promise,$animLeave:s.promise,$$animLeave:s};e.data("$uiViewAnim",c),y.enter(e,a,function(){r.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(t.isDefined(g)&&!g||n.$eval(g))&&i(e)}),u()});p=$,d=h,d.$emit("$viewContentLoaded",f),d.$eval(m)}}var f,p,d,v,m=l.onload||"",g=l.autoscroll,y=s(l,n);a.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){h(!1)}),h(!0)}}};return h}function C(e,n,i,r){return{restrict:"ECA",priority:-400,compile:function(o){var a=o.html();return function(o,s,c){var l=i.$current,u=E(o,c,s,r),h=l&&l.locals[u];if(h){s.data("$uiView",{name:u,state:h.$$state}),s.html(h.$template?h.$template:a);var f=t.extend({},h);o[h.$$resolveAs]=f;var p=e(s.contents());if(h.$$controller){h.$scope=o,h.$element=s;var d=n(h.$$controller,h);h.$$controllerAs&&(o[h.$$controllerAs]=d,o[h.$$controllerAs][h.$$resolveAs]=f),V(d.$onInit)&&d.$onInit(),s.data("$ngControllerController",d),s.children().data("$ngControllerController",d)}p(o)}}}}}function E(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function T(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function A(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function O(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function j(e,t,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var c=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var l=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(c)}}}}function P(e,t){return{relative:A(e)||t.$current,inherit:!0}}function M(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,c=T(o.uiSref,e.current.name),l={state:c.state,href:null,params:null},u=O(r),h=a[1]||a[0],f=null;l.options=z(P(r,e),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var p=function(n){n&&(l.params=t.copy(n)),l.href=e.href(c.state,l.params,l.options),f&&f(),h&&(f=h.$$addStateInfo(c.state,l.params)),null!==l.href&&o.$set(u.attr,l.href)};c.paramExpr&&(i.$watch(c.paramExpr,function(e){e!==l.params&&p(e)},!0),l.params=t.copy(i.$eval(c.paramExpr))),p(),u.clickable&&(s=j(r,e,n,u,function(){return l}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function L(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),p&&p(),l&&(p=l.$$addStateInfo(f.state,f.params)),f.href&&r.$set(c.attr,f.href)}var s,c=O(i),l=o[1]||o[0],u=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],h="["+u.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null},p=null;n.$watch(h,a,!0),a(n.$eval(h)),c.clickable&&(s=j(i,e,t,c,function(){return f}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function I(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,o){function a(t,n,r){var o=e.get(t,A(i)),a=s(t,n),c={state:o||{name:t},params:n,hash:a};return v.push(c),m[a]=r,function(){var e=v.indexOf(c);e!==-1&&v.splice(e,1)}}function s(e,n){if(!B(e))throw new Error("state should be a string");return N(n)?e+W(n):(n=t.$eval(n),N(n)?e+W(n):e)}function c(){for(var e=0;e<v.length;e++)h(v[e].state,v[e].params)?l(i,m[v[e].hash]):u(i,m[v[e].hash]),f(v[e].state,v[e].params)?l(i,p):u(i,p)}function l(e,t){o(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function h(t,n){return e.includes(t.name,n)}function f(t,n){return e.is(t.name,n)}var p,d,v=[],m={};p=n(r.uiSrefActiveEq||"",!1)(t);try{d=t.$eval(r.uiSrefActive)}catch(g){}d=d||n(r.uiSrefActive||"",!1)(t),N(d)&&U(d,function(n,i){if(B(n)){var r=T(n,e.current.name);a(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(N(d)&&v.length>0)){var n=a(e,t,d);return c(),n}},t.$on("$stateChangeSuccess",c),c()}]}}function F(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function D(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var R=t.isDefined,V=t.isFunction,B=t.isString,N=t.isObject,H=t.isArray,U=t.forEach,z=t.extend,q=t.copy,W=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var G;y.prototype.concat=function(e,t){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new y(this.sourcePath+e+this.sourceSearch,z(n,t),this)},y.prototype.toString=function(){return this.source},y.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),r=d(i,t);return d(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,a,s=this.parameters(),c=s.length,l=this.segments.length-1,u={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,f;for(r=0;r<l;r++){for(a=s[r],h=this.params[a],f=i[r+1],o=0;o<h.replace.length;o++)h.replace[o].from===f&&(f=h.replace[o].to);f&&h.array===!0&&(f=n(f)),R(f)&&(f=h.type.decode(f)),u[a]=h.value(f)}for(;r<c;r++){for(a=s[r],u[a]=this.params[a].value(t[a]),h=this.params[a],f=t[a],o=0;o<h.replace.length;o++)h.replace[o].from===f&&(f=h.replace[o].to);R(f)&&(f=h.type.decode(f)),u[a]=h.value(f)}return u},y.prototype.parameters=function(e){return R(e)?this.params[e]||null:this.$$paramNames},y.prototype.validates=function(e){return this.params.$$validates(e)},y.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,c=i.length,l=n[0];for(o=0;o<c;o++){var u=o<s,h=i[o],f=r[h],p=f.value(e[h]),v=f.isOptional&&f.type.equals(f.value(),p),m=!!v&&f.squash,g=f.type.encode(p);if(u){var y=n[o+1],b=o+1===s;if(m===!1)null!=g&&(l+=H(g)?d(g,t).join("-"):encodeURIComponent(g)),l+=y;else if(m===!0){var $=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match($)[1]}else B(m)&&(l+=m+y);b&&f.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==g||v&&m!==!1)continue;if(H(g)||(g=[g]),0===g.length)continue;g=d(g,encodeURIComponent).join("&"+h+"="),l+=(a?"&":"?")+(h+"="+g),a=!0}}return l},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return H(e)?e:R(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(H(n)&&0===n.length)return n;n=r(n);var i=d(n,e);return t===!0?0===p(i,a).length:o(i)}}function c(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=c(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",$),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),k.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",k).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",_),S.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],C.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",C),M.$inject=["$state","$timeout"],L.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",M).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",L),F.$inject=["$state"],D.$inject=["$state"],t.module("ui.router.state").filter("isState",F).filter("includedByState",D)}(window,window.angular),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&t(r[i],n)===-1&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),i!==-1&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,a,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),r=0;r<n.length;r++)i=n[r],i.once===!0&&this.removeListener(e,i.listener),a=i.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:r.EventEmitter=e}.call(this),function(){function e(){}function t(e){return e}function n(e){return!!e}function i(e){return!e}function r(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function o(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function a(e){return F(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function s(e,t){for(var n=-1,i=e.length;++n<i;)t(e[n],n,e)}function c(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function l(e){return c(Array(e),function(e,t){return t})}function u(e,t,n){return s(e,function(e,i,r){n=t(n,e,i,r)}),n}function h(e,t){s(R(e),function(n){t(e[n],n)})}function f(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function p(e){var t,n,i=-1;return a(e)?(t=e.length,function(){return i++,i<t?i:null}):(n=R(e),t=n.length,function(){return i++,i<t?n[i]:null})}function d(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i)}}}function v(e){return function(t,n,i){return e(t,i)}}function m(t){return function(n,i,a){a=o(a||e),n=n||[];var s=p(n);if(t<=0)return a(null);var c=!1,l=0,u=!1;!function h(){if(c&&l<=0)return a(null);for(;l<t&&!u;){var e=s();if(null===e)return c=!0,void(l<=0&&a(null));l+=1,i(n[e],e,r(function(e){l-=1,e?(a(e),u=!0):h()}))}}()}}function g(e){return function(t,n,i){return e(M.eachOf,t,n,i)}}function y(e){return function(t,n,i,r){return e(m(n),t,i,r)}}function b(e){return function(t,n,i){return e(M.eachOfSeries,t,n,i)}}function $(t,n,i,r){r=o(r||e),n=n||[];var s=a(n)?[]:{};t(n,function(e,t,n){i(e,function(e,i){s[t]=i,n(e)})},function(e){r(e,s)})}function w(e,t,n,i){var r=[];e(t,function(e,t,i){n(e,function(n){n&&r.push({index:t,value:e}),i()})},function(){i(c(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function k(e,t,n,i){w(e,t,function(e,t){n(e,function(e){t(!e)})},i)}function x(e,t,n){return function(i,r,o,a){function s(){a&&a(n(!1,void 0))}function c(e,i,r){return a?void o(e,function(i){a&&t(i)&&(a(n(!0,e)),a=o=!1),r()}):r()}arguments.length>3?e(i,r,c,s):(a=o,o=r,e(i,c,s))}}function _(e,t){return t}function S(t,n,i){i=i||e;var r=a(n)?[]:{};t(n,function(e,t,n){e(d(function(e,i){i.length<=1&&(i=i[0]),r[t]=i,n(e)}))},function(e){i(e,r)})}function C(e,t,n,i){var r=[];e(t,function(e,t,i){n(e,function(e,t){r=r.concat(t||[]),i(e)})},function(e){i(e,r)})}function E(t,n,i){function o(t,n,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");return t.started=!0,F(n)||(n=[n]),0===n.length&&t.idle()?M.setImmediate(function(){t.drain()}):(s(n,function(n){var o={data:n,callback:r||e};i?t.tasks.unshift(o):t.tasks.push(o),t.tasks.length===t.concurrency&&t.saturated()}),void M.setImmediate(t.process))}function a(e,t){return function(){l-=1;var n=!1,i=arguments;s(t,function(e){s(u,function(t,i){t!==e||n||(u.splice(i,1),n=!0)}),e.callback.apply(e,i)}),e.tasks.length+l===0&&e.drain(),e.process()}}if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var l=0,u=[],h={tasks:[],concurrency:n,payload:i,saturated:e,empty:e,drain:e,started:!1,paused:!1,push:function(e,t){o(h,e,!1,t)},kill:function(){h.drain=e,h.tasks=[]},unshift:function(e,t){o(h,e,!0,t)},process:function(){for(;!h.paused&&l<h.concurrency&&h.tasks.length;){var e=h.payload?h.tasks.splice(0,h.payload):h.tasks.splice(0,h.tasks.length),n=c(e,function(e){return e.data});0===h.tasks.length&&h.empty(),l+=1,u.push(e[0]);var i=r(a(h,e));t(n,i)}},length:function(){return h.tasks.length},running:function(){return l},workersList:function(){return u},idle:function(){return h.tasks.length+l===0},pause:function(){h.paused=!0},resume:function(){if(h.paused!==!1){h.paused=!1;for(var e=Math.min(h.concurrency,h.tasks.length),t=1;t<=e;t++)M.setImmediate(h.process)}}};return h}function T(e){return d(function(t,n){t.apply(null,n.concat([d(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))})]))})}function A(e){return function(t,n,i){e(l(t),n,i)}}function O(e){return d(function(t,n){var i=d(function(n){var i=this,r=n.pop();return e(t,function(e,t,r){e.apply(i,n.concat([r]))},r)});return n.length?i.apply(this,n):i})}function j(e){return d(function(t){var n=t.pop();t.push(function(){var e=arguments;i?M.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var i=!0;e.apply(this,t),i=!1})}var P,M={},L="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=L&&(P=L.async),M.noConflict=function(){return L.async=P,M};var I=Object.prototype.toString,F=Array.isArray||function(e){return"[object Array]"===I.call(e)},D=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},R=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},V="function"==typeof setImmediate&&setImmediate,B=V?function(e){V(e)}:function(e){setTimeout(e,0)};"object"==typeof process&&"function"==typeof process.nextTick?M.nextTick=process.nextTick:M.nextTick=B,M.setImmediate=V?B:M.nextTick,M.forEach=M.each=function(e,t,n){return M.eachOf(e,v(t),n)},M.forEachSeries=M.eachSeries=function(e,t,n){return M.eachOfSeries(e,v(t),n)},M.forEachLimit=M.eachLimit=function(e,t,n,i){return m(t)(e,v(n),i)},M.forEachOf=M.eachOf=function(t,n,i){function a(e){l--,e?i(e):null===s&&l<=0&&i(null)}i=o(i||e),t=t||[];for(var s,c=p(t),l=0;null!=(s=c());)l+=1,n(t[s],s,r(a));0===l&&i(null)},M.forEachOfSeries=M.eachOfSeries=function(t,n,i){function a(){var e=!0;return null===c?i(null):(n(t[c],c,r(function(t){if(t)i(t);else{if(c=s(),null===c)return i(null);e?M.setImmediate(a):a()}})),void(e=!1))}i=o(i||e),t=t||[];var s=p(t),c=s();a()},M.forEachOfLimit=M.eachOfLimit=function(e,t,n,i){m(t)(e,n,i)},M.map=g($),M.mapSeries=b($),M.mapLimit=y($),M.inject=M.foldl=M.reduce=function(e,t,n,i){M.eachOfSeries(e,function(e,i,r){n(t,e,function(e,n){t=n,r(e)})},function(e){i(e,t)})},M.foldr=M.reduceRight=function(e,n,i,r){var o=c(e,t).reverse();M.reduce(o,n,i,r)},M.transform=function(e,t,n,i){3===arguments.length&&(i=n,n=t,t=F(e)?[]:{}),M.eachOf(e,function(e,i,r){n(t,e,i,r)},function(e){i(e,t)})},M.select=M.filter=g(w),M.selectLimit=M.filterLimit=y(w),M.selectSeries=M.filterSeries=b(w),M.reject=g(k),M.rejectLimit=y(k),M.rejectSeries=b(k),M.any=M.some=x(M.eachOf,n,t),M.someLimit=x(M.eachOfLimit,n,t),M.all=M.every=x(M.eachOf,i,i),M.everyLimit=x(M.eachOfLimit,i,i),M.detect=x(M.eachOf,t,_),M.detectSeries=x(M.eachOfSeries,t,_),M.detectLimit=x(M.eachOfLimit,t,_),M.sortBy=function(e,t,n){function i(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}M.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){return e?n(e):void n(null,c(t.sort(i),function(e){return e.value}))})},M.auto=function(t,n,i){function r(e){y.unshift(e)}function a(e){var t=f(y,e);t>=0&&y.splice(t,1)}function c(){p--,s(y.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(i=n,n=null),i=o(i||e);var l=R(t),p=l.length;if(!p)return i(null);n||(n=p);var v={},m=0,g=!1,y=[];r(function(){p||i(null,v)}),s(l,function(e){function o(){return m<n&&u(b,function(e,t){return e&&v.hasOwnProperty(t)},!0)&&!v.hasOwnProperty(e)}function s(){o()&&(m++,a(s),p[p.length-1](y,v))}if(!g){for(var l,p=F(t[e])?t[e]:[t[e]],y=d(function(t,n){if(m--,n.length<=1&&(n=n[0]),t){var r={};h(v,function(e,t){r[t]=e}),r[e]=n,g=!0,i(t,r)}else v[e]=n,M.setImmediate(c)}),b=p.slice(0,p.length-1),$=b.length;$--;){if(!(l=t[b[$]]))throw new Error("Has nonexistent dependency in "+b.join(", "));if(F(l)&&f(l,e)>=0)throw new Error("Has cyclic dependencies")}o()?(m++,p[p.length-1](y,v)):r(s)}})},M.retry=function(e,t,n){function i(e,t){if("number"==typeof t)e.times=parseInt(t,10)||o;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||o,e.interval=parseInt(t.interval,10)||a}}function r(e,t){function n(e,n){return function(i){e(function(e,t){i(!e||n,{err:e,result:t})},t)}}function i(e){return function(t){setTimeout(function(){t(null)},e)}}for(;c.times;){var r=!(c.times-=1);s.push(n(c.task,r)),!r&&c.interval>0&&s.push(i(c.interval))}M.series(s,function(t,n){n=n[n.length-1],(e||c.callback)(n.err,n.result)})}var o=5,a=0,s=[],c={times:o,interval:a},l=arguments.length;if(l<1||l>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return l<=2&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&i(c,e),c.callback=n,c.task=t,c.callback?r():r},M.waterfall=function(t,n){function i(e){return d(function(t,r){if(t)n.apply(null,[t].concat(r));else{var o=e.next();o?r.push(i(o)):r.push(n),j(e).apply(null,r)}})}if(n=o(n||e),!F(t)){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}return t.length?void i(M.iterator(t))():n()},M.parallel=function(e,t){S(M.eachOf,e,t)},M.parallelLimit=function(e,t,n){S(m(t),e,n)},M.series=function(e,t){S(M.eachOfSeries,e,t)},M.iterator=function(e){function t(n){function i(){return e.length&&e[n].apply(null,arguments),i.next()}return i.next=function(){return n<e.length-1?t(n+1):null},i}return t(0)},M.apply=d(function(e,t){return d(function(n){return e.apply(null,t.concat(n))})}),M.concat=g(C),M.concatSeries=b(C),M.whilst=function(t,n,i){if(i=i||e,t()){var r=d(function(e,o){e?i(e):t.apply(this,o)?n(r):i.apply(null,[null].concat(o))});n(r)}else i(null)},M.doWhilst=function(e,t,n){var i=0;return M.whilst(function(){return++i<=1||t.apply(this,arguments)},e,n)},M.until=function(e,t,n){return M.whilst(function(){return!e.apply(this,arguments)},t,n)},M.doUntil=function(e,t,n){return M.doWhilst(e,function(){return!t.apply(this,arguments)},n)},M.during=function(t,n,i){i=i||e;var r=d(function(e,n){e?i(e):(n.push(o),t.apply(this,n))}),o=function(e,t){e?i(e):t?n(r):i(null)};t(o)},M.doDuring=function(e,t,n){var i=0;M.during(function(e){i++<1?e(null,!0):t.apply(this,arguments)},e,n)},M.queue=function(e,t){var n=E(function(t,n){e(t[0],n)},t,1);return n},M.priorityQueue=function(t,n){function i(e,t){return e.priority-t.priority}function r(e,t,n){for(var i=-1,r=e.length-1;i<r;){var o=i+(r-i+1>>>1);n(t,e[o])>=0?i=o:r=o-1}return i}function o(t,n,o,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return t.started=!0,F(n)||(n=[n]),0===n.length?M.setImmediate(function(){t.drain()}):void s(n,function(n){var s={data:n,priority:o,callback:"function"==typeof a?a:e};t.tasks.splice(r(t.tasks,s,i)+1,0,s),t.tasks.length===t.concurrency&&t.saturated(),M.setImmediate(t.process)})}var a=M.queue(t,n);return a.push=function(e,t,n){o(a,e,t,n)},delete a.unshift,a},M.cargo=function(e,t){return E(e,1,t)},M.log=T("log"),M.dir=T("dir"),
M.memoize=function(e,n){var i={},r={},o=Object.prototype.hasOwnProperty;n=n||t;var a=d(function(t){var a=t.pop(),s=n.apply(null,t);o.call(i,s)?M.setImmediate(function(){a.apply(null,i[s])}):o.call(r,s)?r[s].push(a):(r[s]=[a],e.apply(null,t.concat([d(function(e){i[s]=e;var t=r[s];delete r[s];for(var n=0,o=t.length;n<o;n++)t[n].apply(null,e)})])))});return a.memo=i,a.unmemoized=e,a},M.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},M.times=A(M.map),M.timesSeries=A(M.mapSeries),M.timesLimit=function(e,t,n,i){return M.mapLimit(l(e),t,n,i)},M.seq=function(){var t=arguments;return d(function(n){var i=this,r=n[n.length-1];"function"==typeof r?n.pop():r=e,M.reduce(t,n,function(e,t,n){t.apply(i,e.concat([d(function(e,t){n(e,t)})]))},function(e,t){r.apply(i,[e].concat(t))})})},M.compose=function(){return M.seq.apply(null,Array.prototype.reverse.call(arguments))},M.applyEach=O(M.eachOf),M.applyEachSeries=O(M.eachOfSeries),M.forever=function(t,n){function i(e){return e?o(e):void a(i)}var o=r(n||e),a=j(t);i()},M.ensureAsync=j,M.constant=d(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),M.wrapSync=M.asyncify=function(e){return d(function(t){var n,i=t.pop();try{n=e.apply(this,t)}catch(r){return i(r)}D(n)&&"function"==typeof n.then?n.then(function(e){i(null,e)})["catch"](function(e){i(e.message?e:new Error(e))}):i(null,n)})},"object"==typeof module&&module.exports?module.exports=M:"function"==typeof define&&define.amd?define([],function(){return M}):L.async=M}(),function(e){var t=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),n=function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},i=function(e,i,r,o){var a=e.scrollTop,s=i-a,c=+new Date,l=!0,u=null,h=function(){if(l){t(h);var f=+new Date,p=Math.floor(n(f-c,a,s,r));u?u===e.scrollTop?(u=p,e.scrollTop=p):l=!1:(u=p,e.scrollTop=p),f>c+r&&(e.scrollTop=i,l=!1,o&&o())}};t(h)};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=i:e.animatedScrollTo=i}(window),function(){"use strict";angular.module("mlsdev",["ngResource","ngAnimate","ngSanitize","ui.router"])}(),angular.module("mlsdev").run(["$templateCache",function(e){e.put("scripts/components/budget/budget.template.html",'\n<div class="budget-wrapper">\n  <div style="width: {{budget.budgetLength}}%" class="budget-layout"></div>\n  <div class="text-header budget-header text-center">What is your budget?</div>\n  <div style="width: {{budget.budgetLength}}%" class="text-mask-layout">\n    <div class="text-header text-center text-color-white">What is your budget?</div>\n  </div>\n  <div class="layout-1 layout">\n    <div ng-bind="budget.budgetFormatted" class="budget"></div>\n    <div class="btn-budget-wrap">\n      <input type="button" value="Not Sure" ng-click="budget.onSkipButton()" class="btn-default btn-black text-uppercase text-center next-button"/>\n      <input type="button" value="Submit" ng-click="budget.onSubmitButton()" class="btn-default btn-black text-uppercase text-center next-button"/>\n    </div>\n    <div style="left: calc({{budget.budgetLength}}% - 70px)" class="buttons">\n      <div class="tip">Drag left or right, select your budget</div>\n      <div class="arrows"><a href="#" ng-click="budget.decrementBudget()" class="prev">\n          <div class="arrow">\n            <div class="line"></div>\n            <div class="point"></div>\n          </div></a><a href="#" ng-click="budget.incrementBudget()" class="next">\n          <div class="arrow">\n            <div class="line"></div>\n            <div class="point"></div>\n          </div></a></div>\n    </div>\n  </div>\n</div>'),e.put("scripts/components/chat/chat.template.html",'\n<div ng-class="chat.getChatClass()" ng-if="chat.isAvailable" class="chat-window-wrapper">\n  <div ng-bind="chat.stausText" ng-click="chat.toggleOpened()" class="chat-status"></div>\n  <div class="chat-dialog">\n    <div ng-repeat="dialog in chat.dialogs" class="chat-dialog-item">\n      <div ng-bind-html="dialog.text | linky" ng-class="chat.getDialogClass(dialog)" class="dialog-item"></div>\n      <div ng-if="dialog.quick_replies" class="dialog-item quick-reply">\n        <p>Quick replies:</p>\n        <div ng-repeat="reply in dialog.quick_replies" class="quick-replies">\n          <button ng-click="chat.reply(reply.payload)" ng-bind="reply.title" class="btn-green"></button>\n        </div>\n      </div>\n    </div>\n    <div ng-if="chat.waiting" class="waiting-message">Wait a minute. I\'m writing answer for you</div>\n  </div>\n  <div class="chat-question-form">\n    <form name="questionForm">\n      <input type="text" ng-model="chat.question" placeholder="type your question"/>\n      <button ng-click="chat.send()">Send</button>\n    </form>\n  </div>\n</div>'),e.put("scripts/components/clients-screen/clients-screen.template.html",'\n<div class="overflowing-width back-layout layout-1">\n  <div class="animated translucent position-to-top"><span class="background-text middle text-nowrap">OUR CLIENTS</span></div>\n</div>\n<div ng-if="$ctrl.showType == \'all\'" class="main-layout layout-2">\n  <div class="clients-container">\n    <div ng-repeat="client in $ctrl.mainList" class="client-container text-center">\n      <div class="client-description-container animated position-to-top client-description-container-{{client.animationindex}}">\n        <div class="text-subheader text-color-dark"><span ng-bind="::client.name"></span></div>\n        <div ng-bind="::client.description" class="text-description small text-color-dark"></div>\n      </div>\n      <div class="client-background"><img ng-src="{{client.image}}"/></div>\n    </div>\n  </div>\n</div>\n<div ng-if="$ctrl.showType == \'slider\'" md-slider="company:clients" auto-switching="true" delay="20000" event="click" ng-init="$ctrl.setSliderName(\'company:clients\')" initialize-state="true" class="main-layout layout-2">\n  <div md-swipe-content="company:clients" slider-content-type="slide" md-slider-element="company:clients" ng-repeat="itemWrap in $ctrl.mainList" class="clients-container swipe-element">\n    <div ng-repeat="client in itemWrap" class="client-container text-center">\n      <div class="client-description-container animated position-to-top client-description-container-{{$index + 1}}">\n        <div class="text-subheader text-color-dark"><span ng-bind="::client.name"></span></div>\n        <div ng-bind="::client.description" class="text-description small text-color-dark text-uppercase"></div>\n      </div>\n      <div class="client-background"><img ng-src="{{client.image}}"/></div>\n    </div>\n  </div>\n  <div class="navigation-container inline-container animated duration-half delayed-double slide-nav-bottom">\n    <div slider-content-type="switch" md-slider-element="company:clients" ng-repeat="point in $ctrl.mainList" class="navigation-point"></div>\n  </div>\n</div>'),e.put("scripts/components/company-links/company-links.template.html",'<a ng-repeat="item in links.items" ng-href="{{item.link}}" rel="nofollow noopener noreferrer" target="_blank" ng-class="links.class" class="icon-block"><i ng-class="item.classes" class="mdi"></i></a>'),e.put("scripts/components/footer/footer.template.html",'\n<footer id="footer">\n  <div class="footer-container">\n    <div class="footer-cell contacts-block">\n      <div class="footer-cell-header">Contact us</div>\n      <div class="footer-content inline-container">\n        <div class="contacts v-center-container">\n          <div class="icon-block v-center-block nohover"><i class="mdi mdi-cellphone-iphone"></i></div>\n          <div class="v-center-block">\n            <div class="text-color-grey">Phones</div><a href="tel:+380975058161" class="text-color-green">+38 (097) 505 81 61</a>\n          </div>\n        </div>\n        <div class="contacts v-center-container">\n          <div class="icon-block v-center-block nohover"><i class="mdi mdi-email-outline"></i></div>\n          <div class="v-center-block">\n            <div class="text-color-grey">Email</div><a href="mailto:sales@mlsdev.com" class="text-color-green">sales@mlsdev.com</a><a href="mailto:job@mlsdev.com" class="text-color-green">job@mlsdev.com</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="footer-cell social-block">\n      <div class="footer-cell-header">Follow us on</div>\n      <md-company-links element-class="v-center-block" class="footer-content v-center-container-simple"></md-company-links>\n    </div>\n    <div md-slider="footer" auto-switching="true" delay="4000" event="click" initialize-state="true" switching-enabled="footer.isVisible" class="footer-cell news-block">\n      <div class="footer-cell-header">What’s new</div>\n      <div class="news-container footer-content text-color-grey"><a ng-repeat="news in footer.news.list" slider-content-type="slide" md-slider-element="footer" ui-sref="article({articleId: \'{{news.slug || news.id}}\'})" class="news"><span ng-bind="news.title"></span><span>&nbsp;</span><span class="text-uppercase text-color-green">read more</span></a></div>\n      <div class="navigation-container inline-container">\n        <div ng-repeat="news in footer.news.list" slider-content-type="switch" md-slider-element="footer" class="navigation-point"></div>\n      </div>\n    </div>\n    <div class="footer-cell subscribe-block">\n      <md-subscription-form></md-subscription-form>\n    </div>\n    <div class="footer-cell text-center text-uppercase text-color-grey navigation"><a href="/" class="footer-cell">HOME</a><a href="/company" class="footer-cell">OUR COMPANY</a>\n      <!--a.footer-cell WHAT WE DO--><a href="/portfolio" class="footer-cell">PORTFOLIO</a><a href="/blog" class="footer-cell">BLOG</a><a href="/contact-us" class="footer-cell">CONTACT US</a><a href="/privacypolicy" target="_blank" class="footer-cell">PRIVACY POLICY</a>\n    </div>\n    <div class="footer-cell text-center copyright"><span>© {{footer.getYear()}} MLSDev. All Rights Reserved.</span></div>\n  </div>\n</footer>'),e.put("scripts/components/go-top/go-top.template.html",'\n<div ng-click="goTop.goToTop()" ng-class="{\'show-btn\': goTop.checkShowGoTopBtn()}" class="to-top-wrap"><i class="mdi mdi-arrow-up"></i></div>'),e.put("scripts/components/header/header.left.template.html",'<a href="/" ng-click="header.setActive(0)" ng-class="{visible: header.isVisible.toplogo, dark: header.isVisible.dark}" class="logo">\n  <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" viewBox="0 0 72 72">\n    <path d="M13.1,38.5c1,4.8-1.8,4.7-6.3-0.3c-5.8-6.5-9.3-13,0.7-15.1c17.3-3.5,21.3-12.6,24-17.4 c6.9-12.2,14,2.7,16.4,6.8c3.5,5.8,2.6,7.7-1.8,4.3c-9-6.9-12.9,5.5-17.6,9.2C22.4,30.6,10.9,28.3,13.1,38.5z" class="logofill emm"></path>\n    <path d="M12.2,62.7c0.3-4.1,0.8-21.3,4.5-10.1c1.8,5.5,7.8,9.9,13.3,9.9c5.5,0,4.9,2.2-1.3,4.9 C27.1,68.2,11.3,77.1,12.2,62.7z" class="logofill ell"></path>\n    <path d="M60.5,63.3c4.7,17.5-27.3-0.2-16.5-0.2c11.4,0,8.2-18.4,7.7-30.4c-0.7-16.8,28.4-10.2,16.3,0.5 C58.8,41.3,55.6,45.4,60.5,63.3z" class="logofill ess"></path>\n  </svg><span class="logo-text">MLSDev</span></a>'),e.put("scripts/components/header/header.right.template.html",'\n<div ng-class="{unvisible: header.isVisible.hireus}" class="top-navigation-wrap"><a ui-sref="home" ng-class="{\'active\' : header.checkActiveState(\'home\')}" class="nav-item">Home</a><a ui-sref="company" ng-class="{\'active\' : header.checkActiveState(\'company\')}" class="nav-item">Our company</a><a ui-sref="portfolio" ng-class="{\'active\' : header.checkActiveState(\'portfolio\')}" class="nav-item">Portfolio</a><a ui-sref="blog" ng-class="{\'active\' : header.checkActiveState(\'blog\') || header.checkActiveState(\'article\')}" class="nav-item">Blog</a><a ui-sref="contact-us" ng-class="{\'active\' : header.checkActiveState(\'contact-us\')}" class="nav-item">Contact us</a></div>\n<div ng-class="{\'visible\': header.hireUsVisibility}" class="button-container v-center-block"><a ui-sref="contact-us" ng-class="header.getAnimamBtnClass()" ng-click="header.trackHireUsGoal()" ng-bind="header.hireUsText" class="btn btn-green_ btn-talk-top btn-small"></a>\n</div>'),e.put("scripts/components/lead-form/lead-form.template.html",'\n<form ng-submit="lead.submit()" name="leadForm" ng-if="!lead.sended" class="lead-form">\n  <button ng-bind-html="lead.trust(lead.start)" name="send" ng-click="lead.click($event)" class="btn-default btn-inifinity btn-green_ text-uppercase lets-talk btn-desktop"></button>\n  <div class="lead-email">\n    <input ng-if="lead.placeholderName" type="text" id="name" ng-model="lead.name" class="field"/>\n    <label for="name" ng-if="lead.placeholderName" ng-bind="lead.placeholderName" class="placeholder name-placeholder"></label>\n    <input type="email" id="email" ng-model="lead.email" ng-required="ng-required" ng-keydown="lead.valid()" class="field"/>\n    <label for="email" ng-bind="lead.placeholder" class="placeholder email-placeholder"></label>\n    <label for="email" ng-bind="lead.validationMessage" class="email-message"></label>\n  </div>\n</form>\n<div ng-if="lead.sended" ng-bind="lead.message" class="message text-color-green"></div>'),e.put("scripts/components/next-step/next-step.template.html",'\n<div class="next-step">\n  <div class="back-layout layout-1 animated duration-double">\n    <md-particle-system particles-amount="30" max-particle-radius="10" speed-factor="1" movability-factor="2" animation-enabled="step.isActive" class="fill-parent"></md-particle-system>\n  </div>\n  <div class="main-layout layout-3 text-center animated position-to-top">\n    <div class="content-container">\n      <div ng-bind-html="step.trust(step.stepText)" class="step-text text-color-dark"></div>\n      <div ng-bind-html="step.trust(step.stepTitle)" class="step-header text-color-dark"></div><a ui-sref="{{step.firstButtonSref}}">\n        <button ng-bind="step.firstButton" class="btn-default btn-black_ btn-1 animated position-to-top delayed"></button></a><a ui-sref="{{step.secondButtonSref}}">\n        <button ng-bind="step.secondButton" class="btn-default btn-green_ btn-2 animated position-to-top delayed-double"></button></a>\n    </div>\n  </div>\n</div>'),e.put("scripts/components/page404/page404.template.html",'\n<div class="page-404-wrap">\n  <div class="part-404 left-part">\n    <div class="background-wrap"><span class="background-text middle text-nowrap text-uppercase">404</span></div>\n    <h1 class="text-header">\n      <p class="text-color-green">Oooops !</p>\n      <p>Page not found</p>\n    </h1>\n  </div>\n  <div class="part-404 right-part">\n    <div class="text-404">Let\'s find your info together</div>\n    <md-lead-form start="LET’S TALK" value="LET’S TALK" class="lead-home"></md-lead-form>\n  </div>\n</div>'),e.put("scripts/components/planet/planet.template.html",'<img ng-if="!planet.isLoaded" ng-src="{{ planet.ghost }}" class="planet-placeholder"/>'),e.put("scripts/components/portfolio-links/portfolio-links.template.html",'\n<div class="block left"><a ui-sref="{{::portfolio.prev.link}}">\n    <div ng-class="portfolio.prev.background" class="back-color"></div><img ng-src="/images/portfolio/{{::portfolio.prev.preview}}" class="case-preview"/>\n    <div class="link">{{::portfolio.prev.name}}\n      <div class="subname">\n        <svg viewBox="0 0 50 18" width="50" height="18" xmlns="http://www.w3.org/2000/svg">\n          <line id="svg_1" y2="9.0625" x2="42.74999" y1="9.0625" x1="1.25" stroke="#888" fill="#888" style="stroke-width:2"></line>\n          <polyline transform="rotate(-180, 4.90625, 9.0425)" stroke="#888" style="stroke-width:2" fill-opacity="0" points="0.69,17.71 9.13,8.96 0.69,0.37" id="svg_2"></polyline>\n        </svg>previous case\n      </div>\n    </div></a></div>\n<div class="block right"><a ui-sref="{{::portfolio.next.link}}">\n    <div ng-class="portfolio.next.background" class="back-color"></div><img ng-src="/images/portfolio/{{::portfolio.next.preview}}" class="case-preview"/>\n    <div class="link">{{::portfolio.next.name}}\n      <div class="subname">next case\n        <svg viewBox="0 0 50 18" width="50" height="18" xmlns="http://www.w3.org/2000/svg">\n          <line fill="#888" stroke="#888" x1="7" y1="9" x2="48.49999" y2="9" id="svg_1" style="stroke-width:2"></line>\n          <polyline id="svg_2" points="40.81,17.65 49.25,8.90 40.81,0.31" style="stroke-width:2" fill-opacity="0" stroke="#888"></polyline>\n        </svg>\n      </div>\n    </div></a></div>'),e.put("scripts/components/preloader/preloader.template.html",'\n<div ng-if="preloader.isVisible" class="preloader fill-parent text-center v-center-container active">\n  <md-particle-system ng-if="true" shape="rectangle" particles-amount="20" max-particle-radius="5" speed-factor="4" movability-factor="5" animation-enabled="true" class="fill-parent"></md-particle-system>\n  <div class="progress-counter v-center-block">\n    <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" viewBox="0 0 72 72">\n      <path d="M13.1,38.5c1,4.8-1.8,4.7-6.3-0.3c-5.8-6.5-9.3-13,0.7-15.1c17.3-3.5,21.3-12.6,24-17.4 c6.9-12.2,14,2.7,16.4,6.8c3.5,5.8,2.6,7.7-1.8,4.3c-9-6.9-12.9,5.5-17.6,9.2C22.4,30.6,10.9,28.3,13.1,38.5z" class="logofill emm"></path>\n      <path d="M12.2,62.7c0.3-4.1,0.8-21.3,4.5-10.1c1.8,5.5,7.8,9.9,13.3,9.9c5.5,0,4.9,2.2-1.3,4.9 C27.1,68.2,11.3,77.1,12.2,62.7z" class="logofill ell"></path>\n      <path d="M60.5,63.3c4.7,17.5-27.3-0.2-16.5-0.2c11.4,0,8.2-18.4,7.7-30.4c-0.7-16.8,28.4-10.2,16.3,0.5 C58.8,41.3,55.6,45.4,60.5,63.3z" class="logofill ess"></path>\n    </svg>\n  </div>\n</div>'),e.put("scripts/components/progress/progress.template.html",'\n<div class="page-progress"></div>'),e.put("scripts/components/screen-navigation/screen-navigation-next.template.html",'\n<div ng-class="{visible: navigation.isVisible.bottomnav}" class="bottom-screen-menu"><a ng-click="navigation.setActiveNext()"> <span ng-bind="navigation.isVisible.bottomnavtext"></span><i class="mdi mdi-chevron-down"></i></a></div>'),e.put("scripts/components/screen-navigation/screen-navigation.template.html",'\n<div ng-class="{visible: navigation.isVisible.sidenav}" class="side-menu">\n  <ul>\n    <li ng-repeat="screen in navigation.pageScreens track by screen.index" ng-class="{active: navigation.isScreenActive(screen.index)}"><a ng-click="navigation.setActive(screen.index)">{{screen.title}}</a></li>\n  </ul>\n</div>'),e.put("scripts/components/screens/screen.template.html",'\n<section ng-transclude="ng-transclude" ng-class="{active: screen.isActive, \'moving-in\': screen.inMoving, displayed: screen.isDisplayed, nobackground: screen.noBackGround}" class="screen"></section>'),e.put("scripts/components/screens/screens.template.html",'\n<div ng-transclude="ng-transclude" class="screens-container"></div>'),e.put("scripts/components/shares/shares.template.html",'\n<div ng-class="shares.getClasses()" md-slide-position="md-slide-position" min-pos="50" max-pos="450" vh="35" max-pos-large="650" is-large="1900" class="social-shares-buttons v-center-container">\n  <div class="subscribe-block">\n    <md-subscription-form></md-subscription-form>\n  </div><a ng-click="shares.share(\'facebook\')" title="Share in facebook" class="icon-block v-line-block"><i class="mdi mdi-facebook"></i></a><a ng-click="shares.share(\'twitter\')" title="Share in twitter" class="icon-block v-line-block"><i class="mdi mdi-twitter"></i></a><a ng-click="shares.share(\'google\')" title="Share in Google+" class="icon-block v-line-block"><i class="mdi mdi-google-plus"></i></a><a ng-click="shares.share(\'linkedin\')" title="Share in LinkedIn" class="icon-block v-line-block"><i class="mdi mdi-linkedin"></i></a>\n</div>'),e.put("scripts/components/side-menu/side-menu.template.html",'\n<div ng-class="{visible: menu.isVisibleControls.sandwich||menu.isVisible}" class="menu-container v-center-block"><a ng-click="menu.menuClick()" class="btn btn-menu"><span ng-class="{&quot;is-clicked&quot;: menu.isVisible}" class="btn-menu-icon"></span></a></div>\n<div ng-class="{visible: menu.isVisible}" class="side-menu">\n  <div class="svg-logo">\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 72 72" style="enable-background:new 0 0 72 72;" xml:space="preserve">\n      <g>\n        <g>\n          <path d="M13.1,38.5c1,4.8-1.8,4.7-6.3-0.3c-5.8-6.5-9.3-13,0.7-15.1c17.3-3.5,21.3-12.6,24-17.4 c6.9-12.2,14,2.7,16.4,6.8c3.5,5.8,2.6,7.7-1.8,4.3c-9-6.9-12.9,5.5-17.6,9.2C22.4,30.6,10.9,28.3,13.1,38.5z" class="logo st0"></path>\n        </g>\n        <g>\n          <path d="M12.2,62.7c0.3-4.1,0.8-21.3,4.5-10.1c1.8,5.5,7.8,9.9,13.3,9.9c5.5,0,4.9,2.2-1.3,4.9 C27.1,68.2,11.3,77.1,12.2,62.7z" class="logo st0"></path>\n        </g>\n        <g>\n          <path d="M60.5,63.3c4.7,17.5-27.3-0.2-16.5-0.2c11.4,0,8.2-18.4,7.7-30.4c-0.7-16.8,28.4-10.2,16.3,0.5 C58.8,41.3,55.6,45.4,60.5,63.3z" class="logo st0"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n  <div class="menu-block">\n    <ul>\n      <li><a ng-click="menu.menuClick()" ui-sref="home" ng-class="{active: menu.stateActive(\'home\')}">Home</a></li>\n      <li><a ng-click="menu.menuClick()" ui-sref="company" ng-class="{active: menu.stateActive(\'company\')}">Our company</a></li>\n      <li><a ng-click="menu.menuClick()" ui-sref="portfolio" ng-class="{active: menu.stateActive(\'portfolio\')}">Portfolio</a></li>\n      <li><a ng-click="menu.menuClick()" ui-sref="blog" ng-class="{active: menu.stateActive(\'blog\')}">Blog</a></li>\n      <li><a ng-click="menu.menuClick()" ui-sref="contact-us" ng-class="{active: menu.stateActive(\'contact-us\')}">Contact us</a></li>\n    </ul>\n  </div>\n  <div class="footer-block">\n    <div md-slider="headerNews" auto-switching="true" delay="4000" event="click" initialize-state="true" switching-enabled="menu.isVisible" class="news-block">\n      <div class="footer-cell-header">What’s new</div>\n      <div class="news-container footer-content text-color-grey">\n        <div slider-content-type="slide" md-slider-element="headerNews" class="news">How to Choose the Right Development Platform for a Mobile App?&nbsp;<span class="text-uppercase text-color-green">Read more</span></div>\n        <div slider-content-type="slide" md-slider-element="headerNews" class="news">News 2&nbsp;<span class="text-uppercase text-color-green">Read more</span></div>\n        <div slider-content-type="slide" md-slider-element="headerNews" class="news">News 3&nbsp;<span class="text-uppercase text-color-green">Read more</span></div>\n        <div slider-content-type="slide" md-slider-element="headerNews" class="news">News 4&nbsp;<span class="text-uppercase text-color-green">Read more</span></div>\n      </div>\n      <div class="navigation-container inline-container">\n        <div slider-content-type="switch" md-slider-element="headerNews" class="navigation-point"></div>\n        <div slider-content-type="switch" md-slider-element="headerNews" class="navigation-point"></div>\n        <div slider-content-type="switch" md-slider-element="headerNews" class="navigation-point"></div>\n        <div slider-content-type="switch" md-slider-element="headerNews" class="navigation-point"></div>\n      </div>\n    </div>\n    <div class="social-buttons">\n      <md-company-links element-class="v-center-block" class="v-center-container"></md-company-links>\n    </div>\n  </div>\n</div>'),e.put("scripts/components/subscription-form/subscription-form.template.html",'\n<div class="title-subscribe">Subscribe to our newsletter</div>\n<div ng-if="$ctrl.isSent" class="title-subscribe">Thanks for signing up!</div>\n<div ng-if="!$ctrl.isSent">\n  <form name="$ctrl.form" ng-submit="$ctrl.subscribe($event)" ng-class="{invalid: $ctrl.isInvalid}" novalidate="novalidate" class="subscribe-form">\n    <input type="email" placeholder="Enter your email" ng-change="$ctrl.onChange()" ng-model="$ctrl.email" required="required" class="subscribe-input"/>\n    <button type="submit" ng-bind="$ctrl.buttonText" class="subscribe-btn"></button>\n  </form>\n</div>'),e.put("scripts/components/user-leave/user-leave.template.html",'\n<div ng-click="leave.close()" class="user-leave-shadow"></div>\n<div class="user-leave-popup">\n  <div class="web-summit-line">\n    <div class="logo"></div>\n    <div class="text">\n      <div class="place">Lisbon</div>\n      <div class="time">NOVEMBER 6-9<br/>2017</div>\n    </div>\n  </div>\n  <div ng-click="leave.close()" class="close">&times;</div>\n  <div ng-if="leave.submited" class="message">\n    <md-lead-form start="Going to web summit?&lt;br /&gt; Let’s schedule a meeting" value="Schedule" placeholder="Email" placeholder-name="Name" class="lead-leave-popup"></md-lead-form>\n  </div>\n  <form ng-submit="leave.submit()" ng-if="!leave.submited" class="from">\n    <label for="leave-email" class="label"></label>\n    <input id="leave-email" type="email" placeholder="{{ leave.placeholder }}" ng-model="leave.email" ng-class="leave.getClass()" class="email"/>\n    <input type="Submit" value="Send" class="submit"/>\n  </form>\n</div>')}]),angular.module("mlsdev").constant("apiHost","https://mlsdev.com/api/").constant("googleAnalyticsKey","UA-21117961-12").constant("yandexMetrikaKey","25453430").constant("FeedBurnerLink","//feeds.feedburner.com/mlsdev").constant("chatAvailable",!1),function(){"use strict";angular.module("mlsdev").config(["$httpProvider","$locationProvider",function(e,t){t.html5Mode(!0)}])}(),function(){"use strict";angular.module("mlsdev").config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/404"),t.when("","/"),e.state("home",{url:"/",templateUrl:"views/home.html",controller:"HomeController",controllerAs:"home",data:{pageSettingsName:"home"}}).state("company",{url:"/company",templateUrl:"views/company.html",controller:"CompanyController",controllerAs:"company",data:{pageSettingsName:"company"}}).state("portfolio-mcdonalds",{url:"/portfolio/mcdonalds",templateUrl:"views/portfolio/mcdonalds.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"mcdonalds"}}).state("portfolio-yummi",{url:"/portfolio/yummi",templateUrl:"views/portfolio/yummy.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"yummi"}}).state("portfolio-comfy",{url:"/portfolio/comfy",templateUrl:"views/portfolio/comfy.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"comfy"}}).state("portfolio-gopuff",{url:"/portfolio/gopuff",templateUrl:"views/portfolio/gopuff.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"gopuff"}}).state("portfolio-revistor",{url:"/portfolio/revistor",templateUrl:"views/portfolio/revistor.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"reVistor"}}).state("portfolio-trybz",{url:"/portfolio/trybz",templateUrl:"views/portfolio/trybz.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"TRYBZ"}}).state("portfolio-artstation",{url:"/portfolio/artstation",templateUrl:"views/portfolio/artstation.html",controller:"CaseStudyController",controllerAs:"case",data:{showHeader:!0,pageSettingsName:"artstation"}}).state("portfolio",{url:"/portfolio",templateUrl:"views/portfolio.html",controller:"PortfolioController",controllerAs:"portfolio",data:{pageSettingsName:"our_works"}}).state("contact-us",{url:"/contact-us",templateUrl:"views/contact-us.html",controller:"ContactUsController",controllerAs:"contact",data:{pageSettingsName:"contact_us"}}).state("websummit",{url:"/websummit",templateUrl:"views/websummit.html",controller:"ContactUsController",controllerAs:"contact",data:{pageSettingsName:"websummit"}}).state("article",{url:"/blog/:articleId",templateUrl:"views/article.html",controller:"ArticleController",controllerAs:"article",data:{showHeader:!0}}).state("blog",{url:"/blog",templateUrl:"views/blog.html",controller:"BlogController",controllerAs:"blog",data:{showHeader:!0,pageSettingsName:"blog"}}).state("policy",{url:"/privacypolicy",templateUrl:"views/policy.html",controller:"StaticController",data:{showHeader:!0,pageSettingsName:"policy"}}).state("calculator",{url:"/calculator",templateUrl:"views/calculator.html",controller:"CalculatorController",controllerAs:"calc",reloadOnSearch:!1,data:{showHeader:!0,pageSettingsName:"calculator"}}).state("services",{url:"/services"}).state("ba",{url:"/services/ba",controller:"ServiceController",controllerAs:"service",templateUrl:"views/services/ba.html"}).state("mvp",{url:"/services/mvp",controller:"ServiceController",controllerAs:"service",templateUrl:"views/services/mvp.html"}).state("ongoing",{url:"/services/ongoing",controller:"ServiceController",controllerAs:"service",templateUrl:"views/services/ongoing.html"}).state("design",{url:"/services/design",controller:"ServiceController",controllerAs:"service",templateUrl:"views/services/design.html"}).state("404",{url:"/404",templateUrl:"views/404.html",controller:"Blank404Controller",data:{showHeader:!0,hireus:!1}}).state("our_works",{url:"/our_works",data:{redirectTo:"portfolio"}}).state("our-works",{url:"/our-works",data:{redirectTo:"portfolio"}}).state("our_works.gp",{url:"/gp",data:{redirectTo:"portfolio"}}).state("our-works.gp",{url:"/gp",data:{redirectTo:"portfolio"}}).state("our_works.comfy",{url:"/comfy",data:{redirectTo:"portfolio-comfy"}}).state("our-works.comfy",{url:"/comfy",data:{redirectTo:"portfolio-comfy"}}).state("our_works.gopuff",{url:"/gopuff",data:{redirectTo:"portfolio-gopuff"}}).state("our-works.gopuff",{url:"/gopuff",data:{redirectTo:"portfolio-gopuff"}}).state("process",{url:"/process",data:{redirectTo:"home"}}).state("contact_us",{url:"/contact_us",data:{redirectTo:"contact-us"}}).state("services.strategy",{url:"/strategy",data:{redirectTo:"home"}}).state("other",{url:"/other",templateUrl:"views/home.html",controller:"HomeController",controllerAs:"home"})}])}(),function(){"use strict";angular.module("mlsdev").run(["$rootScope","$state","$location","SideMenuService","FooterService","HeaderService","PageGlobalService","Analytics","RedirectService",function(e,t,n,i,r,o,a,s,c){e.$on("$locationChangeSuccess",function(){i.setClosed(),r.hide()}),e.$on("$stateChangeSuccess",function(){var e=t.current.data;if(e&&e.showHeader){var n={visibleParts:{hireus:!0,sandwich:!0,toplogo:!0}};i.onVisiblity(n),o.onVisiblity(n)}if(e&&e.pageSettingsName&&a.setPageSettings(e.pageSettingsName),e&&e.redirectTo){var r=t.get(e.redirectTo);c.redirect(r)}}),e.$on("$stateChangeSuccess",function(e,t){s.googleAnalyticsSend(n.url()),s.yandexMetricaHit(n.url())})}])}(),function(){"use strict";var e=[{name:"ESPN",description:"UX/UI, Development",image:"/images/home/logo_clients/espn.png",animationindex:1},{name:"McDonald’s",description:"UX/UI, Development",image:"/images/home/logo_clients/McD.png",animationindex:1},{name:"GoPuff",description:"UX/UI, Development",image:"/images/home/logo_clients/gopuff.png",animationindex:1},{name:"Danone",description:"Development",image:"/images/home/logo_clients/danone.png",animationindex:2},{name:"Panasonic",description:"Development",image:"/images/home/logo_clients/panasonic.png",animationindex:2},{name:"Alpine",description:"Development",image:"/images/home/logo_clients/alpine.png",animationindex:2},{name:"Comfy",description:"Development",image:"/images/home/logo_clients/comfy.png",animationindex:3},{name:"ArtStation",description:"UX/UI, Development (in close cooperation with Ballistiq)",image:"/images/home/logo_clients/artstation.png",animationindex:3},{name:"LevelUp",description:"Development",image:"/images/home/logo_clients/levelUP.png",animationindex:3},{name:"Chored",description:"Development",image:"/images/home/logo_clients/chored.png",animationindex:4},{name:"Yummi",description:"UI, Development",image:"/images/home/logo_clients/yummi.png",
animationindex:4},{name:"EdgeRift",description:"Development",image:"/images/home/logo_clients/edge_riff.png",animationindex:4}];angular.module("mlsdev").constant("ClientsList",e)}(),function(){"use strict";var e={common:["logo.svg","user-leave/popup.png"],home:["logo_clients/espn.png","logo_clients/McD.png","logo_clients/danone.png","logo_clients/gopuff.png","logo_clients/panasonic.png","logo_clients/alpine.png","logo_clients/comfy.png","logo_clients/artstation.png","logo_clients/levelUP.png","logo_clients/chored.png","logo_clients/geotourist.png","logo_clients/edge_riff.png"],company:["poland.png","ukraine.png","usa.png","planet-placeholder.png"],portfolio:["gopuff.png","gopuff-small.png","mcdonalds.png","mcdonalds-small.png","comfy.png","comfy-small.png","revistor.png","revistor-small.png"],"contact-us":["budget-scale.png"],"portfolio-gopuff":["apple-store.png","circle.png","design-background.png","formula.png","g.png","google-play.png","hammer.png","initial-request-background.png","iphones.png","list-circle.png","logo.png","man.png","mvp.png","ongoing-development.png","phone-header.png","puff.png","rails.png","stars.png","swift.png","warframes.png"],"portfolio-mcdonalds":["main_mg_img.jpg","logo_big.png","iphone_main.png","mcchicken_main.png","active_color.png","additional_color.png","warning_color.png","main_text.png","plain_text.png","background.png","01.svg","02.svg","03.svg","04.svg","05.svg","06.svg","07.svg","08.svg","09.svg","10.svg","11.svg","12.svg","13.svg","14.svg","icecream1.png","its_all_you_need.png","theres_more_than.png","icecream2.png","big_beefy_bliss.png","calculator.png","free.png","offers.jpg","offers_details.png","deserve_a_break.png","ux_icon.png","ui_icon.png","statistics.png","final.png"],article:["article_placeholder.png"]};angular.module("mlsdev").constant("ImagesList",e)}(),function(){"use strict";var e=[{country:"Ukraine",city:"Vinnytsia",image:"ukraine.png",address:"",phones:["+38 (097) 505 81 61"]},{country:"USA",city:"San Francisco",image:"usa.png",address:""},{country:"Poland",city:"Krakow",image:"poland.png",address:"",phones:["+48 (577) 813 279"]}];angular.module("mlsdev").constant("CompanyOffices",e)}(),function(){"use strict";var e=[{images:{preview:"ivan_mak_small.png",full:"ivan_mak.png"},name:"Ivan Mak",position:"CCO, Co-founder",email:"",phone:"",skype:""},{images:{preview:"slava_ledenev_small.png",full:"slava_ledenev.png"},name:"Slava Ledenev",position:"CBDO, Co-founder",email:"",phone:"",skype:""},{images:{preview:"anton_sakhar_small.png",full:"anton_sakhar.png"},name:"Anton Sakharov",position:"CTO, Co-founder",email:"",phone:"",skype:""},{images:{preview:"anton_rudenko_small.png",full:"anton_rudenko.png"},name:"Anton Rudenko",position:"Head of Sales and Client Relationship",email:"",phone:"",skype:""},{images:{preview:"lilia_udovichenko_small.png",full:"lilia_udovichenko.png"},name:"Lilia Udovychenko",position:"Senior Sales & Client Relationship Manager",email:"",phone:"",skype:""},{images:{preview:"inna_fishchuk_small.png",full:"inna_fishchuk.png"},name:"Inna Fishchuk (Vasiutynska)",position:"Sales & Client Relationship Manager",email:"",phone:"",skype:""},{images:{preview:"nadiia_kravets_small.png",full:"nadiia_kravets.png"},name:"Nadya Kravets",position:"Sales & Client Relationship Manager",email:"",phone:"",skype:""},{images:{preview:"maria_kuz_small.png",full:"maria_kuz.png"},name:"Maria Kuz",position:"Content Marketing Manager",email:"",phone:"",skype:""},{images:{preview:"liudmyla_kharchenko_small.png",full:"liudmyla_kharchenko.png"},name:"Liudmyla Kharchenko",position:"Content Marketing Manager",email:"",phone:"",skype:""},{images:{preview:"anna_orlova_small.png",full:"anna_orlova.png"},name:"Anna Orlova",position:"Human Resources & Recruitment Manager",email:"",phone:"",skype:""},{images:{preview:"anastasia_vigovska_small.png",full:"anastasia_vigovska.png"},name:"Anastasia Vigovska",position:"Human Resources & Recruitment Manager",email:"",phone:"",skype:""},{images:{preview:"andrey_bosyy_small.png",full:"andrey_bosyy.png"},name:"Andrey Bosyy",position:"Project Manager",email:"",phone:"",skype:""},{images:{preview:"dmitry_govorov_small.png",full:"dmitry_govorov.png"},name:"Dmitry Govorov",position:"Project Manager",email:"",phone:"",skype:""},{images:{preview:"anastasia_horobets_small.png",full:"anastasia_horobets.png"},name:"Anastasia Horobets",position:"Project Manager",email:"",phone:"",skype:""},{images:{preview:"oleksii_shevchuk_small.png",full:"oleksii_shevchuk.png"},name:"Oleksii Shevchuk",position:"Project Manager",email:"",phone:"",skype:""},{images:{preview:"dima_yerebakan_small.png",full:"dima_yerebakan.png"},name:"Dmitriy Yerebakan",position:"Business Analyst",email:"",phone:"",skype:""}];angular.module("mlsdev").constant("OurTeam",e)}(),function(){"use strict";var e=[{name:'<span class="text-color-green">Mobile</span> developers',image:"iphone.png",percent:28,personalclass:""},{name:'<span class="text-color-green">Web</span> developers',image:"macbook.png",percent:37,personalclass:"computer"},{name:'Mobile and web <span class="text-color-green">designers</span>',image:"graphic_tablet.png",percent:13,personalclass:""},{name:'<span class="text-color-green">QA</span> engineers',image:"glasses.png",percent:13,personalclass:""},{name:'Business <span class="text-color-green">analysts</span>',image:"ba_tablet.png",percent:9,personalclass:""}];angular.module("mlsdev").constant("WeFocus",e)}(),function(){"use strict";var e={touchscrolldown:{toplogo:!0,hireus:!0,sandwich:!0,sidenav:!1},touchscrollup:{toplogo:!1,hireus:!1,sandwich:!1,sidenav:!1},home:[{index:0,title:"Home",anchor:null,elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,goTopBtn:!1,bottomnav:!0,bottomnavtext:"Scroll down, view more"}},{index:1,title:"Our clients",anchor:"our-clients",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"home",label:"our-clients"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:2,title:"They say...",anchor:"they-say",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"home",label:"they-say"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:3,title:"Awards",anchor:"awards",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"home",label:"awards"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:4,title:"Services",anchor:"services",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"home",label:"services"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1,chat:!0}},{index:5,title:"Technologies",anchor:"technologies",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"home",label:"technologies"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:6,title:"Next step",anchor:"next-step",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!0,bottomnavtext:""}}],company:[{index:0,title:"Our mission",anchor:null,elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!0,goTopBtn:!1,bottomnav:!0,bottomnavtext:"Scroll down, view more"}},{index:1,title:"Our history",anchor:"history",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"company",label:"history"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:2,title:"Our offices",anchor:"offices",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"company",label:"offices"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:3,title:"Management team",anchor:"management-teams",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"company",label:"management-teams"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:4,title:"Tech team balance",anchor:"tech-team-balance",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"company",label:"tech-team-balance"}},sandwich:!0,sidenav:!0,goTopBtn:!0,bottomnav:!1}},{index:5,title:"Next step",anchor:"next-step",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!0,bottomnav:!0,goTopBtn:!0,bottomnavtext:""}}],portfolio:[{index:0,title:"McDonalds",anchor:"macdonalds",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"portfolio",label:"macdonalds"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:1,title:"GoPuff",anchor:"gopuff",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"portfolio",label:"gopuff"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:2,title:"Artstation",anchor:"artstation",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"portfolio",label:"artstation"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:3,title:"reVistor",anchor:"revistor",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"portfolio",label:"revistor"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:4,title:"Yummi",anchor:"yummi",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"portfolio",label:"yummi"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}}],"contact-us":[{index:0,title:"Contact us",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:1,title:"Select services",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:2,title:"Budget choice",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:3,title:"Thank you",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!0,goTopBtn:!1}}],websummit:[{index:0,title:"WebSummit 2017",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:2,title:"Thank you",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!0,goTopBtn:!1}}],calculator:[{index:0,title:"Project's Calculator",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:void 0,title:"Project's Calculator",elements:{toplogo:!0,hireus:{enabled:!1},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}}],ba:[{index:0,title:"strategy",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ba/strategy"}},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:1,title:"concept",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ba/concept"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:2,title:"competitors",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ba/competitors"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:3,title:"modeling",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ba/modeling"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:4,title:"final results",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ba/results"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}}],mvp:[{index:0,title:"MVP development",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"mvp/development"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:1,title:"Analyzing",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"mvp/analyzing"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:2,title:"Allocating a team",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"mvp/team-allocation"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:3,title:"Early planing",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"mvp/early-planing"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:4,title:"Development scrum",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"mvp/scrum"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:5,title:"Release",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"mvp/release"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}}],ongoing:[{index:0,title:"Ongoing development",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ongoing/development"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:1,title:"New features",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ongoing/new-features"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:2,title:"Support maintenance",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ongoing/support-maintenance"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:3,title:"Quality assurance",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ongoing/quality-assurance"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:4,title:"review repeat",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ongoing/review"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:5,title:"Product update",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"ongoing/product-update"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}}],design:[{index:0,title:"Mobile and web",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/mobile-web"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:1,title:"Design team",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/team"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:2,title:"Analyzing strategy",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/analyzing"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:3,title:"UX design kanban",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/ux-kanban"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:4,title:"UX design review",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/ux-review"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:5,title:"UI design kanban",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/ui-kanban"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:6,title:"UI design review",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/ui-review"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}},{index:7,title:"Finalizing",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"service",label:"design/finalizing"}},sandwich:!0,sidenav:!0,bottomnav:!1,goTopBtn:!1}}],404:[{index:0,title:"Page not found",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"404",label:"404"}},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}},{index:void 0,title:"Page not found",elements:{toplogo:!0,hireus:{enabled:!0,goal:{category:"lets-talk",action:"404",label:"404"}},sandwich:!0,sidenav:!1,bottomnav:!1,goTopBtn:!1}}]};angular.module("mlsdev").constant("SiteScreens",e)}(),function(){"use strict";var e={profiles:[{index:0,title:"Facebook",link:"http://www.facebook.com/MLSDev",classes:["mdi-facebook"]},{index:1,title:"Twitter",link:"http://twitter.com/MLSDevCom",classes:["mdi-twitter"]},{index:2,title:"Google+",link:"http://plus.google.com/+MlsdevInc",classes:["mdi-google-plus"]},{index:3,title:"Linkedin",link:"http://www.linkedin.com/company/MLSDev",classes:["mdi-linkedin"]},{index:4,title:"Instagram",link:"http://www.instagram.com/mlsdev/",classes:["mdi-instagram"]},{index:5,title:"Dribble",link:"http://dribbble.com/mlsdev",classes:["mdi-dribbble"]},{index:6,title:"Behance",link:"http://www.behance.net/MLSDevInc",classes:["mdi-behance"]}],sharelinks:[]};angular.module("mlsdev").constant("CompanyLinks",e)}(),function(){"use strict";var e=[{name:"USA",code:"usa",clients:75,projects:181,visibleZ:225e-6,coordinates:{lat:33.75,"long":-102.13},direction:1,images:{url:"usa.jpg",x2:"usa_2x.jpg",x3:"usa_3x.jpg"}},{name:"Canada",code:"ca",clients:3,projects:3,visibleZ:225e-6,coordinates:{lat:48.65,"long":-105.4},direction:-1,images:{url:"canada.jpg",x2:"canada_2x.jpg",x3:"canada_3x.jpg"}},{name:"United Kingdom",code:"uk",clients:13,projects:39,visibleZ:21e-5,coordinates:{lat:55.522412,"long":-20.105469},direction:1,images:{url:"uk.jpg",x2:"uk_2x.jpg",x3:"uk_3x.jpg"}},{name:"Europe",code:"eu",clients:49,projects:104,visibleZ:225e-6,coordinates:{lat:53.032,"long":-1.406},direction:-1,images:{url:"europe.jpg",x2:"europe_2x.jpg",x3:"europe_3x.jpg"}},{name:"Georgia",code:"ge",clients:1,projects:1,visibleZ:232e-6,coordinates:{lat:54.2,"long":33.1},direction:1,images:{url:"europe.jpg",x2:"europe_2x.jpg",x3:"europe_3x.jpg"}},{name:"Saudi Arabia",code:"sa",clients:5,projects:15,visibleZ:225e-6,coordinates:{lat:42.47,"long":35.53},direction:1,images:{url:"saudi_arabia.jpg",x2:"saudi_arabia_2x.jpg",x3:"saudi_arabia_3x.jpg"}},{name:"India",code:"in",clients:1,projects:1,visibleZ:225e-6,coordinates:{lat:35.64,"long":75.2},direction:-1,images:{url:"europe.jpg",x2:"europe_2x.jpg",x3:"europe_3x.jpg"}},{name:"Russia",code:"ru",clients:23,projects:39,visibleZ:15e-5,coordinates:{lat:68.03,"long":88.41},direction:-1,images:{url:"russia.jpg",x2:"russia_2x.jpg",x3:"russia_3x.jpg"}},{name:"China",code:"cn",clients:1,projects:1,visibleZ:225e-6,coordinates:{lat:43.9,"long":115.406},direction:1,images:{url:"europe.jpg",x2:"europe_2x.jpg",x3:"europe_3x.jpg"}},{name:"Japan",code:"jp",clients:1,projects:1,visibleZ:19e-5,coordinates:{lat:50.652832,"long":144.5},direction:-1,images:{url:"europe.jpg",x2:"europe_2x.jpg",x3:"europe_3x.jpg"}},{name:"Australia",code:"au",clients:9,projects:31,visibleZ:27e-5,coordinates:{lat:8.31,"long":130.82},direction:1,images:{url:"australia.jpg",x2:"australia_2x.jpg",x3:"australia_3x.jpg"}},{name:"New Zealand",code:"nz",clients:1,projects:3,visibleZ:3e-4,coordinates:{lat:-.3,"long":155.7},direction:1,images:{url:"australia.jpg",x2:"australia_2x.jpg",x3:"australia_3x.jpg"}},{name:"South Africa",code:"za",clients:1,projects:1,visibleZ:295e-6,coordinates:{lat:5.5,"long":26.21837},direction:1,images:{url:"australia.jpg",x2:"australia_2x.jpg",x3:"australia_3x.jpg"}}];angular.module("mlsdev").constant("OurProjects",e)}(),function(){"use strict";var e=[{slogan:'...we are <span class="text-color-green">technology experts</span>',text:'So far, this mobile development company has been <span class="text-color-green">reliable from a technical standpoint</span>, which is not the most frequent case when dealing with mobile application developers. They\'re nice people to talk to and do business with. They are very enjoyable to manage.',reviewername:"Olivier Bourdin",reviewercompany:"Wave Mining Ltd.",reviewerphoto:"/images/home/avatars/olivier_bourdin_.png"},{slogan:'...we are <span class="text-color-green">agile</span>',text:'MLSDev gives us <span class="text-color-green">unparalleled speed and agility</span> in web, iOS, Android, set-top box, and hybrid HTML5/native mobile apps. The company is <span class="text-color-green">responsive to our changing needs</span> and a joy to collaborate with.',reviewername:"Kevin J. Scott",reviewercompany:"ESPN",reviewerphoto:"/images/home/avatars/kevin_scott_.png"},{slogan:'...we are <span class="text-color-green">lean</span>',text:'MLSDev demonstrated good enough skills in design and software development to create a <span class="text-color-green">successful MVP</span>. Communication and the time required to solve any kind of issue was good, and their people ask for frequent feedback to improve the development process further.',reviewername:"Simonluca Landi",reviewercompany:"Koomalooma website",reviewerphoto:"/images/home/avatars/simonluca_landi_.png"},{slogan:'...we deliver <span class="text-color-green">on time and budget</span>',text:'They have excellent attention to detail, are calm headed and <span class="text-color-green">deliver up to schedule and budget</span>.',reviewername:"Dave Smith",reviewercompany:"Brandy Digital",reviewerphoto:"/images/home/avatars/dave_smith_.png"},{slogan:'...we have <span class="text-color-green">orderly processes</span>',text:'I am <span class="text-color-green">very satisfied with the development process</span>. I think what really surprised me was that the project management was really excellent.',reviewername:"Leonard Teo",reviewercompany:"Ballistiq",reviewerphoto:"/images/home/avatars/leonard_teo_.png"},{slogan:'...we are <span class="text-color-green">professional</span>',text:'I can say that MLSDev was <span class="text-color-green">very professional</span> and always accessible. They were always ready to discuss different questions. I\'m very happy with the work.',reviewername:"Laura Jasenaite",reviewercompany:"McDonald’s",reviewerphoto:"/images/home/avatars/laura_jasenaite_.png"},{slogan:'...we are <span class="text-color-green">thinkers</span>',text:"I'm most appreciative of <span class=\"text-color-green\">their willingness to question assumptions and suggest alternate approaches</span> given their experiences and background; to understand the 'why' and drive to a best solution, not the easiest/quickest. Thanks team!",reviewername:"Mike Dobslaw",reviewercompany:"Revistor",reviewerphoto:"/images/home/avatars/mike_dobslaw_.png"},{slogan:'...we are <span class="text-color-green">calm headed</span>',text:'Everyone at MLS is dedicated to what they do and will always <span class="text-color-green">take as much time as required</span> in order to ensure that the client brief is executed 100%.',reviewername:"Jim B Tollan",reviewercompany:"CTO - Tahto Inc",reviewerphoto:"/images/home/avatars/jim_b_tollan_.png"},{slogan:'...we <span class="text-color-green">exceed expectations</span>',text:'What I liked the most about working with the MLSDev team is that they are thinkers and help make your product better to meet or <span class="text-color-green">exceed what you desired</span>.',reviewername:"Sameh Ibrahim",reviewercompany:"",reviewerphoto:"/images/home/avatars/sameh_ibrahim_.png"}];angular.module("mlsdev").constant("TestimonialsList",e)}(),function(){"use strict";var e=[{year:"2009",history:'Our history started in <span class="text-color-green">November 2009</span> when three friends joined their forces to establish a venture. \n      We were one of the <span class="text-color-green">first companies in Ukraine</span> that <span class="text-color-green">focused solely on mobile development</span>.'},{year:"2010",history:'Having set our goals, we got into action. Till the end of the year, we already had about <span class="text-color-green">15 team members, \n      20 successfully completed projects</span> and <span class="text-color-green">15 satisfied clients</span>. \n      Our core competencies expanded to native, cross-platform and web development.'},{year:"2011",history:'That year we launched our own digital business - an <span class="text-color-green">e-commerce store called MLStore</span>. \n        Apart from that, our web department started using <span class="text-color-green">Ruby on Rails instead of PHP</span> which positively affected the quality of our work. \n        The circle of our clients was added to with <span class="text-color-green">Panasonic</span> and <span class="text-color-green">Alpine</span>. \n        It was also the period when we began to document the first version of our working process.'},{year:"2012",history:'At the times of the gaming boom, we tuned into the call for games, \n        and launched a <span class="text-color-green">mobile game studio</span> named Lethal Beaver Games that existed for several years and then became one of MLSDev departments. \n        That was the period when we were officially allowed to play games at work.'},{year:"2013",history:'Due to the constantly increasing number of clients our company grew bigger. \n        In 2013 we already had <span class="text-color-green">28 employees</span>. \n        It was also the beginning of our 2-year cooperation with the worldwide known sports channel <span class="text-color-green">ESPN</span>\n        and a U.S. e-commerce rising superstar <span class="text-color-green">GoPuff</span>. In addition, MLSDev team started to work on our own product <span class="text-color-green">Erodr</span>.'},{year:"2014",history:'Taking care of our team’s safety and reliability of managing projects, our company <span class="text-color-green">relocated</span>\n        from Donetsk <span class="text-color-green">to Vinnytsia</span>.\n        This year was also marked with expanding the range of our services\n        and <span class="text-color-green">focusing</span> solely on the development of <span class="text-color-green">native solutions</span>.'},{year:"2015",history:'To make the cooperation with our clients easy and convenient, we decided to open an office in the USA. Since that moment,\n        we could be truly called an <span class="text-color-green">international company</span> delivering its upscale services worldwide.\n        Besides, we reached the mark of <span class="text-color-green">50 team members</span> and became <span class="text-color-green">top 1 employer in Ukraine</span> according to DOU.ua.'},{year:"2016",history:'Since the majority of our clients are located either in the USA or Europe, we have opened an <span class="text-color-green">office in Poland</span>.\n    For the time being, MLSDev is considered to be one of the <span class="text-color-green">leading European development companies</span> according to Clutch.co.'}];angular.module("mlsdev").constant("HistoryList",e)}(),function(){"use strict";var e=[{name:"McDonald's",id:"macdonalds",names:[{text:"M",size:"big"},{text:"c",size:"small"},{text:"D",size:"big"},{text:"onald's",size:"small"}],nameBackground:"MCDONALD'S",description:"McDonald’s Baltics is a mobile loyalty app for brand customers in Lithuania, Latvia and Estonia. Its main purpose is to offer users personalized deals, provide information about new promotions, products and their nutritional value. Apart from that clients can always find a detailed description of all McDonald’s restaurants in the region and access customer service.",darkLogo:!1,link:"portfolio-mcdonalds",images:{small:"mcdonalds-small.png",large:"mcdonalds.png",preview:"mcdonalds-small.png"},colors:{description:"description-color-yellow",sidebar:"sidebar-color-green"},backgroundText:"middle"},{name:"GOPUFF",id:"gopuff",names:[{text:"GOPUFF",size:"big"}],description:"GoPuff is an on-demand delivery service that supplies its clients with student, office, party and household essentials, snacks, drinks, frozen food, groceries and electronics. This is a mobile convenience store that is always in a pocket.",link:"portfolio-gopuff",darkLogo:!1,images:{small:"gopuff-small.png",large:"gopuff.png",preview:"gopuff-small.png"},colors:{description:"description-color-blue",sidebar:"sidebar-color-azure"},backgroundText:"big"},{name:"Artstation",id:"artstation",names:[{text:"Artstation",size:"big"}],description:"ArtStation is a creative platform for artists who work in various areas of visual arts. It provides them with three main networking opportunities. Artists can showcase their works in personal profiles that act like portfolios and also find a lot of job opportunities on ArtStation. Also, this is a place for all who strive to create: students, emerging talents and experienced professionals.",link:"portfolio-artstation",darkLogo:!1,images:{small:"artstation-small.png",large:"artstation.png",preview:"artstation-small.png"},colors:{description:"description-color-artstation",sidebar:"sidebar-color-artstation"},backgroundText:"middle"},{name:"REVISTOR",id:"revistor",names:[{text:"re",size:"small"},{text:"v",size:"big"},{text:"istor",size:"small"}],description:"reVistor is a mobile app that allows its users to experience historical events where they actually occurred with the help of augmented reality. The main purpose of the application is to preserve the memory and increase public interest with the American Civil War and other historical events.",darkLogo:!1,link:"portfolio-revistor",images:{small:"revistor-small.png",large:"revistor.png",preview:"revistor-small.png"},colors:{description:"description-color-revistor",sidebar:"sidebar-color-revistor"},backgroundText:"big"},{name:"YUMMI",id:"yummi",names:[{text:"YUMMI",size:"big"}],description:"Yummi is a mobile app that is specially created to help users store their best food memories. It is a platform where you can share your eating experiences, discover different meals, and log food images to never forget the fine cuisine you've tasted.",link:"portfolio-yummi",darkLogo:!1,images:{small:"yummi-small.png",large:"yummi.png",preview:"yummi-small.png"},colors:{description:"description-color-yummi-green",sidebar:"sidebar-color-yummi-yellow"},backgroundText:"big"}];angular.module("mlsdev").constant("Portfolio",e)}(),function(){"use strict";var e=[{order:1,position:"10",place:"Clutch",description:"Top Android developers",year:"2016",classes:["tenth","active"]},{order:2,position:"3",place:"Sourcelysis",description:"Top Global",year:"2015",classes:["third"]},{order:3,position:"10",place:"Clutch",description:"Top Europe",year:"2015",classes:["tenth"]},{order:4,position:"3",place:"Clutch",description:"Top Ukraine",year:"2015",classes:["third"]},{order:5,position:"3",place:"DOU",description:"Top midsize employers",year:"2015",classes:["third"]}];angular.module("mlsdev").constant("AwardsList",e)}(),function(){"use strict";var e=[{name:"iOS",type:"development",list:["Swift","xCode","iOS/tvOS/watchOS SDKs","CocoaPods","Fabric","fastlane"],image:"ios.png"},{name:"Android",type:"development",list:["Java","Android Studio","Gradle","Maven","Proguard"],image:"android.png"},{name:"Front-end",type:"development",list:["HTML","CSS","JavaScript","AngularJS","NodeJS","Bower","Gulp"],image:"front-end.png"},{name:"Back-end",type:"development",list:["Ruby","Ruby On Rails","PostgreSQL","Amazon Web","Nginx","Redis","Elasticsearch"],image:"back-end.png"},{name:"Project",type:"management",list:[],image:"pm.png"},{name:"WEB and Mobile",type:"design",list:[],image:"design.png"}];angular.module("mlsdev").constant("TechnologiesList",e)}(),function(){"use strict";var e={features:{title:"Core features",selected:"e_commerce",types:{e_commerce:{title:"E-comerce",note:"Projects like online-shop",ba:{min:30,max:55},platforms:{web:{title:"WEB",note:"Some info about this platform for this core feature",backend:{min:100,max:150,coef:1},design:{min:50,max:120,coef:1.15},min:80,max:160,checked:!1,hidden:!1,disabled:!1},ios:{title:"iOS",backend:{min:110,max:200,coef:1},design:{min:50,max:100,coef:1.15},min:85,max:225,checked:!1,hidden:!1,disabled:!1},android:{title:"Android",backend:{min:90,max:200,coef:1.1},design:{min:50,max:100,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1}}},social:{title:"Social",ba:{min:30,max:55,coef:1.08},platforms:{web:{title:"WEB",backend:{min:100,max:150,coef:1.25},design:{min:50,max:80,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1},ios:{title:"iOS",backend:{min:110,max:200,coef:1.35},design:{min:50,max:80,coef:1.15},min:85,max:225,checked:!1,hidden:!1,disabled:!1},android:{title:"Android",backend:{min:90,max:200,coef:1.2},design:{min:50,max:80,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1}}},dating:{title:"Dating",ba:{min:30,max:55},platforms:{web:{title:"WEB",backend:{min:100,max:150,coef:1.25},design:{min:50,max:80,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1},ios:{title:"iOS",backend:{min:110,max:200,coef:1.35},design:{min:50,max:80,coef:1.15},min:85,
max:225,checked:!1,hidden:!1,disabled:!1},android:{title:"Android",backend:{min:90,max:200,coef:1.2},design:{min:50,max:80,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1}}},working:{title:"Working",ba:{min:30,max:55},platforms:{web:{title:"WEB",backend:{min:100,max:150,coef:1.25},design:{min:50,max:80,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1},ios:{title:"iOS",backend:{min:110,max:200,coef:1.35},design:{min:50,max:80,coef:1.15},min:85,max:225,checked:!1,hidden:!1,disabled:!1},android:{title:"Android",backend:{min:90,max:200,coef:1.2},design:{min:50,max:80,coef:1.15},min:100,max:200,checked:!1,hidden:!1,disabled:!1}}}}},services:{title:"Services",types:{design:{title:"Disign",note:"Disign for project.",rate:25,weekLength:32.5,checked:!0,hidden:!1,disabled:!1},ba:{title:"Business Analysis",note:"Business Analysis for project.",rate:31,weekLength:32.5,checked:!0,hidden:!1,disabled:!1},qa:{title:"Quality Assurance",note:"Quality Assurance must have in each project. You can't diselect it.",rate:20,checked:!0,hidden:!1,disabled:!0,weekLength:32.5,coef:.3},pm:{title:"Project Managment",note:"Project managment must have in each project. You can't diselect it.",rate:300,checked:!0,hidden:!1,disabled:!0,weekLength:32.5,meetingLength:5.25},web:{title:"Web development",note:"",rate:30,weekLength:32.5,checked:!0,hidden:!0,disabled:!0},backend:{title:"Backend development",note:"",rate:33,weekLength:30,checked:!0,hidden:!0,disabled:!0},ios:{title:"iOS development",note:"",rate:35,weekLength:35,checked:!0,hidden:!0,disabled:!0},android:{title:"Android development",note:"",rate:31,weekLength:34.5,checked:!0,hidden:!0,disabled:!0}}},other:{title:"Other features",types:{chat:{title:"Chat",checked:!1,hidden:!1,disabled:!1,platforms:{backend:{min:10,max:35},design:{min:15,max:40},web:{min:5,max:10},ios:{min:45,max:60},android:{min:29,max:48},ba:{min:5,max:15}}},notific:{title:"Notification",checked:!1,hidden:!1,disabled:!1,platforms:{backend:{min:10,max:35},design:{min:15,max:40},ba:{min:0,max:5},web:{min:30,max:43},ios:{min:45,max:60},android:{min:29,max:48}}},admin:{title:"Admin Panel",checked:!1,hidden:!1,disabled:!1,platforms:{backend:{min:10,max:35},design:{min:15,max:40},ba:{min:0,max:5},web:{min:30,max:43},ios:{min:45,max:60},android:{min:29,max:48}}},"fb-reg":{title:"Registration via facebook",checked:!1,hidden:!1,disabled:!1,platforms:{backend:{min:10,max:15},design:{min:5,max:10},ba:{min:0,max:0},web:{min:30,max:43},ios:{min:45,max:60},android:{min:29,max:48}}}}}};angular.module("mlsdev").constant("Calc",e)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c){var l=this;e(this,i),n.set(this,{header:o,traffic:a}),this.page=r,this.yandexMetrikaKey=c,s.on("show",function(){l.isShowPage404=!0}),s.on("hide",function(){l.isShowPage404=!1})}return i.$inject=["$timeout","PageGlobalService","HeaderService","TrafficSourceService","Page404Service","yandexMetrikaKey"],t(i,[{key:"$onInit",value:function(){var e=n.get(this),t=e.traffic;t.handleSource()}},{key:"getBodyClasses",value:function(){return n.get(this).header.isOverflowVisible()?"":"full-screen"}},{key:"isHeaderWhite",value:function(){return n.get(this).header.isHeaderWhite()}},{key:"isHeaderFullWhite",value:function(){return n.get(this).header.isHeaderFullWhite()}},{key:"isHeaderItemsShow",value:function(){return n.get(this).header.isHeaderItemsShow()}}]),i}();angular.module("mlsdev").controller("GlobalController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c,l){e(this,i),this.clients=r,this.testimonials=o,this.awards=s,this.technologies=a,this.trust=l.trustAsHtml,n.set(this,new c),this.screenIsActive=t.screenIsActive.bind(t),this.space=n.get(this)}return i.$inject=["ScreensService","ClientsList","TestimonialsList","TechnologiesList","AwardsList","SpaceSystemFactory","$sce"],t(i,[{key:"aboutUsGotoStep",value:function(e){var t=n.get(this);t.goToStep(e)}},{key:"aboutUsNextStep",value:function(){var e=n.get(this);e.nextStep()}},{key:"aboutUsPrevStep",value:function(){var e=n.get(this);e.backStep()}}]),i}();angular.module("mlsdev").controller("HomeController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c,l,u,h,f){e(this,i);var p=f.get("company:screen5");this.offices=o,this.team=a,this.focus=c,this.countries=s,this.percentValue=0,this.history=l,this.trust=t.trustAsHtml,this.screenIsActive=r.screenIsActive.bind(r),n.set(this,{PercentageService:u,ScreensService:r,TouchEventsService:h}),p.on("changed",this.onChangeFocusSlider.bind(this)),this.doVisibleMemberSelector(),this.doVisibleMemberSelectorBind=this.doVisibleMemberSelector.bind(this),window.addEventListener("resize",this.doVisibleMemberSelectorBind)}return i.$inject=["$sce","ScreensService","CompanyOffices","OurTeam","OurProjects","WeFocus","HistoryList","PercentageService","TouchEventsService","SliderFactory"],t(i,[{key:"doVisibleMemberSelector",value:function(){var e=768,t=window.innerWidth>0?window.innerWidth:screen.width;this.isVisibleMemberSelector=t>=e}},{key:"isPlanet",value:function(e){var t=n.get(this),i=t.ScreensService,r=t.TouchEventsService,o=i.activeIndex;e=e||!1;var a=4,s=6;return e?!r.isTouch():o>=a&&o<=s&&!r.isTouch()}},{key:"isPlanetAnimated",value:function(){var e=n.get(this),t=e.ScreensService,i=t.activeIndex,r=4,o=6;return i>=r&&i<=o}},{key:"getPlanetClasses",value:function(e){var t=[];return e.direction==-1&&t.push("reverse"),t.push("country-"+e.code),t}},{key:"onChangeFocusSlider",value:function(e){var t=this,i=n.get(this),r=i.PercentageService,o=this.focus[e].percent;r.countTo=o,r.callback=function(e){t.percentValue=e},r.start()}}]),i}();angular.module("mlsdev").controller("CompanyController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o){e(this,i),n.set(this,{$timeout:o}),t.portfolio||(t.portfolio=[]);var a=t.portfolio;a&&0===a.length&&r.forEach(function(e,t){a.push({index:t,title:e.name,elements:{toplogo:!0,hireus:!0,hireusTransparent:!0,sandwich:!0,sidenav:!0,bottomnav:!1,dark:e.darkLogo,clearVisited:!0}})}),this.portfolio=r,this.noscroll=!0,this.touchStartListener=this.onTouchStart.bind(this)}return i.$inject=["SiteScreens","Portfolio","$timeout"],t(i,[{key:"$onInit",value:function(){"ontouchstart"in document&&document.addEventListener("touchstart",this.touchStartListener)}},{key:"onTouchStart",value:function(){var e=this,t=n.get(this),i=t.$timeout;i(function(){e.noscroll=!1}),document.removeEventListener("touchstart",this.touchStartListener)}}]),i}();angular.module("mlsdev").controller("PortfolioController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(e){for(var t=document.getElementsByTagName(e),n=0;n<t.length;n++)t[n].tabIndex="-1"},r=function(e){for(var t=0;t<e.length;t++){var n=document.getElementById(e[t]);n&&(n.tabIndex=(t+1).toString())}},o=function(){function o(t,i,r,a,s,c){e(this,o);var l=new r;this.servicesText="skip",this.services=l.services,n.set(this,{HelpersService:s,ScreensService:a,GoalsService:c,$timeout:i,form:l});var u=this.changeActiveScreen.bind(this);a.on("transitionend",u),t.$on("$destroy",function(){a.off("transitionend",u)})}return o.$inject=["$scope","$timeout","ContactUsFactory","ScreensService","HelpersService","GoalsService"],t(o,[{key:"changeActiveScreen",value:function(){var e=n.get(this),t=e.ScreensService;switch(i("INPUT"),i("TEXTAREA"),i("BUTTON"),i("A"),t.activeIndex){case 0:r(["name","email","message","firstscreennext"]);break;case 1:r(["business","ux","ui","mvp","ongoing","marketing"]);break;case 2:break;case 3:}}},{key:"changeService",value:function(){var e=this.services.reduce(function(e,t){return e||t.state},!1);e?this.servicesText="next":this.servicesText="skip"}},{key:"setEmail",value:function(e,t){this.emailInvalid=e,this.emailMessage=t}},{key:"enterEmail",value:function(e){var t=this,i=n.get(this),r=i.$timeout;13===event.keyCode?this.isEmail(e):r(function(){t.setEmail(!1)})}},{key:"isEmail",value:function(e){var t=this,i=n.get(this),r=i.$timeout,o=i.HelpersService,a=e.target.value;a.length>0&&!o.validEmail(a)&&r(function(){t.setEmail(!0,"please fill the correct email address")})}},{key:"firstStep",value:function(){var e=this,t=n.get(this),i=t.$timeout,r=t.HelpersService,o=t.ScreensService,a=t.form,s=t.GoalsService,c=contactForm.kind?contactForm.kind.value:null;contactForm.email.value&&r.validEmail(contactForm.email.value)?a.firstStep(contactForm.name.value,contactForm.email.value,contactForm.message.value,c).then(function(e){e.id&&(o.moveDown(),o.movingSetEnd(),s.track("contact_us",contactForm.email.value))})["catch"](function(t){console.log("err",t),e.setEmail(!1,"something wrong")}):i(function(){e.setEmail(!0,"please fill the correct email address")})}},{key:"secondStep",value:function(){var e=n.get(this),t=e.ScreensService,i=e.form,r=this.services.map(function(e){if(e.state===!0)return e.id}).filter(function(e){return e});i.secondStep(r).then(function(e){t.moveDown(),t.movingSetEnd()})["catch"](function(e){console.log("err",e)})}},{key:"budgetStep",value:function(e){var t=n.get(this),i=t.ScreensService,r=t.form;r.budgetStep(e).then(function(e){i.moveDown(),i.movingSetEnd()})["catch"](function(e){console.log("err",e)})}}]),o}();angular.module("mlsdev").controller("ContactUsController",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=function(){function r(t,i,o,a,s,c){e(this,r),n.set(this,{$interval:o,$timeout:a,$scope:t,SliderFactory:s,brEvents:c,element:i[0],restoreDelay:null}),this.eventHandler=this.handleEvent.bind(this),this.restoreStateEventHandler=this.handleRestoreStateEvent.bind(this),this.switchNextListener=this.switchNext.bind(this),this.switchPrewListener=this.switchPrev.bind(this),this.stopAutoSwitchingBind=this.stopAutoSwitching.bind(this),this.runAutoSwitchingBind=this.runAutoSwitching.bind(this)}return r.$inject=["$scope","$element","$interval","$timeout","SliderFactory","BrowserEventsService"],t(r,[{key:"$onInit",value:function(){var e=this,t=n.get(this),r=t.SliderFactory,o=t.brEvents;i.set(this,r.get(this.sliderName));var a=i.get(this);this.interval=null,this.listenMouseOut="mouseover"===this.event&&this.restoreState,this.listenSwitchingStatusChange(),this.switcherListener(),o.on("doSlide",function(t){e.switchingEnabled&&(t>0?a.trigger("slider:switchNext"):a.trigger("slider:switchPrev"))})}},{key:"listenSwitchingStatusChange",value:function(){var e=this,t=n.get(this),i=t.$scope;i.$watch(function(){return e.switchingEnabled},function(t){return t?e.run():e.stop()})}},{key:"run",value:function(){var e=i.get(this),t=n.get(this),r=t.element;r.addEventListener(this.event,this.eventHandler),r.addEventListener("touchstart",this.eventHandler),this.listenMouseOut&&r.addEventListener("mouseout",this.restoreStateEventHandler),this.initializeState&&(e.setActive(0),e.toggleActive()),this.runAutoSwitching()}},{key:"switcherListener",value:function(){var e=i.get(this);e.on("slider:switchNext",this.switchNextListener),e.on("slider:switchPrev",this.switchPrewListener),e.on("slider:stopAuto",this.stopAutoSwitchingBind),e.on("slider:runAuto",this.runAutoSwitchingBind)}},{key:"removeSwitcherListener",value:function(){if(i.get(this)){var e=i.get(this);e.off("slider:switchNext",this.switchNextListener),e.off("slider:switchPrev",this.switchPrewListener)}}},{key:"stop",value:function(){var e=i.get(this),t=n.get(this),r=t.element;r.removeEventListener(this.event,this.eventHandler),r.removeEventListener("touchstart",this.eventHandler),this.listenMouseOut&&(r.removeEventListener("mouseout",this.restoreStateEventHandler),e.setActive(-1),e.toggleActive(!1)),this.autoSwitching&&this.stopAutoSwitching()}},{key:"handleEvent",value:function(e){var t=i.get(this),n=t.switches,r=-1;for(var o in n){var a=n[o];if(r=a.indexOf(e.target),r>-1)break}this.setActiveSlide(r)}},{key:"switchNext",value:function(){if(i.get(this)){var e=i.get(this),t=e.isLastIteration?0:e.activeIndex+1;this.setActiveSlide(t)}}},{key:"switchPrev",value:function(){if(i.get(this)){var e=i.get(this),t=e.getFirstGroupSwitches(),n=e.isFirstIteration?t.length-1:e.activeIndex-1;this.setActiveSlide(n)}}},{key:"setActiveSlide",value:function(e){var t=i.get(this),n=t.getFirstGroupSwitches();e>=0&&e<n.length&&(t.setActive(e),t.toggleActive(),this.runAutoSwitching(),t.trigger("slider:setActive"))}},{key:"handleRestoreStateEvent",value:function(e){var t=i.get(this),r=n.get(this),o=r.$timeout,a=t.getFirstGroupSwitches(),s=a.indexOf(e.target),c=n.get(this).restoreDelay;if(s===t.activeIndex){var l=t.currentActive;o.cancel(l),t.currentActive=o(function(){t.setActive(-1),t.toggleActive(!1)},c)}}},{key:"runAutoSwitchingTimer",value:function(){var e=n.get(this),t=e.$interval,i=parseInt(this.delay),r=this.autoSwitch.bind(this);this.interval=t(r,i)}},{key:"runAutoSwitching",value:function(){if(this.autoSwitching){var e=n.get(this),t=e.$timeout,i=parseInt(this.preDelay),r=this.runAutoSwitchingTimer.bind(this);this.stopAutoSwitching(),i>0?this.preinterval=t(r,i):r()}}},{key:"stopAutoSwitching",value:function(){if(n.get(this)){var e=n.get(this),t=e.$timeout,i=e.$interval;t.cancel(this.preinterval),i.cancel(this.interval),this.preinterval=void 0,this.interval=void 0}}},{key:"autoSwitch",value:function(){if(i.get(this)){var e=i.get(this),t=e.isLastIteration?0:e.activeIndex+1;e.setActive(t),e.toggleActive(),"function"==typeof this.nextStepHandler&&this.nextStepHandler()}}},{key:"$onDestroy",value:function(){this.stopAutoSwitching(),this.removeSwitcherListener(),n["delete"](this),i["delete"](this)}}]),r}();angular.module("mlsdev").controller("SliderController",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function n(){e(this,n)};angular.module("mlsdev").controller("ServiceController",t)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=(new WeakMap,function(){function i(t,r,o,a,s,c){e(this,i),n.set(this,{$timeout:r,$location:o,ArticlesCollection:a,CategoriesCollection:s,NewsService:c}),this.params={words:o.search().words,category:o.search().category},this.categories=new s(this.params.category),this.topArticles=c.topArticles,this.setArticles(this.params)}return t(i,[{key:"setArticles",value:function(e){this.articles=new(n.get(this).ArticlesCollection)(e)}},{key:"setCategory",value:function(e){var t=n.get(this),i=t.$location,r=t.NewsService,o=i.search();this.params.category=e.name&&"All"!=e.name?e.name:null,this.params.words=null,o.category=this.params.category,o.words=null,this.articles.config.category=this.params.category,i.search(o),this.categories.setActive(e),this.setArticles(this.params),r.getTopArticles(e.id)}},{key:"startSearch",value:function(){var e=n.get(this),t=e.$location,i=t.search();this.params.words=this.params.words||null,i.words=this.params.words,t.search(i),this.articles.config.words=this.params.words,this.setArticles(this.params)}}]),i}());angular.module("mlsdev").controller("BlogController",["$scope","$timeout","$location","ArticlesCollection","CategoriesCollection","NewsService",i])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c,l,u,h){e(this,i),n.set(this,{$state:r,$stateParams:o,$location:a,ArticlesCollection:s,PageGlobalService:c,Page404Service:l,Page301Service:u}),this.trust=t.trustAsHtml,this.initialize(),h.run("article")}return i.$inject=["$sce","$state","$stateParams","$location","ArticlesCollection","PageGlobalService","Page404Service","Page301Service","PreloaderService"],t(i,[{key:"initialize",value:function(){var e=this,t=n.get(this),i=t.$stateParams,r=t.ArticlesCollection;r.loadArticle(i.articleId).then(function(t){e.data=t,e.checkUrl(),e.setMeta()})["catch"](function(t){return e.onError(t)})}},{key:"setMeta",value:function(){var e=n.get(this),t=e.PageGlobalService,i=this.data;t.setSocialTags({title:i.title,image:i.image,url:i.slug,type:"article",description:i.meta.description}),t.setMetaData(i.meta)}},{key:"checkUrl",value:function(){var e=n.get(this),t=e.$state,i=e.$stateParams.articleId,r=e.$location,o=e.Page301Service;if(i==this.data.id){var a=r.absUrl(),s=a.substring(0,a.lastIndexOf("/")+1),c=s+this.data.slug;o.addMetaTag("prerender-status-code","301"),o.addMetaTag("prerender-header","Location: "+c),t.go("article",{articleId:this.data.slug},{notify:!1})}else i!=this.data.slug&&Promise["throw"]()}},{key:"onError",value:function(){n.get(this).Page404Service.show()}}]),i}();angular.module("mlsdev").controller("ArticleController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function n(){e(this,n)};angular.module("mlsdev").controller("CaseStudyController",t)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function n(){e(this,n)};angular.module("mlsdev").controller("StaticController",t)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c,l){e(this,i),n.set(this,{$timeout:t,$location:r,CalculatorService:a}),this.storage=c,this.screenIsActive=o.screenIsActive.bind(o),this.startAnim=!1,this.showCalc=!1,this.calcParams={},this.hideResultPos=null,this.settingsString="",this.sharing=new l({title:"Project's cost calculator. Let yourself know how much it will cost to you.",image:r.protocol()+"://"+location.host+"/images/calculator/img-template.jpg",type:"page"}),s.setSocialTags(this.sharing),this.navItems={low:"Low",middle:"Middle",high:"High"},this.activeNavItem="middle",this.sharingList={facebook:{text:"Share on facebook",ico:"images/calculator/facebook.png"},twitter:{text:"Share on twitter",ico:"images/calculator/twitter.png"},google:{text:"Share on google",ico:"images/calculator/google.png"},linkedin:{text:"Share on linkedin",ico:"images/calculator/linkedin.png"}},this.textForResultPage=a.textForResultPage}return i.$inject=["$timeout","$location","ScreensService","CalculatorService","PageGlobalService","LocalStorageService","SharingFactory"],t(i,[{key:"$onInit",value:function(){var e=this,t=n.get(this),i=t.$timeout,r=t.CalculatorService;i(function(){e.startAnim=!0},400),this.initCalcResult(),r.load().then(function(){i(function(){e.calcParams=r.calcParams,console.log("this.calcParams",e.calcParams),e.checkCurrentSettings()})})}},{key:"checkCurrentSettings",value:function(){var e=this,t=n.get(this),i=t.CalculatorService,r=t.$location,o=this.storage.get("calcSettings"),a=r.search().settings;a?(this.storage.remove("calcSettings"),i.getSettings({token:a}).then(function(t){e.setUserSettings(i.userSettings),e.calcClickHandler(),e.showCalc=!0})["catch"](function(t){console.log("Getting user detting for cal error",t),e.calcClickHandler(),e.showCalc=!0,r.search("settings",null)})):o?(this.setUserSettings(o)||this.storage.remove("calcSettings"),this.calcClickHandler(),this.showCalc=!0):(this.calcClickHandler(),this.showCalc=!0,console.log("Clear page"))}},{key:"setUserSettings",value:function(e){var t=n.get(this),i=t.CalculatorService,r={};try{r=JSON.parse(e)}catch(o){return console.log("Parse prev setting error :"+JSON.stringify(o)),null}try{return i.setLocalSetting(r,this.calcParams),!0}catch(o){return console.log("setLocalSetting error: "+JSON.stringify(o)),null}}},{key:"initCalcResult",value:function(){this.calcResults={webSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},androidSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},iosSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},backendSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},developSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},pmSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},designSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},qaSumm:{min:0,max:0,costMin:0,costMax:0,rate:0},baSumm:{min:0,max:0,costMin:0,costMax:0,rate:0}},this.calcResultsFull={low:{},middle:{},high:{}}}},{key:"calcClickHandler",value:function(){var e=this,t=n.get(this),i=t.$timeout,r=t.$location,o=t.CalculatorService,a={};this.showCalc&&r.search("settings",null),i(function(){e.recalcProject(),a=o.getLocalSetting(e.calcParams),e.settingsString=JSON.stringify(a),e.storage.set("calcSettings",e.settingsString)})}},{key:"recalcProject",value:function(){var e=this;this.initCalcResult();var t=this.calcParams.features,n=t.selected,i={},r=[],o=null,a=null,s=this.calcParams.services,c=s.types.design,l=s.types.ba,u=s.types.qa,h=s.types.pm,f=!0;if(_.each(t.types[n].platforms,function(l,u){if(l.checked)if(e.calcResults[u+"Summ"].rate=+s.types[u].rate,e.calcResults[u+"Summ"].min=+l.min,e.calcResults[u+"Summ"].max=+l.max,i[u]={min:+l.min,max:+l.max},r.push(u),f)o=u,a=u,f=!1;else{var h=t.types[n].platforms[o].backend,p=l.backend;if((p.max>h.max||p.max==h.max&&p.coef<h.coef)&&(o=u),c.checked){var d=t.types[n].platforms[o].design,v=l.design;(v.max>d.max||v.max==d.max&&v.coef<d.coef)&&(a=u)}}}),!r.length)return console.log("empty platforms list. Return."),void this.calcTypesOfPrice();var p=this.calcResults.backendSumm,d=this.calcResults.designSumm,v=this.calcResults.baSumm,m=t.types[n].platforms;p.min=+m[o].backend.min,p.max=+m[o].backend.max,p.rate=s.types.backend.rate||0,d.min=+m[a].design.min,d.max=+m[a].design.max,d.rate=s.types.design.rate||0,r.forEach(function(e,i){if(e!=o){var r=t.types[n].platforms[e].backend;p.min=Math.ceil(p.min*+r.coef),p.max=Math.ceil(p.max*+r.coef)}if(e!=a){var s=t.types[n].platforms[e].design;d.min=Math.ceil(d.min*+s.coef),d.max=Math.ceil(d.max*+s.coef)}}),i.backend={min:+p.min,max:+p.max};var g=[];_.each(this.calcParams.other.types,function(r,o){r.checked&&(g.push(o),_.each(r.platforms,function(r,o){var a=t.types[n].platforms[o];a&&a.checked?(i[o].min+=+r.min,i[o].max+=+r.max,e.calcResults[o+"Summ"].min+=+r.min||0,e.calcResults[o+"Summ"].max+=+r.max||0):e.calcResults[o+"Summ"]&&(e.calcResults[o+"Summ"].min+=+r.min||0,e.calcResults[o+"Summ"].max+=+r.max||0)}))}),c.checked?r.indexOf("web")==-1||r.indexOf("ios")==-1&&r.indexOf("android")==-1||(d.min=Math.ceil(1.25*d.min),d.max=Math.ceil(1.25*d.max)):(d.min=0,d.max=0),l.checked?(v.min+=+t.types[n].ba.min,v.max+=+t.types[n].ba.max,v.rate=+l.rate):(v.min=0,v.max=0);var y=this.calcResults.qaSumm;u.checked&&(y.rate=u.rate,_.each(i,function(t,n){y.min+=e.calcResults[n+"Summ"].min,y.max+=e.calcResults[n+"Summ"].max}),y.min=Math.ceil(y.min*u.coef),y.max=Math.ceil(y.max*u.coef));var b=+h.meetingLength||5;_.each(i,function(t,n){var i=+s.types[n].weekLength||35,r=e.calcResults[n+"Summ"],o=2*Math.ceil(t.min/i),a=2*Math.ceil(t.max/i);t.min+=o,t.max+=a,r.min+=o,r.max+=a;var c=Math.ceil(Math.ceil(t.min/(i-b))*b),l=Math.ceil(Math.ceil(t.max/(i-b))*b);t.min+=+c,t.max+=+l,r.min+=o,r.max+=a,t.weeksMin=Math.ceil(t.min/i),t.weeksMax=Math.ceil(t.max/i)});var $=this.calcResults.pmSumm;if(h.checked){$.rate=+h.rate,_.each(i,function(e,t){$.min=Math.max(e.weeksMin,$.min),$.max=Math.max(e.weeksMax,$.max)});var w=+s.types.design.weekLength;$.min+=Math.ceil(d.min/w),$.max+=Math.ceil(d.max/w)}var k={min:0,max:0,costMin:0,costMax:0};_.each(this.calcResults,function(e,t){e.costMin=e.min*(e.rate||0),e.costMax=e.max*(e.rate||0),k.min+=e.min,k.max+=e.max,k.costMin+=e.costMin,k.costMax+=e.costMax}),this.calcResults.totalSumm=k,_.each(i,function(t,n){e.calcResults.developSumm.costMin+=e.calcResults[n+"Summ"].costMin,e.calcResults.developSumm.costMax+=e.calcResults[n+"Summ"].costMax}),this.calcTypesOfPrice(),console.log("Results :",this.calcResults)}},{key:"calcTypesOfPrice",value:function(){var e=this,t={low:.5,middle:1,high:4};_.each(this.calcResultsFull,function(n,i){e.calcResultsFull[i]=_.mapObject(e.calcResults,function(e,n){return{costMin:Math.ceil(e.costMin*t[i])||0,costMax:Math.ceil(e.costMax*t[i])||0}})})}},{key:"checkCalcFormHeight",value:function(e,t,n){if(t&&n){var i=document.getElementById("calculator-wrap");if(!i)return;var r=window.innerHeight;this.hideResultPos=i.offsetHeight-.5*r}}},{key:"changePriceLvl",value:function(e){e!=this.activeNavItem&&(this.activeNavItem=e)}},{key:"isBackBlack",value:function(){return _.contains(["low","high"],this.activeNavItem)}},{key:"shareThis",value:function(e){var t=this,i=n.get(this),r=i.CalculatorService,o=i.$location,a=i.$timeout;r.saveSettings({settings:this.settingsString}).then(function(){o.search("settings",r.userToken),t.sharing.location=o.absUrl(),a(function(){t.sharing.share(e)})})["catch"](function(e){console.log("Sharing failed",e)})}}]),i}();angular.module("mlsdev").controller("CalculatorController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function n(t,i,r){e(this,n),console.log("404 page init"),t.show(),i.onVisiblity({visibleParts:{hireus:!1,sandwich:!0,toplogo:!0}})};t.$inject=["Page404Service","HeaderService","PageGlobalService"],angular.module("mlsdev").controller("Blank404Controller",t)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(){e(this,i)}return t(i,[{key:"resolve",value:function(e,t,n,i,r,o){this.elements=e,this.setActive=t,this.animated=n,this.activeIndex=i,this.direction=r,this.currentActive=o,this._setPreviousState();var a=this._setBoxes();this._clearClasses(),this._setActive(),this._boxesAnimate(a)}},{key:"_setPreviousState",value:function(){if(this.direction&&this.animated){this.elements.forEach(function(e){e.classList.remove("prev","next")});var e=-1;"left"===this.direction&&(e=this.activeIndex>=1?this.activeIndex-1:this.elements.length-1),"right"===this.direction&&(e=this.activeIndex+1<this.elements.length?this.activeIndex+1:0);var t=e>=1?e-1:this.elements.length-1,n=this.elements[t];n.classList.add("prev");var i=e+1<this.elements.length?e+1:0,r=this.elements[i];r.classList.add("next")}}},{key:"_setBoxes",value:function(){var e=this,t=[],n=0;return this.elements.forEach(function(i){i._gsTransform?t[n++]={transform:i._gsTransform.x,opacity:i.style.opacity,x:i.offsetLeft,elm:i}:e.animated&&t.push({transform:0,opacity:0,x:i.offsetLeft,elm:i})}),t}},{key:"_clearClasses",value:function(){this.elements.forEach(function(e){e.classList.remove("no-animation","prev","next","active")})}},{key:"_setActive",value:function(){if(this.setActive&&this.activeIndex>=0&&this.elements[this.activeIndex]&&this.elements[this.activeIndex].classList){var e=this.elements[this.activeIndex],t=this.currentActive;n.cancel(t),e.classList.add("active"),e.classList.remove("no-animation");var i=this.activeIndex>=1?this.activeIndex-1:this.elements.length-1,r=this.elements[i];r.classList.add("prev");var o=this.activeIndex+1<this.elements.length?this.activeIndex+1:0,a=this.elements[o];a.classList.add("next")}}},{key:"_boxesAnimate",value:function(e){var t=.4;e.forEach(function(e){var n=e.x;e.x=e.elm.offsetLeft;var i=e.transform+n-e.x;e.elm.classList.contains("active")?TweenLite.fromTo(e.elm,t,{x:i,opacity:e.opacity},{x:0,opacity:1,ease:"custom"}):e.elm.classList.contains("next")||e.elm.classList.contains("prev")?TweenLite.fromTo(e.elm,t,{x:i,opacity:e.opacity},{x:0,opacity:0,ease:"custom"}):TweenLite.set(e.elm,{x:0,opacity:0})})}}]),i}();return i};n.$inject=["$timeout"],angular.module("mlsdev").factory("ElementTogglerFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(r,o,a){var s={},c=function(r){function c(){e(this,c);var n=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.slides={},n.switches={},n.activeIndex=0,n.currentActive=null,n.moveAllowedPrev=!1,n.isSwiping=!1,n.touch={},n.swiped=[],n.toggler=new a,n}return n(c,r),i(c,[{key:"setSwiped",value:function(e){this.swiped.includes(e)||this.swiped.push(e)}},{key:"addSlide",value:function(e,t){this.slides[e]||(this.slides[e]=[]);var n=t[0],i=n.classList,r=this.slides[e],o=r.length;switch(r.push(n),++o){case 1:i.add("active");break;case 2:i.add("next");break;default:r[o-2].classList.remove("prev"),r[o-1].classList.add("prev")}}},{key:"addSwitch",value:function(e,t){this.switches[e]||(this.switches[e]=[]);var n=t[0],i=this.switches[e];
i.push(n),1===i.length&&n.classList.add("active")}},{key:"removeElement",value:function(e,t,n){var i=n[0],r="switch"===e?this.switches:this.slides,o=r[t];if(o){var a=o.indexOf(i);a!==-1&&o.splice(a,1)}}},{key:"getSwitches",value:function(e){return e?this.switches[e]:this.switches}},{key:"getSlides",value:function(e){return e?this.slides[e]:this.slides}},{key:"getFirstGroupSwitches",value:function(){var e=_.keys(this.switches)[0];return this.switches[e]}},{key:"setActive",value:function(e){var t=0;_.each(this.slides,function(e){t=e.length-1}),e>this.activeIndex&&(this.direction="left"),e<this.activeIndex&&(this.direction="right"),(Math.abs(e-this.activeIndex)<=1||0===e&&this.activeIndex===t||e===t&&0===this.activeIndex)&&(this.direction=null),this.activeIndex=e,this.emit("changed",[e])}},{key:"toggleActive",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.each(this.switches,function(n){e.toggleActiveElement(n,t)}),_.each(this.slides,function(n,i){var r=e.swiped.includes(i);e.toggleActiveElement(n,t,r)})}},{key:"toggleActiveElement",value:function(e,t,n){this.toggler.resolve(e,t,n,this.activeIndex,this.direction,this.currentActive)}},{key:"getElements",value:function(e,t){var n=this.activeIndex,i=this.slides[e],r=i.length,o=i[n],a=n+1<r?n+1:0,s=n-1>=0?n-1:r-1;return a===s&&(t>0?s=null:t<0&&(a=null)),{current:o,next:i[a],prev:i[s]}}},{key:"setTouchContentType",value:function(e){"undefined"==typeof this.touch.contentTypes&&(this.touch.contentTypes=[]),this.touch.contentTypes.includes(e)||this.touch.contentTypes.push(e)}},{key:"setMouseContentType",value:function(e){"undefined"==typeof this.touch.mouseContentTypes&&(this.touch.mouseContentTypes=[]),this.touch.mouseContentTypes.includes(e)||this.touch.mouseContentTypes.push(e)}},{key:"doTouchStart",value:function(e){var t=void 0,n=void 0;if(e.touches){if(1!=e.touches.length)return;var i=e.changedTouches[0];t=i.pageX,n=i.pageY}else{if("A"===e.target.tagName)return;e.target.tagName&&e.preventDefault(),t=e.pageX,n=e.pageY}this.touch.time=Date.now(),this.touch.x=t,this.touch.y=n,this.isSwiping=!0,this.trigger("slider:stopAuto")}},{key:"doTouchMove",value:function(e){var t=this,n=this.moveAllowedPrev,i=void 0,r=void 0,a="undefined"!=typeof e.changedTouches,s=void 0;if(a){var c=e.changedTouches[0];i=c.pageX,r=c.pageY,s=this.touch.contentTypes}else i=e.pageX,r=e.pageY,s=this.touch.mouseContentTypes;var l=this.touch.x-i,u=this.touch.y-r,h=n||Math.abs(l)>Math.abs(u)&&Math.abs(l)-Math.abs(u)>20;this.touch.contentTypes&&this.touch.contentTypes.length&&h&&!o.isPreventSwipe&&(a||this.isSwiping)&&(this.touch.allowed=!0,this.moveAllowedPrev=h,o.setSwipingOn(),s.forEach(function(e){var n=t.swiped.includes(e);if(n){var i=t.getElements(e,l),r=i.next,o=i.prev,a=i.current,s=Math.min(Math.abs(l)/Math.abs(r.offsetLeft-a.offsetLeft),1),c=Math.max(1-s,.5);a&&TweenLite.set(a,{x:-l,opacity:c}),r&&TweenLite.set(r,{x:-l,opacity:l>0?s:0}),o&&TweenLite.set(o,{x:-l,opacity:l<0?s:0})}}))}},{key:"doTouchEnd",value:function(e){var t=void 0;if(this.isSwiping){t="undefined"!=typeof e.changedTouches?e.changedTouches[0].pageX:e.pageX;var n=this.touch.x-t;this.moveAllowedPrev=!1,o.setSwipingOff(),this.isSwiping=!1,Math.abs(n)>20?n>0?this.trigger("slider:switchNext"):n<0&&this.trigger("slider:switchPrev"):this.toggleActive(),this.touch.x=0,this.touch.y=0,this.touch.time=0,this.touch.allowed=!1}}},{key:"isLastIteration",get:function(){var e=this.getFirstGroupSwitches();return this.activeIndex===e.length-1}},{key:"isFirstIteration",get:function(){return 0===this.activeIndex}}],[{key:"get",value:function(e){var t=s[e];return t||(t=s[e]=new c),t}},{key:"getAddMethod",value:function(e){return"slide"===e?"addSlide":"addSwitch"}}]),c}(EventEmitter);return c};r.$inject=["$timeout","SwitchesService","ElementTogglerFactory"],angular.module("mlsdev").factory("SliderFactory",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(){e(this,i),this.services=[],this.getServices()}return t(i,[{key:"getServices",value:function(){var e=this.services;return e.length=0,n.Services.query().$promise.then(function(t){return t.forEach(function(t){return e.push(t)}),t})["catch"](function(e){console.log("err",e)})}},{key:"firstStep",value:function(e,t,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"form";return n.ClientMessages.save({email:t,name:e,message:i,kind:o}).$promise.then(function(e){return r.id=e.id,r.token=e.token,e})["catch"](function(e){console.log("err",e)})}},{key:"secondStep",value:function(e){var t=this;return new Promise(function(i,r){t.id&&t.token?n.ClientMessages.update({message_id:t.id,token:t.token,client_message:{service_ids:e}}).$promise.then(i)["catch"](r):r(new Error("can`t find id or token"))})}},{key:"budgetStep",value:function(e){var t=this;return new Promise(function(i,r){t.id&&t.token?n.ClientMessages.update({message_id:t.id,token:t.token,client_message:{budget:e}}).$promise.then(i)["catch"](r):r(new Error("can`t find id or token"))})}}]),i}();return i};n.$inject=["API"],angular.module("mlsdev").factory("ContactUsFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){var n=function(){function n(t){e(this,n),this.className="shadow",this.element=t,this.position=0}return t(n,[{key:"offClass",value:function(e){Math.abs(e.screenX-this.position)<20&&this.removeClass()}},{key:"addClass",value:function(e){this.element&&this.element.classList&&this.element.classList.add(this.className),this.position=e.screenX}},{key:"removeClass",value:function(){this.element&&this.element.classList&&this.element.classList.remove(this.className),this.position=0}}]),n}();return n};angular.module("mlsdev").factory("ShadowFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();angular.module("mlsdev").factory("ArticleFactory",["HelpersService","$timeout",function(n,i){return function(){function r(t){e(this,r),this.id=t.id,this.title=t.title,this.image=t.image,this.author=t.real_author,this.category=t.category,this.content=t.full_text,this.related=t.related,this.slug=t.slug,this.view_count=t.view_count,this.real_author=t.real_author,this.imageIsLoaded=!1,this.published=new Date(t.published_at.replace(/-/g,"/")),this.meta={title:t.browser_title,description:t.meta_description,keywords:t.meta_keywords},this.loadImage()}return t(r,[{key:"loadImage",value:function(){var e=this;n.imgLoader(this.image).then(function(){i(e.imageIsLoaded=!0)})}}]),r}()}])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){var n=function(){function n(){e(this,n)}return t(n,null,[{key:"loadImage",value:function(e){var t=new Image;return t.src=e,t.complete?new Promise(function(t){return t(e)}):new Promise(function(n){t.onload=function(){n(e)}})}}]),n}();return n};angular.module("mlsdev").factory("ImageLoaderFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();angular.module("mlsdev").factory("ArticlesCollection",["API","ArticleFactory",function(n,i){return function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;e(this,r),this.config=t,this.page=1,this.per_page=n,this.inLoading=!1,this.isFullyLoaded=!1,this.list=[],this.loadPage()}return t(r,[{key:"loadPage",value:function(){var e=this;return this.isFullyLoaded?Promise.resolve():(this.inLoading=!0,n.Articles.get(this.params).$promise.then(function(t){var n=t.articles,i=t.last_page;e.page++,e.isFullyLoaded=i,e.setArticles(n)})["catch"](function(e){return console.error(e)}).then(function(){return e.inLoading=!1}))}},{key:"setArticles",value:function(e){var t=this;e.forEach(function(e){t.list.push(new i(e))})}},{key:"params",get:function(){return{page:this.page,per_page:this.per_page,words:this.config.words,category:"All"!=this.config.category?this.config.category:null}}}],[{key:"loadArticle",value:function(e){return n.Articles.get({article_id:e}).$promise.then(function(e){return new i(e)})}}]),r}()}])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();angular.module("mlsdev").factory("CategoriesCollection",["API","NewsService",function(n,i){return function(){function r(t){e(this,r),this.startCategory=t,this.list=[{id:null,name:"All",isActive:!1}],this.loadCategories()}return t(r,[{key:"loadCategories",value:function(){var e=this;return n.ArticleCategories.query().$promise.then(function(t){t.forEach(function(t){var n=t.name,i=t.id;return e.list.push({name:n,id:i,isActive:!1})}),e.setActiveByName(e.startCategory),e.loadTopArticles(_.findWhere(e.list,{isActive:!0}))})}},{key:"loadTopArticles",value:function(e){var t=e?e.id:null;i.getTopArticles(t).then(function(){})}},{key:"setActive",value:function(e){this.list.forEach(function(t){t.isActive=t==e})}},{key:"setActiveByName",value:function(e){return e?void this.list.forEach(function(t){t.isActive=t.name==e}):void(this.list[0].isActive=!0)}}]),r}()}])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n,i){var r=function(){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,i),this.title=t.title||"MLSDev. ",this.location=t.location||n.absUrl(),this.image=t.image,this.type=t.type||"page",this.description=t.description||"MLSDev - world-class mobile and web app developers. "}return t(i,[{key:"share",value:function(e){return this[e]&&window.open(this[e],"_blank","resizable=yes,top=500,left=500,width=400,height=400"),!1}},{key:"twitter",get:function(){return"http://twitter.com/intent/tweet?status="+this.title+"+"+this.location}},{key:"facebook",get:function(){return"http://www.facebook.com/share.php?u="+this.location+"&title="+this.title}},{key:"google",get:function(){return"https://plus.google.com/share?url="+this.location}},{key:"linkedin",get:function(){return"http://www.linkedin.com/shareArticle?mini=true&url="+this.location+"&title="+this.title+"&ro=false&source="}}]),i}();return r};n.$inject=["$location","$timeout"],angular.module("mlsdev").factory("SharingFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new WeakMap,o=function(o){function a(n,i){e(this,a);var o=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.set(o,{API:i,$timeout:n}),o.meta={},o.social={},o.settings={},o.inLoading=!1,o}return a.$inject=["$timeout","API"],n(a,o),i(a,[{key:"setSocialTags",value:function(e){var t=this;r.get(this).$timeout(function(){for(var n in e)t.social[n]=e[n]})}},{key:"setPageSettings",value:function(e){var t=this;this.getSettings().then(function(n){if(e in n){var i=n[e];t.setMetaData({title:i.browser_title,description:i.meta_description,keywords:i.meta_keywords})}})}},{key:"setMetaData",value:function(e){var t=e.title,n=e.description,i=e.keywords;this.meta.title=t,this.meta.description=n,this.meta.keywords=i}},{key:"getSettings",value:function(){var e=this;return new Promise(function(t){return e.inLoading?e.once("loaded",function(){return t(e.settings)}):Object.keys(e.settings).length?t(e.settings):void e.loadSettings().then(function(){return t(e.settings)})})}},{key:"loadSettings",value:function(){var e=this;return this.inLoading=!0,r.get(this).API.PageSetting.query().$promise.then(function(t){t.forEach(function(t){return e.settings[t.name]=t})})["catch"](function(){return e.settings={}}).then(function(){e.inLoading=!1,e.emit("loaded")})}}]),a}(EventEmitter);angular.module("mlsdev").service("PageGlobalService",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n)}return t(n,[{key:"random",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.random()*e}},{key:"randomWithSign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(this.random()-.5)*e}},{key:"randomSign",value:function(){return 2*this.random()>1?1:-1}},{key:"randomBetween",value:function(e,t){return Math.floor(e+this.random(t-e))}}]),n}();angular.module("mlsdev").service("RandomizerService",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new WeakMap,o=function(o){function a(n){e(this,a);var i=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return i.percent=0,i.countTo=100,i.time=null,r.set(i,{timeout:n}),i}return a.$inject=["$timeout"],n(a,o),i(a,[{key:"counter",value:function(){var e=this,t=this.percent<this.countTo?1:-1,n=r.get(this).timeout;this.time=n(function(){e.compare(t)?(e.percent+=t,e.counter()):(n.cancel(e.time),e.countTo=e.percent),e.callback(e.percent)},20)}},{key:"start",value:function(){this.time&&r.get(this).timeout.cancel(this.time),this.counter()}},{key:"compare",value:function(e){return 1===e?this.percent<this.countTo:this.percent>this.countTo}}]),a}(EventEmitter);angular.module("mlsdev").service("PercentageService",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(r){function o(){e(this,o);var n=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return n.isSwiping=!1,n.isPreventSwipe=!1,n}return n(o,r),i(o,[{key:"setSwipingOn",value:function(){this.isSwiping=!0}},{key:"setSwipingOff",value:function(){this.isSwiping=!1}},{key:"allowSwipe",value:function(){this.isPreventSwipe=!1}},{key:"preventSwipe",value:function(){this.isPreventSwipe=!0}}]),o}(EventEmitter);angular.module("mlsdev").service("SwitchesService",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=void 0,o=void 0,a=new WeakMap,s=new WeakMap,c=new WeakMap,l=function(l){function u(n,i){e(this,u);var r=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return c.set(r,{$timeout:n,ScreensService:i}),a.set(r,0),r.difflimitup=5,r.prevScrollValue=0,r.mouseWheelHandler=r.onMouseWheel.bind(r),r.keyDownHandler=r.onKeyDown.bind(r),r.runPlaceListeners=r.placeListeners.bind(r),r.touchStartrListener=r.onTouchStart.bind(r),r.touchMoveListener=r.onTouchMove.bind(r),r.touchEndListener=r.onTouchEnd.bind(r),r.touchSrollEndedListener=r.touschSrollEnded.bind(r),r.scrollAfterTouchListener=_.throttle(r.srollAfterTouch.bind(r),100),i.once("ready",r.runPlaceListeners),r}return u.$inject=["$timeout","ScreensService"],n(u,l),i(u,[{key:"placeListeners",value:function(){var e=document.body;e.addEventListener(this.wheelEvent,this.mouseWheelHandler),e.addEventListener(this.keyDownEvent,this.keyDownHandler),document.addEventListener(this.touchStartEvent,this.touchStartrListener),document.addEventListener(this.touchMoveEvent,this.touchMoveListener),document.addEventListener(this.touchEndEvent,this.touchEndListener)}},{key:"onMouseWheel",value:function(e){var t=this,n=c.get(this),i=n.$timeout,o=n.ScreensService,l=e.wheelDelta||-e.deltaY||-e.detail,u=Math.abs(l)-Math.abs(a.get(this));this.firstdiff||(this.firstdiff=u,u<5&&(this.difflimitup=1),u>100&&(this.difflimitup=50)),i.cancel(r),!o.isDisabled&&!s.get(this)&&u>this.difflimitup?(this.emit("doscroll",Math.sign(l)),s.set(this,!0)):u<-50&&s.set(this,!1),a.set(this,Math.abs(l)),r=i(function(){t.firstdiff=void 0,a.set(t,0),s.set(t,!1)},200)}},{key:"onKeyDown",value:function(e){if(e=window.event||e||e.originalEvent,!e.shiftKey&&!e.ctrlKey&&!e.altKey)switch(e.which){case 40:this.emit("doscroll",-1);break;case 38:this.emit("doscroll",1);break;case 39:this.emit("doSlide",1);break;case 37:this.emit("doSlide",-1)}}},{key:"onTouchMove",value:function(){this.scrollAfterTouchListener("scroll")}},{key:"onTouchStart",value:function(){this.scrollAfterTouchListener("touch"),this.emit("touchstart")}},{key:"onTouchEnd",value:function(){}},{key:"srollAfterTouch",value:function(e){var t=this;if("touch"===e&&(this.touched=!0),"scroll"===e&&this.touched){this.emit("touchscroll");var n=c.get(this),i=n.$timeout;window.scrollY-this.prevScrollValue<-50&&(this.direction&&"up"!==this.direction||this.emit("touchscroll","down"),this.direction="down",this.prevScrollValue=window.scrollY,i.cancel(o),o=i(function(){t.touchSrollEndedListener()},3e3)),window.scrollY>=10&&window.scrollY-this.prevScrollValue>50&&(this.direction&&"down"!==this.direction||this.emit("touchscroll","up"),this.direction="up",this.prevScrollValue=window.scrollY,i.cancel(o))}}},{key:"touschSrollEnded",value:function(){this.direction=void 0,this.emit("touchscroll","up")}},{key:"wheelEvent",get:function(){return"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"MozMousePixelScroll"}},{key:"keyDownEvent",get:function(){if("onkeydown"in document)return"keydown"}},{key:"touchMoveEvent",get:function(){if("ontouchmove"in document)return"touchmove"}},{key:"touchStartEvent",get:function(){if("ontouchstart"in document)return"touchstart"}},{key:"touchEndEvent",get:function(){if("ontouchend"in document)return"touchend"}}]),u}(EventEmitter);angular.module("mlsdev").service("BrowserEventsService",l)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new WeakMap,o=function(o){function a(n){e(this,a);var i=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.set(i,{browserEvents:n}),i.coords={x:0,y:0},i}return a.$inject=["BrowserEventsService"],n(a,o),i(a,[{key:"isTouch",value:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"placeListeners",value:function(){var e=document.body;this.isTouch()&&(e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("touchmove",this.onTouchMove))}},{key:"touchStart",value:function(e){if(1==e.touches.length){var t=e.changedTouches[0],n=[t.pageX,t.pageY];this.coords.x=n[0],this.coords.y=n[1]}}},{key:"touchMove",value:function(e){var t=e.changedTouches[0],n=t.pageY,i=this.coords.y-n,o=r.get(this).browserEvents;o.emit("scroll",-1*Math.sign(i))}},{key:"$onDestroy",value:function(){var e=document.body;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove)}}]),a}(EventEmitter);angular.module("mlsdev").service("TouchEventsService",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t,i){e(this,n),this.resource=t,this.apiHost=i}return n.$inject=["$resource","apiHost"],t(n,[{key:"Calculator",get:function(){return this.resource(this.apiHost+"calculator_consts/:token",{},{saveSettings:{method:"POST",settings:"@settings"},getSettings:{method:"GET"}})}},{key:"Articles",get:function(){return this.resource(this.apiHost+"articles/:article_id",{article_id:"@article_id"},{})}},{key:"TopArticles",get:function(){return this.resource(this.apiHost+"top_articles",{},{category_id:"@category_id"})}},{key:"ArticleCategories",get:function(){return this.resource(this.apiHost+"article_categories",{},{get:{method:"GET",isArray:!0}})}},{key:"Subscription",get:function(){return this.resource(this.apiHost+"subscription",{},{})}},{key:"ClientMessages",get:function(){return this.resource(this.apiHost+"client_messages/:message_id",{message_id:"@message_id"},{update:{method:"PUT",isArray:!1}})}},{key:"Services",get:function(){return this.resource(this.apiHost+"services",{},{})}},{key:"News",get:function(){return this.resource(this.apiHost+"last_articles",{},{})}},{key:"PageSetting",get:function(){return this.resource(this.apiHost+"page_settings",{},{})}},{key:"ChatBot",get:function(){return this.resource(this.apiHost+"chatbox",{},{message:{method:"POST",isArray:!0}})}}]),n}();angular.module("mlsdev").service("API",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n)}return t(n,[{key:"validEmail",value:function(e){var t=/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i;return e.length>0&&e.match(t)}},{key:"imgLoader",value:function(e){var t=new Image;return t.src=e,new Promise(function(e,n){t.addEventListener("load",e),t.addEventListener("error",n)})}}]),n}();angular.module("mlsdev").service("HelpersService",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t){e(this,n),this.location=t}return n.$inject=["$location"],t(n,[{key:"handleSource",value:function(){var e=document.referrer,t=this.location.host(),n=e?new URL(e).host:"";n&&t!==n&&(this.referrer=e),this.location.search&&this.location.search().utm_source&&(this.utmSource=this.location.search().utm_source)}},{key:"referrer",set:function(e){window.localStorage.setItem("md-referrer",e)},get:function(){return window.localStorage.getItem("md-referrer")}},{key:"utmSource",set:function(e){window.localStorage.setItem("md-utm-source",e)},get:function(){return window.localStorage.getItem("md-utm-source")}}]),n}();angular.module("mlsdev").service("TrafficSourceService",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new WeakMap,o=function(o){function a(n,i){e(this,a);var o=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.set(o,{$timeout:i}),n.$on("$stateChangeStart",function(){o.removeMetaTag("prerender-status-code"),o.removeMetaTag("prerender-header")}),o}return a.$inject=["$rootScope","$timeout"],n(a,o),i(a,[{key:"addMetaTag",value:function(e,t){var n=document.createElement("meta");n.setAttribute("name",e),n.setAttribute("content",t),r.get(this).$timeout(function(){var e=document.head;e.appendChild(n)},0)}},{key:"removeMetaTag",value:function(e){r.get(this).$timeout(function(){var t=document.querySelector("meta[name='"+e+"']");t&&t.remove()},0)}}]),a}(EventEmitter);angular.module("mlsdev").service("Page301Service",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new WeakMap,o=function(o){function a(n,i){e(this,a);var o=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.set(o,{$timeout:i}),o.hide(),n.$on("$stateChangeStart",function(){o.hide()}),o}return a.$inject=["$rootScope","$timeout"],n(a,o),i(a,[{key:"show",value:function(){this.addMetaTag(),this.emit("show")}},{key:"hide",value:function(){this.removeMetaTag(),this.emit("hide")}},{key:"addMetaTag",value:function(){var e=document.createElement("meta");e.setAttribute("name","prerender-status-code"),e.setAttribute("content","404"),r.get(this).$timeout(function(){var t=document.head;t.appendChild(e)},0)}},{key:"removeMetaTag",value:function(){r.get(this).$timeout(function(){var e=document.querySelector("meta[name='prerender-status-code']");e&&e.remove()},0)}}]),a}(EventEmitter);angular.module("mlsdev").service("Page404Service",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t,i){e(this,n),this.state=t,this.redirectService=i}return n.$inject=["$state","Page301Service"],t(n,[{key:"redirect",value:function(e){this.redirectService.addMetaTag("prerender-status-code","301"),this.redirectService.addMetaTag("prerender-header","Location: "+e.url),this.state.go(e.name,{},{
notify:!0,reload:!1,inherit:!0})}}]),n}();angular.module("mlsdev").service("RedirectService",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o){e(this,i),self=this,n.set(this,{$interval:o}),function(e,t,n,i,r,o,a){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src=i,a.parentNode.insertBefore(o,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create",t,"auto"),ga("send","pageview"),this.yandexMetrikaKeyName="yaCounter"+r,function(e,t,n){(t[n]=t[n]||[]).push(function(){try{t[self.yandexMetrikaKeyName]=new Ya.Metrika({id:r,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0})}catch(e){}});var i=e.getElementsByTagName("script")[0],o=e.createElement("script"),a=function(){i.parentNode.insertBefore(o,i)};o.type="text/javascript",o.async=!1,o.src="https://mc.yandex.ru/metrika/watch.js","[object Opera]"==t.opera?e.addEventListener("DOMContentLoaded",a,!1):a()}(document,window,"yandex_metrika_callbacks")}return i.$inject=["googleAnalyticsKey","yandexMetrikaKey","$interval"],t(i,[{key:"googleAnalyticsSend",value:function(e){ga("send","pageview",e)}},{key:"googleAnalyticsTrack",value:function(e,t,n){ga("send","event",e,t,n)}},{key:"yandexMetricaHit",value:function(e){var t=this,i=n.get(this),r=i.$interval,o=void 0,a=0,s=function(){a++,window[t.yandexMetrikaKeyName]?(console.log("yandexMetricaHit ok => ",e),window[t.yandexMetrikaKeyName].hit(e),r.cancel(o)):(console.log("can`t find Ya Metrika object (yandexMetricaHit) "+t.yandexMetrikaKeyName),a>200&&r.cancel(o))};o=r(s,50)}},{key:"yandexMetricaTrack",value:function(e){window[this.yandexMetrikaKeyName]?window[this.yandexMetrikaKeyName].reachGoal(e):console.log("can`t find Ya Metrika object (yandexMetricaTrack)",e)}}]),i}();angular.module("mlsdev").service("Analytics",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t){e(this,n),this.Analytics=t,this.googleGoals={home:{category:"lead",action:"home"},contact_us:{category:"lead",action:"contact_us"},popup:{category:"lead",action:"popup"},lets_talk:{category:"",action:""},subscribe:{category:"subscribe",action:"subscribe"}},this.yandexGoals={home:"lead:home",contact_us:"lead:contact_us"}}return n.$inject=["Analytics"],t(n,[{key:"track",value:function(e,t){var n=this.googleGoals[e],i=this.yandexGoals[e];n&&this.trackGA(n.category,n.action,t),i&&this.Analytics.yandexMetricaTrack(i)}},{key:"trackGA",value:function(e,t,n){console.log(e,t,n),this.Analytics.googleAnalyticsTrack(e,t,n)}}]),n}();angular.module("mlsdev").service("GoalsService",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r){e(this,i),n.set(this,{$timeout:t,API:r}),this.list=[],this.topArticles=[]}return i.$inject=["$timeout","API"],t(i,[{key:"load",value:function(){var e=this,t=n.get(this),i=t.API;return this.list.length=0,i.News.query().$promise.then(function(t){t.forEach(function(t){return e.list.push(t)})})["catch"](function(e){return console.error(e)})}},{key:"getTopArticles",value:function(e){var t=this,i=n.get(this),r=i.API,o=this.topArticles;return r.TopArticles.query({category_id:e}).$promise.then(function(e){o.length&&o.forEach(function(e){e.flag="old"}),e.forEach(function(e){e.flag="new",o.push(e)}),t.actionWithTopList()})}},{key:"actionWithTopList",value:function(){var e=n.get(this),t=e.$timeout,i=this.topArticles;t(function(){i.forEach(function(e,t,n){"new"==e.flag?e["class"]=null:e["class"]="hide-article"})},0),t(function(){i.forEach(function(e,t,n){"old"==e.flag&&n.shift()})},500)}}]),i}();i.prototype.$inject=["API"],angular.module("mlsdev").service("NewsService",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o){e(this,i),n.set(this,{$timeout:t,API:r}),this.calcParams={},this.textForResultPage={low:{title:"Choosing a cheap solution?",text:"Flawless look and feel - satisfied users If you are in search of a UX/UI design company, you are in the right place! \nOur designers are available for hire. "},middle:{title:"Why choose us?",text:"Flawless look and feel - satisfied users If you are in search of a UX/UI design company, you are in the right place! \nOur designers are available for hire. "},high:{title:"Choosing a cheap solution? !!!",text:"Flawless look and feel - satisfied users If you are in search of a UX/UI design company, you are in the right place! \nOur designers are available for hire. "}}}return i.$inject=["$timeout","API","Calc"],t(i,[{key:"load",value:function(){var e=this,t=n.get(this),i=t.API;return i.Calculator.get().$promise.then(function(t){e.calcParams=t,delete e.calcParams.$promise,delete e.calcParams.$resolved})["catch"](function(e){return console.error("Load calculator model error",e)})}},{key:"saveSettings",value:function(e){var t=this,i=n.get(this),r=i.API;return r.Calculator.saveSettings(e).$promise.then(function(e){t.userToken=e.token})["catch"](function(e){return console.error("Save user setting to server error",e)})}},{key:"getSettings",value:function(e){var t=this,i=n.get(this),r=i.API;return r.Calculator.getSettings(e).$promise.then(function(e){console.log("res",e),t.userSettings=JSON.parse(e.settings)})["catch"](function(e){return console.error("Get user server from server error",e)})}},{key:"setLocalSetting",value:function(e,t){var n=this;(_.isObject(e)||_.isArray(e))&&_.each(e,function(i,r){(_.isObject(e)||_.isArray(e))&&n.setLocalSetting(i,t[r]),_.contains(["selected","checked"],r)&&!t.disabled&&_.has(t,r)&&(t[r]=i)})}},{key:"getLocalSetting",value:function(e,t){var n=this;return _.isObject(e)?(t||(t={}),_.each(e,function(e,i){_.contains(["selected","checked"],i)?t[i]=e:_.isObject(e)?(t[i]={},n.getLocalSetting(e,t[i]),_.isEmpty(t[i])&&delete t[i]):_.isArray(e)&&(t[i]=[],n.getLocalSetting(e,t[i]),_.isEmpty(t[i])&&delete t[i])})):_.isArray(e)&&(t||(t=[]),_.each(e,function(e){_.isObject(value)?(t[key]={},n.getLocalSetting(value,t[key]),_.isEmpty(t[key])&&delete t[key]):_.isArray(value)&&(t[key]=[],n.getLocalSetting(value,t[key]),_.isEmpty(t[key])&&delete t[key])})),t}}]),i}();angular.module("mlsdev").service("CalculatorService",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=(new WeakMap,function(){function n(){e(this,n)}return t(n,[{key:"set",value:function(e,t,n){n=void 0===n||null===n?86400:Math.abs(n);var i=Date.now(),r=i+1e3*n;try{localStorage.setItem(e,t),localStorage.setItem(e+"_expiresIn",r)}catch(o){return console.log("setStorage: Error setting key ["+e+"] in localStorage: "+JSON.stringify(o)),!1}return!0}},{key:"get",value:function(e){var t=Date.now(),n=localStorage.getItem(e+"_expiresIn");if(void 0!==n&&null!==n||(n=0),n<t)return this.remove(e),null;try{var i=localStorage.getItem(e);return i}catch(r){return console.log("getStorage: Error reading key ["+e+"] from localStorage: "+JSON.stringify(r)),null}}},{key:"remove",value:function(e){try{localStorage.removeItem(e),localStorage.removeItem(e+"_expiresIn")}catch(t){return console.log("removeStorage: Error removing key ["+key+"] from localStorage: "+JSON.stringify(t)),!1}return!0}}]),n}());angular.module("mlsdev").service("LocalStorageService",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.restrict="A"}return t(n,[{key:"link",value:function(e,t,n){var i={"background-image":"url("+n.mdBackgroundImage+")","background-repeat":"no-repeat","background-position":"50%"};n.color&&(i["background-color"]=n.color),t.css(i)}}],[{key:"factory",value:function(){return new n}}]),n}();angular.module("mlsdev").directive("mdBackgroundImage",n.factory)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t,i){e(this,n),this.restrict="A",this.SliderFactory=t,this.SpaceShadowFactory=i,this.scope={space:"=mdSpaceSwitcher",sliderName:"@"}}return t(n,[{key:"link",value:function(e,t,n){var i=e.space,r=this.SliderFactory.get(e.sliderName),o=t[0],a=new this.SpaceShadowFactory(o);o.classList.add("space-switcher"),a.removeClass();var s=a.addClass.bind(a),c=a.removeClass.bind(a),l=a.offClass.bind(a);o.addEventListener("mousedown",s),o.addEventListener("click",l),o.addEventListener("transitionend",c),r.on("slider:switchNext",function(){return i.nextStep()}),r.on("slider:switchPrev",function(){return i.backStep()}),e.$on("$destroy",function(){r.off("slider:switchNext",function(){return i.nextStep()}),r.off("slider:switchPrev",function(){return i.backStep()}),o.removeEventListener("mousedown",s),o.removeEventListener("click",l),o.removeEventListener("transitionend",c)})}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}();angular.module("mlsdev").directive("mdSpaceSwitcher",["SliderFactory","ShadowFactory",n.create])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.restrict="A",this.bindToController=!0,this.controller="SliderController",this.controllerAs="switch",this.scope={preDelay:"@",delay:"@",event:"@",restoreState:"<",restoreDelay:"@",autoSwitching:"<",initializeState:"<",switchingEnabled:"<",nextStepHandler:"&",sliderName:"@mdSlider"}}return t(n,null,[{key:"create",value:function(){return new n}}]),n}();angular.module("mlsdev").directive("mdSlider",n.create)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t){e(this,n),this.SliderFactory=t,this.restrict="A",this.scope={sliderName:"@mdSliderElement",sliderContentType:"@",contentName:"@"}}return t(n,[{key:"link",value:function(e,t,n){if(["switch","slide"].indexOf(e.sliderContentType)===-1)throw new Error("Not allowed content type: "+e.sliderContentType);var i=e.contentName||e.sliderName,r=this.SliderFactory.get(e.sliderName),o=this.SliderFactory.getAddMethod(e.sliderContentType);"slide"===e.sliderContentType&&(r.setTouchContentType(i),t[0].classList.add("slider-element")),o in r&&"function"==typeof r[o]&&r[o](i,t),e.$on("$destroy",function(){r.removeElement(e.sliderContentType,i,t)})}}],[{key:"create",value:function(e){return new n(e)}}]),n}();angular.module("mlsdev").directive("mdSliderElement",["SliderFactory",n.create])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t){e(this,i),this.restrict="A",this.require="^mdSlider",n.set(this,{slider:t})}return t(i,[{key:"link",value:function(e,t,i,r){var o=i.mdSwipeContent,a=i.mdMouseSwipeContent||!1,s=n.get(this).slider.get(o);a&&s.setSwiped(a);var c={swipeStartBind:s.doTouchStart.bind(s),swipeBind:s.doTouchMove.bind(s),swipeEndBind:s.doTouchEnd.bind(s)},l=function(e){var n=t[0];c.swipeEndBind(e),document.removeEventListener("mousemove",c.swipeBind),n.setCapture&&n.setCapture()},u=t[0];u.classList.add("swiped-content"),u.addEventListener("touchstart",c.swipeStartBind),u.addEventListener("touchmove",c.swipeBind),u.addEventListener("touchend",c.swipeEndBind),a&&(u.classList.add("mouse-swiped-content"),u.classList.add("shadow"),s.setMouseContentType(a),u.addEventListener("mousedown",function(e){c.swipeStartBind(e),document.addEventListener("mousemove",c.swipeBind),document.addEventListener("mouseup",l),u.setCapture&&u.setCapture()})),e.$on("$destroy",function(){u.removeEventListener("touchstart",c.swipeStartBind),u.removeEventListener("touchmove",c.swipeBind),u.removeEventListener("touchend",c.swipeEndBind),document.addEventListener("mouseup",l)})}}],[{key:"create",value:function(e){return new i(e)}}]),i}();angular.module("mlsdev").directive("mdSwipeContent",["SliderFactory",i.create])}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.restrict="A",this.bindToController={disabled:"=",load:"&"},this.controller=["$scope",function(e){var t=this,n=function(){var e=window.scrollTop||window.scrollY||document.documentElement.scrollTop,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=document.body.offsetHeight-n;!t.disabled&&e>=i&&t.load()};window.addEventListener("scroll",n),e.$on("$destroy",function(){window.removeEventListener("scroll",n)})}]}return t(n,null,[{key:"factory",value:function(){return new n}}]),n}();angular.module("mlsdev").directive("mdInfiniteScroll",n.factory)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.restrict="A",this.scope={maxPos:"@?",minPos:"@?",vh:"@?",maxPosLarge:"@?",goOutPos:"=?",isLarge:"@?"}}return t(n,[{key:"link",value:function(e,t,n){var i=e.minPos||0,r=e.maxPos||260;if(e.vh){var o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),s=o*(e.vh/100);e.isLarge&&a>e.isLarge&&r<e.maxPosLarge&&(r=e.maxPosLarge),s>r&&(r=s)}var c={top:r+"px"};t.css({transition:"transform 0.8s cubic-bezier(0.65, 0.05, 0.36, 1) 0s"});var l=function(n){if(!n)return void t.css(c);var o=window.pageYOffset;c=e.goOutPos&&o>e.goOutPos?{transform:"translateY(-100vh)"}:o<r-i?{top:r-o+"px",transform:"translateY(0px)"}:{top:i+"px",transform:"translateY(0px)"},t.css(c)};l(),window.addEventListener("scroll",l),e.$on("$destroy",function(){window.removeEventListener("scroll",l)})}}],[{key:"factory",value:function(){return new n}}]),n}();angular.module("mlsdev").directive("mdSlidePosition",n.factory)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.restrict="A"}return t(n,[{key:"link",value:function(e,t,n){var i=this;this.getTextWidth=function(e,t){var n=i.canvas||(i.canvas=document.createElement("canvas")),r=n.getContext("2d");r.font=t;var o=r.measureText(e);return o.width},this.keyDown=function(e){var t=e.target,n=t.rows;if(13===e.keyCode)5>n>0&&(t.rows=++n);else if(t.value){var r=window.getComputedStyle(t),o=parseInt(r.width)-parseInt(r["border-left"])-parseInt(r["border-right"])-10,a=t.value.split("\n"),s=1;a.forEach(function(e){var t=i.getTextWidth(e,r.font);s+=Math.max(Math.ceil(t/o),1)}),s<=5&&(t.rows=s-1)}},this.keyUp=function(e){e.target.value||(e.target.rows=1)},window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),e.$on("$destroy",function(){window.removeEventListener("keydown",i.keyDown),window.removeEventListener("keyup",i.keyUp)})}}],[{key:"factory",value:function(){return new n}}]),n}();angular.module("mlsdev").directive("mdTextareaSize",n.factory)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.restrict="E",this.templateUrl="views/directives/calc-result.html",this.scope={calcResult:"=",resultBtnText:"@?"}}return t(n,[{key:"link",value:function(e,t,n){e.resultBtnText=e.resultBtnText||"Detailed cost"}}],[{key:"factory",value:function(){return new n}}]),n}();angular.module("mlsdev").directive("mdCalcResult",n.factory)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(new WeakMap,function(r){function o(n,i){e(this,o);var r=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.isVisible={},r.whiteHeaders=["article","portfolio-mcdonalds","portfolio-yummi","portfolio-gopuff","portfolio-comfy","portfolio-revistor"],r.whiteFullHeader=["blog","portfolio"],r.overflowVisible=["blog","portfolio-mcdonalds","portfolio-revistor","portfolio-yummi","portfolio-gopuff","portfolio-comfy","article","calculator"],r.showNavBarItemsList=["portfolio-mcdonalds","portfolio-revistor","portfolio-yummi","portfolio-gopuff","portfolio-comfy","article"],n.$on("$stateChangeSuccess",function(){r.stateName=i.current.name}),r}return o.$inject=["$rootScope","$state"],n(o,r),i(o,[{key:"onVisiblity",value:function(e){this.setVisibility(e.visibleParts),e.touch&&this.setVisibilityTouch(e.visibleParts)}},{key:"setVisibility",value:function(e){this.isVisible=e}},{key:"setVisibilityTouch",value:function(){this.emit("setvisiblitytouch")}},{key:"isOverflowVisible",value:function(){return _.contains(this.overflowVisible,this.stateName)}},{key:"isHeaderWhite",value:function(){return _.contains(this.whiteHeaders,this.stateName)}},{key:"isHeaderFullWhite",value:function(){return _.contains(this.whiteFullHeader,this.stateName)}},{key:"isHeaderItemsShow",value:function(){return _.contains(this.showNavBarItemsList,this.stateName)}},{key:"setActive",value:function(e){}},{key:"show",value:function(){this.setVisibility(!0)}},{key:"hide",value:function(){this.setVisibility(!1)}}]),o}(EventEmitter));angular.module("mlsdev").service("HeaderService",r)}(),function(){"use strict";angular.module("mlsdev").component("mdHeaderLeft",{templateUrl:"/scripts/components/header/header.left.template.html",controller:"HeaderController",controllerAs:"header"})}(),function(){"use strict";angular.module("mlsdev").component("mdHeaderRight",{templateUrl:"/scripts/components/header/header.right.template.html",controller:"HeaderController",controllerAs:"header"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=new WeakMap,r=function(){function r(t,n,o,a,s){e(this,r),i.set(this,{header:o,screen:a,element:t,goals:s}),this.setVisiblityHandler=this.setVisiblity.bind(this),this.listenChangeVisiblity()}return r.$inject=["$element","$interval","HeaderService","ScreenNavigationService","GoalsService"],n(r,[{key:"trackHireUsGoal",value:function(){var e=i.get(this),n=e.goals,r=e.header;if("object"!==t(r.isVisible.hireus)||r.isVisible.hireus&&!r.isVisible.hireus.goal)return!0;var o=r.isVisible.hireus.goal,a=o.category,s=o.action,c=o.label;n.trackGA(a,s,c)}},{key:"checkActiveState",value:function(e){return!!i.get(this).header.stateName&&i.get(this).header.stateName.indexOf(e)+1}},{key:"setActive",value:function(e){i.get(this).header.setActive(e)}},{key:"listenChangeVisiblity",value:function(){i.get(this).header.on("setvisiblitytouch",this.setVisiblityHandler)}},{key:"getAnimamBtnClass",value:function(){return"anim-btn-"+i.get(this).screen.activeScreenIndex}},{key:"setVisiblity",value:function(){var e=i.get(this).element[0],t=e.getElementsByClassName("button-container")[0],n=e[0].getElementsByClassName("logo")[0];if(t){var r=t.classList;this.hireUsVisibility?r.contains("visible")||r.add("visible","touch"):r.contains("visible")&&r.remove("visible","touch")}if(n){var o=n.classList;this.isVisible.toplogo?_logoСlassList.contains("visible")||o.add("visible","touch"):o.contains("visible")&&o.remove("visible","touch")}}},{key:"$onDestroy",value:function(){i.get(this).header.off("setvisiblitytouch",this.setVisiblityHandler),i["delete"](this)}},{key:"isVisible",get:function(){return i.get(this).header.isVisible}},{key:"hireUsVisibility",get:function(){var e=this.isVisible.hireus;return"object"===("undefined"==typeof e?"undefined":t(e))&&e.hasOwnProperty("enabled")?e.enabled:e}},{key:"hireUsText",get:function(){var e=this.isVisible.hireus;return"object"===("undefined"==typeof e?"undefined":t(e))&&e.hasOwnProperty("text")?e.text:"LET'S TALK"}}]),r}();angular.module("mlsdev").controller("HeaderController",r)}(),function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=new WeakMap,a=function(a){function s(e,i,r,a,c,l,u){t(this,s);var h=n(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return o.set(h,{header:l,footer:u,sidemenu:c,timeout:r,$location:i,q:e}),h.siteScreens=a,h.screenssettings=[],h}return s.$inject=["$q","$location","$timeout","SiteScreens","SideMenuService","HeaderService","FooterService"],i(s,a),r(s,[{key:"registerScreens",value:function(e){this.screens=e}},{key:"onDone",value:function(e){this.screenssettings=_.clone(this.siteScreens[e]),this.screenssettings&&this.run()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.activeIndex=0,this.inMoving=!1,this.duration=e,this.wasCompleted=!1}},{key:"run",value:function(){var e=this;this.activeScreenState={isActive:!0},this.waitForMovingEnd(function(){if(e.activeScreenState={isDisplayed:!0},e.screenssettings&&e.screenssettings[e.activeIndex]){var t=e.screenssettings[e.activeIndex].elements;e.sendVisiblity({visibleParts:t}),e.emit("ready",{visibleParts:t})}}),this.movingSetEnd()}},{key:"closestIndex",value:function(t,n){var i=[].concat(e(document.getElementsByTagName("md-screen"))),r=-1;if(n>0){for(var o=0;o<i.length;o++){var a=i[o];r===-1&&a.offsetTop>=t&&(r=o)}r===-1&&(r=i.length)}else if(n<0)for(var s=i.length-1;s>=0;s--){var c=i[s];r===-1&&c.offsetTop<=t&&(r=s)}else{var l=i[this.activeIndex],u=l.offsetTop;t>u&&(r=this.activeIndex+1),t<u&&(r=this.activeIndex-1)}return r}},{key:"moveIndex",value:function(e,t){this.activeIndex!==e||this.activeIndex!==this.screens.length-1||this.wasCompleted||1!=t?this.activeIndex>=e||this.wasCompleted?this.wasCompleted&&t==-1?this.setCompleteness(!1):(this.activeIndex=e,this.move("up",0)):this.activeIndex<e&&(this.isLastScreen?this.setCompleteness(!0):(this.activeIndex=e,this.move("down",0))):this.setCompleteness(!0)}},{key:"moveUp",value:function(){this.inMoving||(this.wasCompleted?this.setCompleteness(!1):this.isFirstScreen||(this.activeIndex--,this.move("up")))}},{key:"moveDown",value:function(){this.inMoving||this.wasCompleted||(this.isLastScreen?this.setCompleteness(!0):(this.activeIndex++,this.move("down")))}},{key:"setCompleteness",value:function(e){var t=_.clone(this.screenssettings[this.activeIndex].elements),n=o.get(this),i=n.footer;e?t.sidenav=!e:t=_.clone(this.screenssettings[this.activeIndex].elements),this.wasCompleted=e,i.setVisibility(e),this.emit("completed",e),this.activeScreenState={isActive:!e},this.freezeMoving(),this.emit("moving",{shift:this.screenShift,screenIndex:this.activeIndex,isFirst:this.isFirstScreen,isLast:this.isLastScreen}),this.sendVisiblity({visibleParts:t}),this.emit("transitionend")}},{key:"move",value:function(e,t){var n=this,i=o.get(this),r=i.$location,a=t||100;this.beforeMoving(e);var s=this.screenssettings[this.activeIndex].elements,c=this.screenssettings[this.activeIndex].anchor;r.search("s",c),this.emit("moving",{shift:this.screenShift,screenIndex:this.activeIndex,isFirst:this.isFirstScreen,isLast:this.isLastScreen}),this.sendVisiblity({visibleParts:s}),this.waitForMovingEnd(function(){n.afterMoving()},a)}},{key:"movingSetEnd",value:function(){this.emit("transitionend")}},{key:"movingEndDeffered",value:function(){var e=o.get(this).q.defer();return this.once("transitionend",e.resolve),e.promise}},{key:"waitForMovingEnd",value:function(e){this.movingEndDeffered().then(e)}},{key:"beforeMoving",value:function(){this.inMoving=!0,this.toggleActiveScreen(),this.activeScreenState={inMoving:!0}}},{key:"afterMoving",value:function(){var e=this,t=o.get(this),n=t.footer;this.screens.forEach(function(t,n){e.screenssettings[n].elements.clearVisited&&n!=e.activeIndex&&o.get(e).timeout(function(){t.isDisplayed=!1},0)}),this.inMoving=!1,this.activeScreenState={inMoving:!1,isDisplayed:!0},this.isLastScreen?n.setSwipe(!0):n.isSwipe&&n.setSwipe(!1)}},{key:"toggleActiveScreen",value:function(){var e=this;this.screens.forEach(function(t,n){t.isActive=n===e.activeIndex})}},{key:"screenIsActive",value:function(e){var t=parseInt(e)-1;return!this.inMoving&&this.activeIndex===t}},{key:"freezeMoving",value:function(){var e=this;this.inMoving=!0,this.waitForMovingEnd(function(){e.afterMoving()})}},{key:"disableScroll",value:function(){this.inMoving=!0}},{key:"enableScroll",value:function(){this.inMoving=!1}},{key:"sendVisiblity",value:function(e){var t=o.get(this),n=t.sidemenu,i=t.header;i.onVisiblity(e),n.onVisiblity(e),this.emit("visiblity",e)}},{key:"screenShift",get:function(){var t=this,n=[].concat(e(document.getElementsByTagName("md-screen"))),i=n.reduce(function(e,n,i){return i<t.activeIndex&&(e+=n.offsetHeight),e},0);return i>0?i:0}},{key:"activeScreen",get:function(){return this.screens[this.activeIndex]}},{key:"isLastScreen",get:function(){return this.activeIndex===this.screens.length-1}},{key:"isFirstScreen",get:function(){return 0===this.activeIndex}},{key:"isDisabled",get:function(){return this.inMoving}},{key:"activeScreenState",set:function(e){var t=this.activeScreen;o.get(this).timeout(function(){for(var n in e)try{t[n]=e[n]}catch(i){console.log({error:i,screen:t})}})}}]),s}(EventEmitter);angular.module("mlsdev").service("ScreensService",a)}(),function(){"use strict";angular.module("mlsdev").component("mdScreens",{bindings:{duration:"@",scrollDelay:"@",disableTweaking:"@",currentScreen:"<",noScroll:"<",noInteractive:"<"},templateUrl:"/scripts/components/screens/screens.template.html",transclude:!0,controller:"ScreensController",controllerAs:"screens"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=function(){function r(t,i,o){e(this,r),n.set(this,{ScreensFactory:o,$scope:t,$element:i})}return r.$inject=["$scope","$element","ScreensFactory"],t(r,[{key:"$onInit",value:function(){var e=this,t=n.get(this),r=t.$scope,o=t.$element,a=t.ScreensFactory,s=new a(o[0],this.duration,this.noScroll,this.scrollDelay,this.noInteractive);i.set(this,s),r.$watchGroup([function(){return e.duration},function(){return e.noScroll},function(){return e.scrollDelay},function(){return e.noInteractive}],function(){
s.changeContext(e.duration,e.noScroll,e.scrollDelay,e.noInteractive)})}},{key:"registerScreen",value:function(e){var t=i.get(this);t.registerScreen(e)}},{key:"$onDestroy",value:function(){i.get(this).destroy()}}]),r}();angular.module("mlsdev").controller("ScreensController",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n,i,r,o,a,s){var c=function(){function c(t,i,r,a,l){e(this,c),this.element=t,this.duration=i,this.noScroll=r,this.scrollDelay=a,this.noInteractive=l,this.scrollParams={},this.maxDiff=void 0,this.resizeTimer=null,this.animation=!1,this.screens=[],this.activeIndex=0,this.screensMovingHandler=this.onScreensMoving.bind(this),this.runScrollListener=this.doScroll.bind(this),this.windowResizeListener=this.onWindowResize.bind(this),this.enableScrollHandler=this.enableScroll.bind(this),this.preloader=n.run(s.current.name),o.registerScreens(this.screens),o.initialize(this.duration),l||(n.isVisible?n.on("preload:finished",this.enableScrollHandler):this.enableScroll(),"ontouchstart"in document&&this.initTouchListeners()),o.on("moving",this.screensMovingHandler),window.addEventListener("resize",this.windowResizeListener)}return t(c,[{key:"enableScroll",value:function(){r.on("doscroll",this.runScrollListener)}},{key:"registerScreen",value:function(e){this.screens.push(e),e.index=this.screens.length,1==this.screens.length&&this.preloader.then(function(e){o.onDone(e)})}},{key:"changeContext",value:function(e,t,n,i){this.duration=e,this.noScroll=t,this.scrollDelay=n,this.noInteractive=i}},{key:"initTouchListeners",value:function(){this.touchStartListener=this.onTouchStart.bind(this),this.touchMoveListener=this.onTouchMove.bind(this),this.touchEndListener=this.onTouchEnd.bind(this),document.addEventListener("touchstart",this.touchStartListener),document.addEventListener("touchmove",this.touchMoveListener),document.addEventListener("touchend",this.touchEndListener),document.addEventListener("touchcancel",this.touchEndListener)}},{key:"removeTouchListeners",value:function(){document.removeEventListener("touchstart",this.touchStartrListener),document.removeEventListener("touchmove",this.touchMoveListener),document.removeEventListener("touchend",this.touchEndListener),document.removeEventListener("touchcancel",this.touchEndListener)}},{key:"onTouchStart",value:function(e){var t=e.changedTouches[0];this.animation=!1,this.maxDiff=void 0,this.scrollParams={x:t.clientX,y:t.clientY,shift:0,shifts:[],allowed:!1}}},{key:"onTouchMove",value:function(e){var t=this,n=e.changedTouches[0],r=n.clientX,a=n.clientY,s=this.scrollParams,c=r-s.x,l=a-s.y,u=s.allowed||Math.abs(l)-Math.abs(c)>20;if(this.element.scrollTop-l>=0&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),u&&!i.isSwiping){var h=this.scrollParams.shifts;i.preventSwipe(),h.push(l),h.length>5&&(h=h.slice(-5)),this.scrollParams={x:r,y:a,shifts:h,shift:l,allowed:!0},o.wasCompleted||window.requestAnimationFrame(function(){t.element.scrollTop=t.element.scrollTop-l})}}},{key:"onTouchEnd",value:function(){var e=this.scrollParams,t=e.shift,n=e.shifts,r=0,a=void 0;i.allowSwipe(),n.length&&(a=n.reduce(function(e,t){return Math.abs(e)>Math.abs(t)?e:t},0)),t||(t=a),t>0&&(r=-1),t<=-1&&(r=1),this.maxDiff=a;var s=o.closestIndex(this.element.scrollTop,r);s>-1&&o.moveIndex(s,r),this.scrollParams={}}},{key:"doScroll",value:function(e){e>0&&o.moveUp(),e<0&&o.moveDown()}},{key:"onScreensMoving",value:function(e){var t=this;if(e.touch||this.noScroll){var n=this.scrollDelay||0;a(function(){t.element.scrollTop=e.shift,t.onScreensMovingEnd()},n)}else window.requestAnimationFrame(function(){t.maxDiff?(t.animation=!0,t.animatedScrollTo(e.shift,t.maxDiff)):animatedScrollTo(t.element,e.shift,400,t.onScreensMovingEnd.bind(t))})}},{key:"onScreensMovingEnd",value:function(){o.movingSetEnd(),this.maxDiff=void 0}},{key:"onWindowResizeTimer",value:function(){o.activeIndex&&o.moveIndex(o.activeIndex)}},{key:"onWindowResize",value:function(){var e=this.onWindowResizeTimer.bind(this);a.cancel(this.resizeTimer),this.resizeTimer=a(e,200)}},{key:"endAnimationHanlder",value:function(e){this.element.scrollTop=e,this.animation=!1,this.onScreensMovingEnd()}},{key:"animatedScrollTo",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.element.scrollTop,o=r-e,a=3,s=2;return t=Math.ceil(t),this.animation?0===t&&0!==i||i>300?this.endAnimationHanlder(e):(0===t&&(t=o>0?2:-2),Math.abs(o)<Math.abs(t)*a&&(t=Math.ceil(o/a)),Math.abs(o)>10&&Math.abs(t)<10&&(t*=s),Math.abs(r-t)===Math.abs(e)||Math.abs(t)<1?this.endAnimationHanlder(e):(this.element.scrollTop=r-t,void window.requestAnimationFrame(function(){n.animatedScrollTo(e,t,++i)}))):this.onScreensMovingEnd()}},{key:"destroy",value:function(){n.off("preload:finished",this.enableScrollHandler),o.off("moving",this.screensMovingHandler),r.off("doscroll",this.runScrollListener),"ontouchstart"in document&&this.removeTouchListeners(),window.removeEventListener("resize",this.windowResizeListener)}}]),c}();return c};n.$inject=["PreloaderService","SwitchesService","BrowserEventsService","ScreensService","$timeout","$state"],angular.module("mlsdev").factory("ScreensFactory",n)}(),function(){"use strict";angular.module("mlsdev").component("mdScreen",{templateUrl:"/scripts/components/screens/screen.template.html",transclude:!0,require:{screensCtrl:"^mdScreens"},controller:"ScreenController",controllerAs:"screen"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n)}return t(n,[{key:"$onInit",value:function(){this.screensCtrl.registerScreen(this)}}]),n}();angular.module("mlsdev").controller("ScreenController",n)}(),function(){"use strict";angular.module("mlsdev").component("mdFooter",{templateUrl:"/scripts/components/footer/footer.template.html",controller:"FooterController",controllerAs:"footer"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=function(){function r(t,i,o,a){e(this,r),n.set(this,{FooterService:t,element:o[0].querySelector("#footer"),$timeout:a}),this.news=i,this.classes=document.body.classList,this.activeClass="visible-footer",this.onStateChangeBind=this.onStateChange.bind(this),this.onToucStartBind=this.onToucStart.bind(this),this.onTouchMoveBind=this.onTouchMove.bind(this),this.onTouchEndBind=this.onTouchEnd.bind(this),t.on("change:state",this.onStateChangeBind),this.news.load(),this.placeListeners()}return r.$inject=["FooterService","NewsService","$element","$timeout"],t(r,[{key:"placeListeners",value:function(){document.addEventListener("touchstart",this.onToucStartBind),document.addEventListener("touchmove",this.onTouchMoveBind),document.addEventListener("touchend",this.onTouchEndBind)}},{key:"onToucStart",value:function(e){var t=e.changedTouches[0];i.set(this,{x:t.clientX,y:t.clientY})}},{key:"onTouchMove",value:function(e){var t=i.get(this),r=t.x,o=t.y,a=t.allowed,s=e.changedTouches[0],c=s.clientX,l=s.clientY,u=c-r,h=l-o,f=a||Math.abs(h)>Math.abs(u)&&Math.abs(h)-Math.abs(u)>20;if(f){var p=n.get(this),d=p.element,v=p.FooterService,m=d.style;v.isSwipe&&(!v.isVisible&&h<-3&&(m.transform="translate3d(0,70%,0)"),v.isVisible&&h>3&&(m.transform="translate3d(0,30%,0)"),i.set(this,{x:c,y:l,shift:h,allowed:!0}))}}},{key:"onTouchEnd",value:function(){var e=n.get(this),t=e.element;t.style.transform="",i.set(this,{})}},{key:"onStateChange",value:function(e){this.isVisible=e,this.changeState()}},{key:"changeState",value:function(){this.isVisible?this.classes.add(this.activeClass):this.classes.remove(this.activeClass)}},{key:"getYear",value:function(){return(new Date).getFullYear()}},{key:"$onDestroy",value:function(){var e=n.set(this),t=e.FooterService;t.off("change:state",this.onStateChangeBind),document.removeEventListener("touchstart",this.onToucStartBind),document.removeEventListener("touchmove",this.onTouchMoveBind),document.removeEventListener("touchend",this.onTouchEndBind),n["delete"](this),i["delete"](this)}}]),r}();angular.module("mlsdev").controller("FooterController",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new WeakMap,o=function(o){function a(n){e(this,a);var i=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return r.set(i,{API:n}),i.isVisible=!1,i.isSwipe=!1,i}return a.$inject=["API"],n(a,o),i(a,[{key:"setVisibility",value:function(e){this.isVisible=e,this.fireStateChange()}},{key:"show",value:function(){this.setVisibility(!0)}},{key:"hide",value:function(){this.setVisibility(!1)}},{key:"setSwipe",value:function(e){this.isSwipe=e}},{key:"fireStateChange",value:function(){this.emit("change:state",this.isVisible)}}]),a}(EventEmitter);angular.module("mlsdev").service("FooterService",o)}(),function(){"use strict";angular.module("mlsdev").component("mdPreloader",{templateUrl:"/scripts/components/preloader/preloader.template.html",controller:"PreloaderController",controllerAs:"preloader"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="/images",o=new WeakMap,a=function(a){function s(n,i,r){e(this,s);var a=t(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return o.set(a,{timeout:n,loader:r}),a.images=i,a.loadCommon=!0,a.isVisible=!1,a.progress=0,a.page={},a.pages=[],a}return s.$inject=["$timeout","ImagesList","ImageLoaderFactory"],n(s,a),i(s,[{key:"imagesToLoad",value:function(e){var t=this;return _.reduce(this.images,function(n,i,o){return(o===e||t.loadCommon&&"common"===o)&&i.forEach(function(e){n.push(r+"/"+o+"/"+e)}),n},[])}},{key:"run",value:function(e){var t=this;return this.pages[e]||(this.isVisible=!0,this.pages[e]=this.loadImages(e).then(function(){return o.get(t).timeout(function(){t.isVisible=!1,t.loadCommon=!1,t.emit("preload:finished")}),e})),this.page=this.pages[e],this.page}},{key:"loadImages",value:function(e){var t=this;this.progress=0;var n=this.imagesToLoad(e),i=n.length,r=o.get(this).loader,a=n.map(function(e){return r.loadImage(e)});return Promise.reduce(a,function(e){return o.get(t).timeout(function(){t.progress=Math.round(e/i*100)}),++e},0)}}]),s}(EventEmitter);angular.module("mlsdev").service("PreloaderService",a)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t){e(this,i),n.set(this,{preloader:t})}return i.$inject=["PreloaderService"],t(i,[{key:"$onDestroy",value:function(){console.log("preloader",this)}},{key:"isVisible",get:function(){return n.get(this).preloader.isVisible}},{key:"progress",get:function(){return n.get(this).preloader.progress}}]),i}();angular.module("mlsdev").controller("PreloaderController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdGoTop",{bindings:{},templateUrl:"/scripts/components/go-top/go-top.template.html",transclude:!1,controller:"GoTopController",controllerAs:"goTop"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s){e(this,i),n.set(this,{header:r,screen:o,element:t,screens:a})}return i.$inject=["$element","HeaderService","ScreenNavigationService","SiteScreens","$interval"],t(i,[{key:"$onInit",value:function(){}},{key:"goToTop",value:function(){n.get(this).screen.moveIndex(0),window.scrollTo(0,0)}},{key:"checkShowGoTopBtn",value:function(){var e=n.get(this),t=e.header,i=e.screen,r=e.screens,o=t.stateName,a=i.activeScreenIndex;return r&&r[o]&&r[o][a]&&r[o][a].elements.goTopBtn||!1}}]),i}();angular.module("mlsdev").controller("GoTopController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdBudget",{templateUrl:"/scripts/components/budget/budget.template.html",controller:"BudgetController",controllerAs:"budget",bindings:{onSubmit:"&"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=new WeakMap,o=function(){function o(t,a,s,c,l){e(this,o);var u=t[0],h=u.querySelector(".buttons");n.set(this,{element:u,buttons:h}),i.set(this,{x:0,y:0,intervalId:-1}),r.set(this,{timeout:a,interval:s,touch:c,budget:new l}),this.doTouchStartBind=this.doTouchStart.bind(this),this.doTouchMoveBind=this.doTouchMove.bind(this),this.doTouchEndBind=this.doTouchEnd.bind(this),this.doMouseDownBind=this.doMouseDown.bind(this),this.doMouseMoveBind=this.doMouseMove.bind(this),this.doMouseEndBind=this.doMouseEnd.bind(this)}return o.$inject=["$element","$timeout","$interval","TouchEventsService","BudgetFactory"],t(o,[{key:"$onInit",value:function(){var e=n.get(this),t=e.element,i=e.buttons;t.addEventListener("touchstart",this.doTouchStartBind),t.addEventListener("touchmove",this.doTouchMoveBind),t.addEventListener("touchend",this.doTouchEndBind),i.addEventListener("mousedown",this.doMouseDownBind),t.addEventListener("mousemove",this.doMouseMoveBind),t.addEventListener("mouseup",this.doMouseEndBind)}},{key:"onSubmitButton",value:function(){var e=r.get(this).budget.budgeFormattedInt();this.onSubmit({budget:e})}},{key:"onSkipButton",value:function(){this.onSubmit({budget:1})}},{key:"incrementBudget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r.get(this),n=t.budget,i=t.timeout;i(function(){n.setBudgeMoney(n.budgetMoney+e)})}},{key:"decrementBudget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=r.get(this),n=t.budget,i=t.timeout;i(function(){n.setBudgeMoney(n.budgetMoney-e)})}},{key:"doMouseDown",value:function(e){e.preventDefault(),this.moveHandler(e);var t=i.get(this);t.start=!0,i.set(this,t)}},{key:"doMouseMove",value:function(e){var t=i.get(this);e.preventDefault(),1==t.start&&this.moveMoveHandler(e)}},{key:"doMouseEnd",value:function(e){e.preventDefault(),this.moveHandler();var t=i.get(this);t.start=!1,i.set(this,t)}},{key:"checkFirstTouch",value:function(e){if(1==e.changedTouches.length)return e.changedTouches[0]}},{key:"doTouchStart",value:function(e){var t=this.checkFirstTouch(e);t&&this.moveHandler(t)}},{key:"doTouchMove",value:function(e){var t=this.checkFirstTouch(e);t&&this.moveMoveHandler(t)}},{key:"doTouchEnd",value:function(){this.moveHandler()}},{key:"moveHandler",value:function(e){var t=0,n=0;if(e){var r=[e.pageX,e.pageY];t=r[0],n=r[1]}var o=i.get(this),a=[t,n];o.x=a[0],o.y=a[1],i.set(this,o)}},{key:"moveMoveHandler",value:function(e){var t=i.get(this),o=t.x,a=t.y,s=[e.pageX,e.pageY],c=s[0],l=s[1],u=o-c,h=a-l,f=Math.abs(u)>Math.abs(h);if(f){var p=r.get(this),d=p.timeout,v=p.budget,m=n.get(this).element,g=Math.ceil(c/window.innerWidth*100*4)/4;m.classList.add("moving"),d(function(){v.setBudgeLine(g)})}}},{key:"$onDestroy",value:function(){var e=n.get(this),t=e.element,i=e.buttons;t.removeEventListener("touchstart",this.doTouchStartBind),t.removeEventListener("touchmove",this.doTouchMoveBind),t.removeEventListener("touchend",this.doTouchEndBind),i.removeEventListener("mousedown",this.doMouseDownBind),t.removeEventListener("mousemove",this.doMouseMoveBind),t.removeEventListener("mouseup",this.doMouseEndBind),n["delete"](this),r["delete"](this)}},{key:"budgetFormatted",get:function(){return r.get(this).budget.budgetFormatted()}},{key:"budgetLength",get:function(){return r.get(this).budget.budgetLine}}]),o}();angular.module("mlsdev").controller("BudgetController",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){var n=function(){function n(){e(this,n),this.budgetLimits={left:9,right:91},this.budgetLineLimits={left:8,right:92},this.budgetLine=50,this.calcBudget()}return t(n,[{key:"budgetFormatted",value:function(){return this.budgetMoney<this.budgetLimits.left+1?"<$"+Math.floor(this.budgetLimits.left+1)+"k":this.budgetMoney>this.budgetLimits.right-1?"$"+Math.floor(this.budgetLimits.right-1)+"k+":"$"+Math.floor(this.budgetMoney)+"k"}},{key:"budgeFormattedInt",value:function(){return this.budgetMoney<this.budgetLimits.left+1?Math.floor(this.budgetLimits.left):this.budgetMoney>this.budgetLimits.right-1?Math.floor(this.budgetLimits.right):Math.floor(this.budgetMoney)}},{key:"setBudgeLine",value:function(e){e>=this.budgetLineLimits.left&&e<=this.budgetLineLimits.right&&(this.budgetLine=e,this.calcBudget())}},{key:"calcBudget",value:function(){var e=(this.budgetLine-this.budgetLineLimits.left)/(this.budgetLineLimits.right-this.budgetLineLimits.left);this.budgetMoney=e*(this.budgetLimits.right-this.budgetLimits.left)+this.budgetLimits.left}},{key:"setBudgeMoney",value:function(e){e>=this.budgetLimits.left&&e<=this.budgetLimits.right&&(this.budgetMoney=e,this.calcBudgetLine())}},{key:"calcBudgetLine",value:function(e){var t=(this.budgetMoney-this.budgetLimits.left)/(this.budgetLimits.right-this.budgetLimits.left);this.budgetLine=t*(this.budgetLineLimits.right-this.budgetLineLimits.left)+this.budgetLineLimits.left}}]),n}();return n};angular.module("mlsdev").factory("BudgetFactory",n)}(),function(){"use strict";angular.module("mlsdev").component("mdPage404",{templateUrl:"/scripts/components/page404/page404.template.html",controller:"Page404Controller",controllerAs:"p404"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function n(t,i,r){e(this,n),i.onVisiblity({visibleParts:{hireus:!1,sandwich:!0,toplogo:!0}}),r.setMetaData({title:"404 - MLSDev",description:"MLSDev. Page not found. 404.",keywords:"MLSDev, 404"})};t.$inject=["$element","HeaderService","PageGlobalService"],angular.module("mlsdev").controller("Page404Controller",t)}(),function(){"use strict";angular.module("mlsdev").component("mdProgress",{templateUrl:"/scripts/components/progress/progress.template.html",controller:"ProgressController",controllerAs:"progress"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=function(){function r(t,o){e(this,r),n.set(this,t[0].children[0]),this.initProgressStateBind=this.initProgressState.bind(this),this.doScrollBind=this.doScroll.bind(this);var a=o.$on("$stateChangeSuccess",this.initProgressStateBind);i.set(this,a)}return r.$inject=["$element","$rootScope"],t(r,[{key:"initProgressState",value:function(){var e=n.get(this);e&&e.style&&e.style.width&&(e.style.width="")}},{key:"$onInit",value:function(){this.placeListeners()}},{key:"placeListeners",value:function(){window.addEventListener("scroll",this.doScrollBind,!0)}},{key:"doScroll",value:function(e){var t=e.target;n.get(this).style.width=this.scrollPercent(t)+"%"}},{key:"scrollPercent",value:function(e){if("MD-SCREENS"===e.tagName){var t=e.children[0].offsetHeight,n=e.offsetHeight,i=e.scrollTop;return 10*Math.ceil(10*(i+n)/t)}}},{key:"$onDestroy",value:function(){var e=i.get(this);e(),window.removeEventListener("scroll",this.doScrollBind),n["delete"](this)}},{key:"height",get:function(){var e=window.document.body,t=window.document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}},{key:"scrollTop",get:function(){return document.body.scrollTop}},{key:"windowHeight",get:function(){return window.innerHeight}}]),r}();angular.module("mlsdev").controller("ProgressController",r)}(),function(){"use strict";angular.module("mlsdev").component("mdParticleSystem",{template:'<canvas class="particle-system-canvas"></canvas>',controller:"ParticleSystemController",controllerAs:"particleSystem",bindings:{particlesAmount:"@",maxParticleRadius:"@",speedFactor:"@",movabilityFactor:"@",shape:"@",animationEnabled:"<"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,s=function(){function s(t,r,o,a,c){e(this,s);var l=o[0],u=l.getElementsByTagName("canvas")[0];n.set(this,{timeout:r,scope:t,element:l,canvas:u,BrowserEventsService:c});var h=new a;i.set(this,h),this.resizeHandler=this.doResizeTimer.bind(this),this.disableOnTouchBind=this.disableOnTouch.bind(this)}return s.$inject=["$scope","$timeout","$element","PSParticles","BrowserEventsService"],t(s,[{key:"$onInit",value:function(){var e=n.get(this),t=e.BrowserEventsService,i=this.getSize();i&&i.height&&i.width&&(this.animationEnabled&&this.run(),this.listenAnimationStatusChange(),this.listenWindowResize()),t.on("touchstart",this.disableOnTouchBind)}},{key:"disableOnTouch",value:function(){this.disabled=!0}},{key:"listenAnimationStatusChange",value:function(){var e=this;n.get(this).scope.$watch(function(){return e.animationEnabled},function(t){t?e.run():e.stop()})}},{key:"listenWindowResize",value:function(){window.addEventListener("resize",this.resizeHandler)}},{key:"run",value:function(){if(!o.get(this)){var e=this.getSize(),t=i.get(this),a=n.get(this).canvas;t.setSize(e),t.setContext(a.getContext("2d")),t.createParticles(),t.connectParticles()}o.set(this,!0),r.set(this,1),this.doAnimation()}},{key:"stop",value:function(){r.set(this,0)}},{key:"doAnimation",value:function(){var e=r.get(this),t=i.get(this);t&&t.doAnimateParticles(),e&&!this.disabled&&window.requestAnimationFrame(this.doAnimation.bind(this))}},{key:"doResizeTimer",value:function(){if(!this.disabled){var e=this.doResize.bind(this),t=n.get(this).timeout;t.cancel(a.get(this)),a.set(this,t(e,200))}}},{key:"doResize",value:function(){var e=i.get(this),t=this.getSize();e.cleanParticles(),e.setSize(t),e.createParticles(),e.connectParticles()}},{key:"getSize",value:function(){var e=n.get(this),t=e.element,i=e.canvas,r=i.width=t.offsetWidth||t.offsetHeight,o=i.height=t.offsetHeight||t.offsetWidth;if(r&&o){var a={particlesAmount:this.particlesAmount,maxParticleRadius:this.maxParticleRadius,speedFactor:this.speedFactor,movabilityFactor:this.movabilityFactor,shape:this.shape,width:r,height:o,center:{x:r/2,y:o/2},isRing:"ring"===this.shape};return a.radius={outer:Math.min(a.center.x,a.center.y)},a.isRing?(a.radius.inner=.8*a.radius.outer,a.maxIntersectionRadius=(a.radius.outer-a.radius.inner)/4):a.maxIntersectionRadius=5*a.radius.outer/this.particlesAmount,a}}},{key:"$onDestroy",value:function(){window.removeEventListener("resize",this.resizeHandler),n.get(this).BrowserEventsService.off("touchstart",this.disableOnTouchBind),n["delete"](this),i["delete"](this),r["delete"](this),o["delete"](this),a["delete"](this)}}]),s}();angular.module("mlsdev").controller("ParticleSystemController",s)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=function(r,o){var a=function(){function a(){e(this,a),i.set(this,r),n.set(this,o),this.particles=[],this.doAnimateParticles=this.animateParticles.bind(this)}return t(a,[{key:"setSize",value:function(e){this.size=e}},{key:"setContext",value:function(e){this.context=e}},{key:"isMovingBeyond",value:function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDistanceToCenter({center:{x:e,y:t}}),s=i>=this.size.radius.outer-n;return this.size.isRing&&(s=s||i<=this.size.radius.inner+n||t<=1.5*(this.size.radius.outer-this.size.radius.inner)),s}},{key:"findFreeCoordinates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.randomCoordinates;if(n>200)return i;var r=this.particles.find(function(n){return t.isIntersected({intersectionRadius:e,center:i},n)});if(r){var o={x:i.x-r.center.x,y:i.y-r.center.y},a=i.x+o.x,s=i.y+o.y;this.isMovingBeyond(a,s)?i=this.randomCoordinates:(i.x+=o.x,i.y+=o.y),i=this.findFreeCoordinates(e,++n,i)}return i}},{key:"cleanParticles",value:function(){this.particles.length=0}},{key:"createParticles",value:function(){if(this.size)for(var e=n.get(this),t=0;t<this.size.particlesAmount;t++){var i=new e(this);this.particles.push(i)}}},{key:"animateParticles",value:function(){this.context.clearRect(0,0,this.size.width,this.size.height),this.moveParticles(),this.drawParticles()}},{key:"moveParticles",value:function(){this.particles.forEach(function(e){e.move()})}},{key:"connectParticles",value:function(){var e=this;_.sortBy(this.particles,function(t){return e.getDistanceToCenter(t)}).forEach(function(t){var n=e.particles;e.size.isRing||(n=_.sortBy(n,function(n){return e.getDistanceBetween(t,n)})),n.forEach(function(n){var i=e.getDistanceBetween(t,n);if(t!==n){if(e.size.isRing){if(t.connections.length>=t.siblingsAmount)return;if(n.connections.length>=n.siblingsAmount)return;if(i>=e.size.radius.outer-e.size.radius.inner)return}else{if(t.connections.length>=5)return;if(n.connections.length>=5)return}t.connections.push(n),n.connections.push(t)}})})}},{key:"drawParticles",value:function(){this.particles.forEach(function(e){e.draw()})}},{key:"getDistanceToCenter",value:function(e){return Math.sqrt(Math.pow(e.center.x-this.size.center.x,2)+Math.pow(e.center.y-this.size.center.y,2))}},{key:"isIntersected",value:function(e,t){var n=e.intersectionRadius+t.intersectionRadius,i=this.getDistanceBetween(e,t);return i<n}},{key:"getDistanceBetween",value:function(e,t){if("undefined"==typeof e.center)throw console.error("got undefined particle1"),new Error;if("undefined"==typeof t.center)throw console.error("got undefined particle1"),new Error;return Math.sqrt(Math.pow(e.center.x-t.center.x,2)+Math.pow(e.center.y-t.center.y,2))}},{key:"randomCoordinates",get:function(){var e=i.get(this).random(2*Math.PI),t=this.randomDimension,n=Math.cos(e)*Math.sqrt(t),r=Math.sin(e)*Math.sqrt(t);if(this.size.center.y+r<=1.5*(this.size.radius.outer-this.size.radius.inner))try{return this.randomCoordinates}catch(o){throw console.log("can`t get coordinates"),console.error(o),new Error}return{x:this.size.center.x+n,y:this.size.center.y+r}}},{key:"randomDimension",get:function(){var e=Math.pow(this.size.radius.outer,2),t=i.get(this);if(this.size.isRing){var n=Math.pow(this.size.radius.inner,2);return t.random(e-n)+n}return t.random(e)}}]),a}();return a};r.$inject=["RandomizerService","PSParticle"],angular.module("mlsdev").factory("PSParticles",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(t){e(this,i);var r=t.isRing?2:3,o=t.size;this.system=t,this.context=t.context,this.connections=[],this.opacity=n.random(),this.connectionColor="rgba(182,182,182,0.1)",this.radius=n.randomBetween(1,o.maxParticleRadius),this.intersectionRadius=n.randomBetween(this.radius*r,o.maxIntersectionRadius),this.movability=n.randomBetween(5*o.movabilityFactor,10*o.movabilityFactor),this.siblingsAmount=n.random(3),this.increases={x:n.randomWithSign(o.speedFactor/5),y:n.randomWithSign(o.speedFactor/5),radius:n.randomWithSign(o.speedFactor/10),opacity:n.randomWithSign(o.speedFactor/200)},this.center=this.system.findFreeCoordinates(this.intersectionRadius),this.initialCenter={x:this.center.x,y:this.center.y}}return t(i,[{key:"move",value:function(){this.increaseOpacity(),this.increaseRadius(),this.increase()}},{key:"draw",value:function(){this.context&&(this.context.beginPath(),this.context.fillStyle=this.pointColor,this.context.arc(this.center.x,this.center.y,this.radius,0,2*Math.PI),this.context.fill(),this.drawConnections())}},{key:"drawConnections",value:function(){var e=this;this.connections.forEach(function(t){e.context.beginPath(),e.context.strokeStyle=e.connectionColor,e.context.moveTo(e.center.x,e.center.y),e.context.lineTo(t.center.x,t.center.y),
e.context.stroke(),e.context.closePath()})}},{key:"increase",value:function(){var e=this.center.x+this.increases.x,t=this.center.y+this.increases.y;this.system.isMovingBeyond(e,t,this.radius)?(this.increases.x*=-1,this.increases.y*=-1):(Math.abs(e-this.initialCenter.x)>this.movability&&(this.increases.x*=-1),Math.abs(t-this.initialCenter.y)>this.movability&&(this.increases.y*=-1)),this.center.x+=this.increases.x,this.center.y+=this.increases.y}},{key:"increaseRadius",value:function(){var e=this.system.size,t=this.radius+this.increases.radius;(t<0||t>e.maxParticleRadius)&&(this.increases.radius*=-1),this.radius+=this.increases.radius}},{key:"increaseOpacity",value:function(){var e=this.opacity+this.increases.opacity;(e<=0||e>=1)&&(this.increases.opacity*=-1),this.opacity+=this.increases.opacity}},{key:"pointColor",get:function(){return"rgba(182,182,182,"+this.opacity+")"}}]),i}();return i};n.$inject=["RandomizerService"],angular.module("mlsdev").factory("PSParticle",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(r){var o=function(r){function o(n){return e(this,o),t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this))}return n(o,r),i(o,[{key:"nextStep",value:function(){this.emit("nextStep")}},{key:"backStep",value:function(){this.emit("backStep")}},{key:"goToStep",value:function(e){this.emit("goToStep",e)}},{key:"animationToggle",value:function(e){this.emit("animationToggle",e)}},{key:"setCenter",value:function(e){this.emit("setCenter",e)}}]),o}(EventEmitter);return o};r.$inject=["RandomizerService"],angular.module("mlsdev").factory("SpaceSystemFactory",r)}(),function(){"use strict";angular.module("mlsdev").component("mdSpaceSystem",{template:'<canvas class="space-system-canvas"></canvas>',controller:"SpaceSystemController",controllerAs:"spaceSystem",bindings:{galaxiesAmount:"@",starsAmount:"@",spaceObject:"=",animationEnabled:"<",cycleSteps:"@",maxStep:"@",skippedAnimationSteps:"@"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=new WeakMap,o=function(){function o(t,i,r){e(this,o),n.set(this,{$scope:t,$element:i,SpaceFactory:r}),this.nextStepBind=this.nextStep.bind(this),this.backStepBind=this.backStep.bind(this),this.goToStepIterBind=this.goToStepIter.bind(this),this.setCenterBind=this.setCenter.bind(this),this.animationToggleBind=this.animationToggle.bind(this)}return o.$inject=["$scope","$element","SpaceFactory"],t(o,[{key:"$onInit",value:function(){var e=this,t=n.get(this),o=t.$element,a=t.$scope,s=t.SpaceFactory,c=o[0];if(c&&c.offsetHeight&&c.offsetWidth){var l=c.getElementsByTagName("canvas")[0],u={height:c.offsetHeight,width:c.offsetWidth},h={width:u.width,height:u.height,galaxiesAmount:this.galaxiesAmount,starsAmount:this.starsAmount,canvas:l,context:l.getContext("2d"),element:o[0]};this.skippedAnimationSteps?this.skippedSteps=_.map(this.skippedAnimationSteps.split(","),function(e){return+e}):this.skippedSteps=[];var f=new s(h);i.set(this,f),r.set(this,0),f.greateGalaxies(),f.createSphere(),f.startDraw(),f.startAnimation(),this.listenControlEvents(!0),a.$watch(function(){return e.animationEnabled},function(t){t?e.run():e.stop()})}}},{key:"listenControlEvents",value:function(e){e?(this.spaceObject.on("nextStep",this.nextStepBind),this.spaceObject.on("backStep",this.backStepBind),this.spaceObject.on("goToStep",this.goToStepIterBind),this.spaceObject.on("setCenter",this.setCenterBind),this.spaceObject.on("animationToggle",this.animationToggleBind)):(this.spaceObject.off("nextStep",this.nextStepBind),this.spaceObject.off("backStep",this.backStepBind),this.spaceObject.off("goToStep",this.goToStepIterBind),this.spaceObject.off("setCenter",this.setCenterBind),this.spaceObject.off("animationToggle",this.animationToggleBind))}},{key:"goToStep",value:function(e){var t=i.get(this);switch(t.currentStep=e,e){case 0:t.moveToStartPosition();break;case 1:t.sphere.showType="none",t.showCircledGalaxies();break;case 2:t.sphere.showType="part",t.showPartsOfSphere();break;case 3:t.sphere.showType="full",t.showFullSphere();break;case 4:t.sphere.showType="grid",t.showGridSphere();break;case 5:t.sphere.showType="grid",t.showFullGridSphere()}}},{key:"nextStep",value:function(){var e=r.get(this);if(this.cycleSteps&&e>=this.maxStep){for(;0!=e;)e+=-1,this.goToStep(e);return void r.set(this,e)}e>=this.maxStep||(e++,this.goToStep(e),r.set(this,e),_.contains(this.skippedSteps,e)&&this.nextStep())}},{key:"backStep",value:function(){var e=r.get(this);if(this.cycleSteps&&e<=0){for(;e!=this.maxStep;)e+=1,this.goToStep(e);return void r.set(this,e)}e<=0||(e--,this.goToStep(e),r.set(this,e),_.contains(this.skippedSteps,e)&&this.backStep())}},{key:"goToStepIter",value:function(e){var t=r.get(this);if(t!=e&&e>=0&&e<=this.maxStep)for(var n=e>t?1:-1;t!=e;)t+=n,this.goToStep(t);r.set(this,t)}},{key:"animationToggle",value:function(e){var t=i.get(this),n={start:!0,stop:!1,on:!0,off:!1},r=t.animationShow;e?t.animationShow=n[e]:t.animationShow=!t.animationShow,t.animationShow&&!r&&t.startAnimation()}},{key:"setCenter",value:function(e){var t=i.get(this);t.setCenter(e)}},{key:"stop",value:function(){this.animationToggle("off")}},{key:"run",value:function(){this.animationToggle("on"),this.goToStepIter(0)}},{key:"$onDestroy",value:function(){this.listenControlEvents(!1),n["delete"](this),r["delete"](this),i["delete"](this)}}]),o}();angular.module("mlsdev").controller("SpaceSystemController",o)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(r,o,a){var s=function(s){function c(n){e(this,c);var i=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return i.currentStep=0,i.galaxies=[],i.canvas=n.canvas,i.context=n.context,i.element=n.element,i.centerCoef={x:.65,y:.45},i.setSize(n),i.animationShow=!0,i.galaxiesAmount=n.galaxiesAmount,i.starsAmount=n.starsAmount,i.minRangeBetween=Math.sqrt(Math.pow(n.width,2)+Math.pow(n.height,2))/12,i.cornerDelta=0,i.averageGalaxySize={width:0,height:0},window.addEventListener("resize",i.resize.bind(i)),i}return n(c,s),i(c,[{key:"setCenter",value:function(e){this.centerCoef={x:e.x,y:e.y},this.resize()}},{key:"setSize",value:function(e){this.size={width:e.width,height:e.height},this.center={x:this.size.width*this.centerCoef.x,y:this.size.height*this.centerCoef.y},this.radius=(this.size.width+this.size.height)/10,this.canvas.width=e.width,this.canvas.height=e.height}},{key:"getRange",value:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},{key:"createSphere",value:function(){this.sphere=new a({space:this}),this.sphere.createTriangles(),this.sphere.createPoints(),this.sphere.setPosition({x:this.center.x,y:this.center.y},this.radius)}},{key:"greateGalaxies",value:function(){for(var e=this,t=function(t){for(var n=0,i=void 0,a={};n<30;){var s=!0;a={start_pos:{x:r.randomBetween(0,e.size.width)-.1*e.size.width,y:r.randomBetween(0,e.size.height)-.1*e.size.height},space:e},e.galaxies.forEach(function(t,n){var i=e.getRange(t.start_pos,a.start_pos);e.minRangeBetween>i?s=!1:null}),s?n=30:n++}i=new o(a),i.setSize(e.size),i.createStars(),i.createConnections(),e.averageGalaxySize={width:e.averageGalaxySize.width+i.size.width/e.galaxiesAmount/2,height:e.averageGalaxySize.height+i.size.height/e.galaxiesAmount/2},e.galaxies.push(i)},n=0;n<this.galaxiesAmount;n++)t(n);this.setCirclesPositions()}},{key:"drawGalaxies",value:function(){this.galaxies.forEach(function(e){e.draw()})}},{key:"moveGalaxies",value:function(){this.movingCircle&&(this.setCirclesPositions(),this.moveGalaxiesToCircle()),this.galaxies.forEach(function(e){e.move()})}},{key:"startDraw",value:function(){this.context.clearRect(0,0,this.size.width,this.size.height),this.drawGalaxies()}},{key:"drawSphere",value:function(){this.sphere.draw()}},{key:"startAnimation",value:function(){this.animationShow&&(requestAnimationFrame(this.startAnimation.bind(this)),this.moveGalaxies(),this.sphere.move(),this.startDraw(),this.drawSphere())}},{key:"resize",value:function(){var e=this.element.offsetWidth/this.size.width,t=this.element.offsetHeight/this.size.height;this.galaxies.forEach(function(n){var i={x:n.target_pos.x*e,y:n.target_pos.y*t};n.changeTargetPos(i),i={x:n.start_pos.x*e,y:n.start_pos.y*t},n.setStartPosition(i)}),this.setSize({width:this.element.offsetWidth,height:this.element.offsetHeight}),this.sphere.setTargetPosition({x:this.center.x,y:this.center.y},this.radius),this.setCirclesPositions()}},{key:"setCirclesPositions",value:function(){var e=this;this.cornerDelta+=Math.PI/3600,this.cornerDelta>=2*Math.PI?this.cornerDelta=0:null;var t=2*Math.PI/this.galaxiesAmount,n=t;this.galaxies.forEach(function(i){var r={x:e.center.x+e.radius*Math.cos(n+e.cornerDelta),y:e.center.y+e.radius*Math.sin(n+e.cornerDelta)};n+=t,i.circle_pos=r})}},{key:"moveGalaxiesToCircle",value:function(){this.movingCircle=!0,this.galaxies.forEach(function(e){return e.changeTargetPos(e.circle_pos)})}},{key:"moveToStartPosition",value:function(){this.movingCircle=!1,this.sphere.setTargetPosition({x:this.center.x,y:this.center.y},this.radius),this.galaxies.forEach(function(e){return e.changeTargetPos(e.start_pos)})}},{key:"showCircledGalaxies",value:function(){this.sphere.deltaCoef=1.75,this.sphere.dropOpacityAll(),this.sphere.setTargetPosition({x:this.center.x,y:this.center.y},this.radius),this.moveGalaxiesToCircle()}},{key:"showPartsOfSphere",value:function(){this.sphere.setToPartShow(),this.sphere.setTargetPosition({x:this.center.x,y:this.center.y},this.radius)}},{key:"showFullSphere",value:function(){this.sphere.grid.showingState="part",this.sphere.setToFullShow(),this.sphere.setTargetPosition({x:this.center.x,y:this.center.y},this.radius)}},{key:"showGridSphere",value:function(){this.sphere.showGrid()}},{key:"showFullGridSphere",value:function(){this.sphere.showFullGrid()}}]),c}(EventEmitter);return s};r.$inject=["RandomizerService","SpaceGalaxyFactory","SphereGalaxyFactory"],angular.module("mlsdev").factory("SpaceFactory",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n,i,r){var o=function(){function o(t){e(this,o),this.start_pos={x:t.start_pos.x,y:t.start_pos.y},this.target_pos={x:t.start_pos.x,y:t.start_pos.y},this.current_pos={x:this.start_pos.x,y:this.start_pos.y},this.circle_pos={x:null,y:null},this.speed={x:null,y:null},this.space=t.space,this.stars=[],this.connections=[]}return t(o,[{key:"setSize",value:function(e){this.size={width:n.randomBetween(.05*e.width,.1*e.width),height:n.randomBetween(.05*e.height,.1*e.height)},this.minRangeBetween=Math.sqrt(Math.pow(this.size.width,2)+Math.pow(this.size.height,2))/25}},{key:"getRange",value:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},{key:"createStars",value:function(){for(var e=this,t=n.randomBetween(.5*this.space.starsAmount,1.5*this.space.starsAmount),r=function(t){for(var r=0,o=void 0,a={};r<30;){var s=!0;a={start_pos:{x:n.randomBetween(0,e.size.width),y:n.randomBetween(0,e.size.height)},galaxy:e},e.stars.forEach(function(t,n){var i=e.getRange(t.start_pos,a.start_pos);e.minRangeBetween>i?s=!1:null}),s?r=30:r++}o=new i(a),e.stars.push(o)},o=0;o<t;o++)r(o)}},{key:"getPointsMix",value:function(e){for(var t=[],n=0;n<e;n++)for(var i=n+1;i<e;i++)t.push({p1:n,p2:i});return t}},{key:"createConnections",value:function(){for(var e=this.getPointsMix(this.stars.length),t=n.randomBetween(1*this.stars.length,2*this.stars.length),i=Math.min(e.length,t),o=0;o<i;o++){var a=n.randomBetween(0,e.length),s=e.splice(a,1)[0];s.galaxy=this;var c=new r(s);this.connections.push(c)}}},{key:"drawStars",value:function(){this.stars.forEach(function(e){e.draw()})}},{key:"drawConnections",value:function(){this.connections.forEach(function(e){e.draw()})}},{key:"draw",value:function(){this.drawStars(),this.drawConnections()}},{key:"move",value:function(){this.moveToTarget(),this.stars.forEach(function(e){e.move()})}},{key:"drawCirclePoint",value:function(){var e=this.space.context;e.beginPath(),e.arc(this.circle_pos.x,this.circle_pos.y,2,0,2*Math.PI,!0),e.fillStyle="rgba(115, 115, 15, 1)",e.fill(),e.rect(this.current_pos.x,this.current_pos.y,this.size.width,this.size.height),e.strokeStyle="rgba(255, 15, 15, 0.125)",e.stroke()}},{key:"moveToTarget",value:function(){var e=this.target_pos.x-this.current_pos.x,t=this.target_pos.y-this.current_pos.y;e&&(this.current_pos.x+=this.speed.x,Math.abs(e)<Math.abs(this.speed.x)?this.current_pos.x=this.target_pos.x:null),t&&(this.current_pos.y+=this.speed.y,Math.abs(t)<Math.abs(this.speed.y)?this.current_pos.y=this.target_pos.y:null)}},{key:"setStartPosition",value:function(e){this.start_pos=e}},{key:"changeTargetPos",value:function(e){this.target_pos=e,this.speed={x:(this.target_pos.x-this.current_pos.x)/60,y:(this.target_pos.y-this.current_pos.y)/60}}}]),o}();return o};n.$inject=["RandomizerService","SpaceStarFactory","SpaceConnectionFactory"],angular.module("mlsdev").factory("SpaceGalaxyFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n,i,r,o){var a=function(){function a(t){e(this,a),this.showType="none",this.speed={x:null,y:null},this.space=t.space,this.colors={st0:"27,27,27",st1:"46,46,46",st2:"26,26,26",st3:"48,48,48",st4:"44,44,44",st5:"47,47,47",st6:"57,57,57",st7:"50,50,50",st8:"59,59,59",st9:"60,60,60",st10:"43,43,43",st11:"49,49,49",st12:"61,61,61",st13:"52,52,52",st14:"25,25,25",st15:"28,28,28",st16:"56,56,56",st17:"41,41,41",st18:"29,29,29",st19:"31,31,31",st20:"39,39,39",st21:"23,23,23",st22:"21,21,21",st23:"17,17,17",st24:"5,5,5",st25:"30,30,30",st26:"15,15,15",st27:"14,14,14",st28:"22,22,22",st29:"16,16,16",st30:"13,13,13",st31:"10,10,10",st32:"0,0,0"},this.randPoints=[1,5,6,8,9,11,14,16,18,23,27,28,29,30,31,32,33,34,37,39,40,41,42,45,48,49,52,56,59,62,65,69,72],this.pointsList=[{x:72.5,y:129.9},{x:100.4,y:56.8},{x:135.4,y:87.7},{x:177.1,y:54},{x:183.4,y:48.9},{x:160.9,y:109.8},{x:123.8,y:211.6},{x:45.9,y:147.6},{x:232.7,y:85.3},{x:205.8,y:147.6},{x:247.4,y:51},{x:268.8,y:.6},{x:194.4,y:49.3},{x:349.6,y:45.9},{x:318,y:147.6},{x:335.8,y:46.6},{x:421.6,y:147.6},{x:428.7,y:109.8},{x:439.9,y:56.8},{x:359.7,y:54},{x:483.3,y:147.6},{x:464.9,y:208.7},{x:497.1,y:205.6},{x:408.3,y:214.3},{x:470.4,y:138.7},{x:535.9,y:306.2},{x:436.6,y:311.8},{x:285.3,y:253.6},{x:205.8,y:279.1},{x:84.7,y:318.9},{x:45.9,y:269.4},{x:208.7,y:358.7},{x:261.9,y:324},{x:330.7,y:318.9},{x:461.4,y:402.1},{x:476.7,y:454.7},{x:494.5,y:390.9},{x:406.2,y:422.8},{x:418,y:461.8},{x:282.2,y:383.7},{x:208.7,y:484.8},{x:318,y:472.5},{x:127.1,y:411.8},{x:346.8,y:555.2},{x:425.1,y:482.2},{x:433.8,y:513.4},{x:386,y:518.7},{x:457.9,y:464.7},{x:233.9,y:518.7},{x:538.9,y:376.6},{x:526.1,y:326.3},{x:484.7,y:425.9},{x:542,y:200.6},{x:484.7,y:153.6},{x:523.7,y:274.7},{x:28.1,y:241.9},{x:0,y:200.6},{x:42.1,y:167.7},{x:4.6,y:301.6},{x:50.5,y:343.4},{x:31.6,y:356.2},{x:53.1,y:461.8},{x:4.6,y:375.1},{x:14.5,y:321.6},{x:42.4,y:409},{x:164.8,y:495.6},{x:188.3,y:545.5},{x:141.4,y:504.2},{x:249.6,y:538.4},{x:270,y:563.4},{x:223.1,y:541.5},{x:303.1,y:547.6},{x:109,y:511.8},{x:92.4,y:480.7},{x:160.9,y:521.4},{x:15.1,y:274.9}],this.trianglesList=[{points:[0,1,2],fill:"st0"},{points:[3,2,1],fill:"st1"},{points:[4,5,2],fill:"st2"},{points:[6,7,5],fill:"st3"},{points:[2,5,7],fill:"st4"},{points:[8,4,5],fill:"st3"},{points:[9,5,8],fill:"st5"},{points:[6,9,5],fill:"st0"},{points:[10,8,4],fill:"st6"},{points:[11,10,12],fill:"st1"},{points:[13,14,8],fill:"st7"},{points:[10,13,8],fill:"st1"},{points:[11,15,10],fill:"st8"},{points:[9,14,8],fill:"st9"},{points:[16,13,14],fill:"st6"},{points:[17,13,16],fill:"st10"},{points:[18,17,19],fill:"st11"},{points:[20,16,17],fill:"st0"},{points:[21,16,20],fill:"st6"},{points:[22,20,21],fill:"st1"},{points:[23,16,21],fill:"st12"},{points:[14,23,16],fill:"st12"},{points:[17,18,24],fill:"st12"},{points:[25,22,21],fill:"st9"},{points:[26,21,25],fill:"st6"},{points:[23,21,26],fill:"st13"},{points:[27,9,14],fill:"st6"},{points:[23,27,14],fill:"st7"},{points:[28,9,27],fill:"st5"},{points:[6,28,9],fill:"st14"},{points:[29,6,28],fill:"st3"},{points:[30,6,29],fill:"st15"},{points:[7,30,6],fill:"st2"},{points:[31,28,29],fill:"st3"},{points:[32,28,31],fill:"st2"},{points:[27,32,28],fill:"st5"},{points:[33,27,32],fill:"st16"},{points:[23,33,27],fill:"st7"},{points:[26,33,23],fill:"st1"},{points:[34,26,25],fill:"st17"},{points:[35,34,36],fill:"st5"},{points:[25,36,34],fill:"st18"},{points:[37,33,26],fill:"st8"},{points:[34,37,26],fill:"st11"},{points:[38,37,34],fill:"st19"},{points:[35,38,34],fill:"st20"},{points:[39,33,37],fill:"st3"},{points:[32,39,33],fill:"st10"},{points:[31,39,32],fill:"st14"},{points:[40,31,39],fill:"st4"},{points:[41,39,40],fill:"st20"},{points:[37,39,41],fill:"st21"},{points:[42,29,31],fill:"st22"},{points:[40,42,31],fill:"st2"},{points:[38,41,37],fill:"st10"},{points:[43,41,38],fill:"st23"},{points:[44,38,43],fill:"st10"},{points:[35,38,44],fill:"st24"},{points:[45,44,46],fill:"st32"},{points:[47,45,44],fill:"st21"},{points:[48,41,43],fill:"st22"},{points:[40,48,41],fill:"st32"},{points:[49,50,36],fill:"st7"},{points:[51,49,36],fill:"st25"},{points:[52,22,53],fill:"st9"},{points:[52,54,22],fill:"st3"},{points:[55,7,30],fill:"st26"},{points:[56,57,55],fill:"st0"},{points:[58,55,30],fill:"st0"},{points:[59,58,30],fill:"st14"},{points:[29,59,30],fill:"st27"},{points:[42,59,29],fill:"st22"},{points:[60,58,59],fill:"st26"},{points:[61,59,60],fill:"st28"},{points:[62,60,63],fill:"st2"},{points:[64,62,60],fill:"st29"},{points:[42,61,59],fill:"st20"},{points:[65,42,61],fill:"st26"},{points:[40,65,42],fill:"st30"},{points:[48,65,40],fill:"st15"},{points:[66,65,48],fill:"st22"},{points:[67,61,65],fill:"st4"},{points:[66,67,65],fill:"st27"},{points:[68,66,48],fill:"st20"},{points:[43,68,48],fill:"st31"},{points:[69,68,70],fill:"st32"},{points:[71,68,69],fill:"st32"},{points:[72,73,67],fill:"st2"},{points:[74,72,67],fill:"st32"},{points:[75,56,55],fill:"st14"}],this.firstShowList=[3,4,10,11,14,15,32,34,35,36,39,41,47,48,55,56,60,66,73,76,77,81,84,23,24],this.triangles=[],this.points=[],this.bazeRadius=225,this.currentRadius=this.bazeRadius,this.radiusCoef=.77,this.radiusDiff={x:20,y:-15},this.current_pos={x:0,y:0},this.target_pos={x:this.current_pos.x,y:this.current_pos.y},this.setSphereCenter(),this.currentCoef=1,this.targetCoef=1,this.deltaCoef=1.75,this.speedCoef=0,this.isSphereVisible=0,this.isGridVisible=0,this.strokeOpacity=0,this.strokeOpacitySpeed=0,this.grid=new r({sphere:this})}return t(a,[{key:"setSphereCenter",value:function(){var e=_.reduce(this.pointsList,function(e,t){return{x:e.x+t.x,y:e.y+t.y}},{x:0,y:0});this.center={x:e.x/this.pointsList.length,y:e.y/this.pointsList.length}}},{key:"setPosition",value:function(e,t){var n=t*this.radiusCoef;this.current_pos={x:this.space.center.x,y:this.space.center.y},this.currentRadius=n,this.currentCoef=this.currentRadius/this.bazeRadius,this.targetCoef=this.currentCoef*this.deltaCoef,this.setTargetPosition(e,t)}},{key:"createSrokeGrid",value:function(){}},{key:"setTargetPosition",value:function(e,t){var n=t*this.radiusCoef;this.target_pos={x:this.space.center.x,y:this.space.center.y},this.currentRadius=n,this.targetCoef=this.currentRadius/this.bazeRadius*this.deltaCoef,this.speedCoef=(this.targetCoef-this.currentCoef)/90,this.speed={x:(this.target_pos.x-this.current_pos.x)/90,y:(this.target_pos.y-this.current_pos.y)/90}}},{key:"move",value:function(){this.moveToTarget(),this.changeCoef()}},{key:"changeCoef",value:function(){var e=this.currentCoef-this.targetCoef;e&&(this.currentCoef+=this.speedCoef,Math.abs(e)<Math.abs(this.speedCoef)?this.currentCoef=this.targetCoef:null)}},{key:"moveToTarget",value:function(){var e=this.target_pos.x-this.current_pos.x,t=this.target_pos.y-this.current_pos.y;e&&(this.current_pos.x+=this.speed.x,Math.abs(e)<Math.abs(this.speed.x)?this.current_pos.x=this.target_pos.x:null),t&&(this.current_pos.y+=this.speed.y,Math.abs(t)<Math.abs(this.speed.y)?this.current_pos.y=this.target_pos.y:null)}},{key:"createTriangles",value:function(){for(var e=0;e<this.trianglesList.length;e++){var t={sphere:this,points:this.trianglesList[e].points,fill:this.trianglesList[e].fill};this.triangles.push(new i(t))}}},{key:"createPoints",value:function(){var e=this;this.pointsList.forEach(function(t){return e.points.push(new o(t))})}},{key:"setToPartShow",value:function(){var e=this;this.isGridVisible=0,this.grid.opacity=0,this.grid.diff=3,this.isSphereVisible=80,this.deltaCoef=1.25,this.triangles.forEach(function(e,t){e.opacitySpeed=-n.randomBetween(90,200)/7e3,e.delay=0}),this.firstShowList.forEach(function(t){e.triangles[t].opacitySpeed=n.randomBetween(100,300)/7e3})}},{key:"setToFullShow",value:function(){var e=this;this.deltaCoef=1,this.grid.diffSpeed=.055,this.grid.opacitySpeed=-.027,this.strokeOpacitySpeed=-.027,this.triangles.forEach(function(e,t){e.delay=n.randomBetween(20,90),e.opacitySpeed=n.randomBetween(90,200)/7e3}),this.firstShowList.forEach(function(t){return e.triangles[t].delay=0})}},{key:"showGrid",value:function(){this.grid.showingState="part",this.isGridVisible=40,this.grid.opacitySpeed=.011,this.grid.diffSpeed=-.044,this.strokeOpacitySpeed=.011,this.grid.opacitySpeed_=-.027}},{key:"showFullGrid",value:function(){this.grid.showingState="full",this.grid.opacitySpeed_=.011}},{key:"dropOpacityAll",value:function(){this.triangles.forEach(function(e,t){e.opacitySpeed=-n.randomBetween(90,200)/7e3})}},{key:"draw",value:function(){var e=this;if("none"==this.showType){if(!this.isSphereVisible)return!1;this.isSphereVisible--}if(this.randPoints.forEach(function(t){return e.points[t].changePosition()}),this.triangles.forEach(function(e){return e.draw()}),"full"==this.showType){if(!this.isGridVisible)return!1;this.isGridVisible--}"full"!=this.showType&&"grid"!=this.showType||(this.strokeOpacitySpeed&&(this.strokeOpacity+=this.strokeOpacitySpeed,this.strokeOpacity>=.85?(this.strokeOpacitySpeed=0,this.strokeOpacity=.85):this.strokeOpacity<=0&&(this.strokeOpacitySpeed=0,this.strokeOpacity=0)),this.grid.draw())}},{key:"drawStroke",value:function(){this.triangles.forEach(function(e){return e.drawStroke()})}}]),a}();return a};n.$inject=["RandomizerService","TriangleGalaxyFactory","GridGalaxyFactory","PointGalaxyFactory"],angular.module("mlsdev").factory("SphereGalaxyFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(t){e(this,i),this.sphere=t.sphere,this.pointsList={},this.connectionsList=[],this.pointsList_={},this.connectionsList_=[],this.opacity=0,this.opacitySpeed=0,this.diff=3,this.diffSpeed=0,this.opacity_=0,this.opacitySpeed_=0,this.showingState="part",this.createGridConnections()}return t(i,[{key:"createGridConnections",value:function(){var e=this,t=this.sphere.pointsList,i=this.sphere.trianglesList,r=this.sphere.center,o=[];i.forEach(function(e){e.points.forEach(function(t,n){var i=n+1;i>=e.points.length?i=0:null,o.push([Math.min(t,e.points[i]),Math.max(t,e.points[i])])})});var a=[];o.forEach(function(e){for(var t=!1,n=a.length-1;n>0;n--)if(e[0]==a[n][0]&&e[1]==a[n][1]){t=!0;break}t||a.push(e)}),o=null,a.forEach(function(i){if(n.randomBetween(0,100)>25){var o=t[i[0]].x,a=t[i[0]].y,s=t[i[1]].x,c=t[i[1]].y,l=Math.sqrt(Math.pow(o-r.x,2)+Math.pow(a-r.y,2)),u=Math.sqrt(Math.pow(s-r.x,2)+Math.pow(c-r.y,2));i.range=(l+u)/2,i.range>225?e.connectionsList.push(i):e.connectionsList_.push(i)}}),a=null;var s=[],c=[],l=function(e){for(var t=!1,n=!1,i=s.length-1;i>0&&(e[0]==s[i]&&(c[e[0]]=Math.max(e.range,c[e[0]]),t=!0),e[1]==s[i]&&(c[e[1]]=Math.max(e.range,c[e[1]]),n=!0),!t||!n);i--);t||(c[e[0]]=e.range,s.push(e[0])),n||(c[e[1]]=e.range,s.push(e[1]))};this.connectionsList.forEach(function(e){return l(e)}),this.connectionsList_.forEach(function(e){return l(e)}),s.forEach(function(t){c[t]>225?e.pointsList[t]={x:0,y:0,range:c[t]}:e.pointsList_[t]={x:0,y:0,range:c[t]}}),s=null,c=null}},{key:"draw",value:function(){var e=this,t=this.sphere.space.context,n=this.sphere.space.averageGalaxySize,i=this.sphere.current_pos,r=this.sphere.points,o=this.sphere.center;"full"==this.showingState&&this.opacitySpeed_>0&&(this.opacity_+=this.opacitySpeed_,this.opacity_>=1&&(this.opacitySpeed_=0,this.opacity_=1)),this.opacitySpeed_<0&&(this.opacity_+=this.opacitySpeed_,this.opacity_<=0&&(this.opacitySpeed_=0,this.opacity_=0)),this.opacitySpeed&&(this.opacity+=this.opacitySpeed,this.opacity>=1?(this.opacitySpeed=0,this.opacity=1):this.opacity<=0&&(this.opacitySpeed=0,this.opacity=0)),this.diffSpeed&&(this.diff+=this.diffSpeed,this.diff>=3?(this.diffSpeed=0,this.diff=3):this.diff<=1.035&&(this.diffSpeed=0,this.diff=1.035)),this.connectionsList.forEach(function(a){t.beginPath();var s=(r[a[0]].current_pos.x-o.x)*e.sphere.currentCoef*e.diff+i.x+n.width,c=(r[a[0]].current_pos.y-o.y)*e.sphere.currentCoef*e.diff+i.y+n.height;t.moveTo(s,c),s=(r[a[1]].current_pos.x-o.x)*e.sphere.currentCoef*e.diff+i.x+n.width,c=(r[a[1]].current_pos.y-o.y)*e.sphere.currentCoef*e.diff+i.y+n.height,t.lineTo(s,c),t.strokeStyle="rgba(193, 193, 193, "+e.opacity+")",t.stroke(),t.closePath()}),_.each(this.pointsList,function(a,s){t.beginPath();var c=(r[s].current_pos.x-o.x)*e.sphere.currentCoef*e.diff+i.x+n.width,l=(r[s].current_pos.y-o.y)*e.sphere.currentCoef*e.diff+i.y+n.height;t.arc(c,l,5*e.sphere.currentCoef,0,2*Math.PI,!0),t.fillStyle="rgba(200, 200, 200, "+e.opacity+")",t.fill()}),("full"==this.showingState||this.opacitySpeed_)&&(this.connectionsList_.forEach(function(a){t.beginPath();var s=(r[a[0]].current_pos.x-o.x)*e.sphere.currentCoef*e.diff+i.x+n.width,c=(r[a[0]].current_pos.y-o.y)*e.sphere.currentCoef*e.diff+i.y+n.height;t.moveTo(s,c),s=(r[a[1]].current_pos.x-o.x)*e.sphere.currentCoef*e.diff+i.x+n.width,c=(r[a[1]].current_pos.y-o.y)*e.sphere.currentCoef*e.diff+i.y+n.height,t.lineTo(s,c),t.strokeStyle="rgba(193, 193, 193, "+e.opacity_+")",t.stroke(),t.closePath()}),_.each(this.pointsList_,function(a,s){t.beginPath();var c=(r[s].current_pos.x-o.x)*e.sphere.currentCoef*e.diff+i.x+n.width,l=(r[s].current_pos.y-o.y)*e.sphere.currentCoef*e.diff+i.y+n.height;t.arc(c,l,5*e.sphere.currentCoef,0,2*Math.PI,!0),t.fillStyle="rgba(200, 200, 200, "+e.opacity_+")",t.fill()}))}}]),i}();return i};n.$inject=["RandomizerService"],angular.module("mlsdev").factory("GridGalaxyFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function n(t){e(this,n),this.sphere=t.sphere,this.points=t.points,this.fill=t.fill,this.opacity=0,this.opacitySpeed=0}return t(n,[{key:"draw",value:function(){var e=this,t=this.sphere.space.context,n=this.sphere.space.averageGalaxySize,i=this.sphere.current_pos,r=this.sphere.points,o=this.sphere.center,a=this.points.length-1,s=this.sphere.colors[this.fill];this.delay?this.delay--:this.opacitySpeed&&(this.opacity+=this.opacitySpeed,this.opacity>=1?(this.opacitySpeed=0,this.opacity=1):this.opacity<=0&&(this.opacitySpeed=0,this.opacity=0)),t.beginPath(),t.moveTo((r[this.points[a]].current_pos.x-o.x)*this.sphere.currentCoef+i.x+n.width,(r[this.points[a]].current_pos.y-o.y)*this.sphere.currentCoef+i.y+n.height),this.points.forEach(function(a,s){t.lineTo((r[a].current_pos.x-o.x)*e.sphere.currentCoef+i.x+n.width,(r[a].current_pos.y-o.y)*e.sphere.currentCoef+i.y+n.height)}),t.fillStyle="rgba("+s+", "+this.opacity+")",t.fill(),this.sphere.isGridVisible&&(t.strokeStyle="rgba("+s+", "+this.sphere.strokeOpacity+")",t.stroke()),t.closePath()}}]),n}();return i};n.$inject=["RandomizerService"],angular.module("mlsdev").factory("TriangleGalaxyFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(t){e(this,i),this.sphere=t.sphere,this.start_pos={x:t.x,y:t.y},this.current_pos={x:this.start_pos.x,y:this.start_pos.y},this.speed=n.randomBetween(2,4)/25,this.direction={x:(n.random(2)-1)*this.speed,y:(n.random(2)-1)*this.speed},this.range=n.randomBetween(10,15)}return t(i,[{key:"changePosition",value:function(){this.current_pos.x+=this.direction.x,Math.abs(this.current_pos.x-this.start_pos.x)>this.range?this.direction.x*=-1:null,this.current_pos.y+=this.direction.y,Math.abs(this.current_pos.y-this.start_pos.y)>this.range?this.direction.y*=-1:null}}]),i}();return i};n.$inject=["RandomizerService"],angular.module("mlsdev").factory("PointGalaxyFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),
i&&e(t,i),t}}(),n=function(n){var i=function(){function i(t){e(this,i),this.start_pos={x:t.start_pos.x,y:t.start_pos.y},this.current_pos={x:this.start_pos.x,y:this.start_pos.y},this.galaxy=t.galaxy,this.opacity=n.random(),this.opacityDirection=(n.random()-.5)/50,this.size=n.randomBetween(10,20)/5,this.sizeDirection=(n.randomBetween(10,20)-10)/200,this.speed=n.randomBetween(1,4)/25,this.direction={x:(n.random(2)-1)*this.speed,y:(n.random(2)-1)*this.speed},this.range=n.randomBetween(80,(this.galaxy.size.width+this.galaxy.size.height)/8)}return t(i,[{key:"draw",value:function(){var e=this.galaxy.space.context;e.beginPath(),e.arc(this.current_pos.x+this.galaxy.current_pos.x,this.current_pos.y+this.galaxy.current_pos.y,this.size,0,2*Math.PI,!0),e.fillStyle="rgba(190, 190, 190, "+this.opacity+")",e.fill()}},{key:"move",value:function(){this.changeOpacity(),this.changeSize(),this.changePosition()}},{key:"changeOpacity",value:function(){this.opacity+=this.opacityDirection,this.opacity<=.2?(this.opacityDirection*=-1,this.opacity=.201):this.opacity>=5&&(this.opacityDirection*=-1,this.opacity=5)}},{key:"changeSize",value:function(){this.size+=this.sizeDirection,this.size<=1?(this.sizeDirection*=-1,this.size=1):this.size>=4&&(this.sizeDirection*=-1,this.size=4)}},{key:"changePosition",value:function(){this.current_pos.x+=this.direction.x,Math.abs(this.current_pos.x-this.start_pos.x)>this.range?this.direction.x*=-1:null,this.current_pos.y+=this.direction.y,Math.abs(this.current_pos.y-this.start_pos.y)>this.range?this.direction.y*=-1:null}}]),i}();return i};n.$inject=["RandomizerService"],angular.module("mlsdev").factory("SpaceStarFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(t){e(this,i),this.point1=t.p1,this.point2=t.p2,this.galaxy=t.galaxy,this.opacity=n.randomBetween(5,20)/20}return t(i,[{key:"draw",value:function(){var e=this.galaxy.space.context,t=this.galaxy.stars[this.point1],n=this.galaxy.stars[this.point2],i=this.galaxy.current_pos.x,r=this.galaxy.current_pos.y;e.beginPath(),e.moveTo(t.current_pos.x+i,t.current_pos.y+r),e.lineTo(n.current_pos.x+i,n.current_pos.y+r),e.strokeStyle="rgba(160, 160, 160, "+this.opacity/4+")",e.stroke(),e.closePath()}}]),i}();return i};n.$inject=["RandomizerService"],angular.module("mlsdev").factory("SpaceConnectionFactory",n)}(),function(){"use strict";angular.module("mlsdev").component("mdArcSystem",{template:'<canvas class="arc-system-canvas"></canvas>',controller:"ArcSystemController",controllerAs:"arcSystem",bindings:{circlesAmount:"@"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r){e(this,i),n.set(this,r);var o=t[0],a=o.getElementsByTagName("canvas")[0];this.width=a.width=o.offsetWidth,this.height=a.height=o.offsetHeight,this.context=a.getContext("2d"),this.color="rgba(182,182,182,0.3)",this.circles=[],this.center={x:this.width/2,y:this.height/2},this.radius=Math.min(this.center.x,this.center.y),this.circleWidth=this.radius/this.circlesAmount,this.createCircles(),window.requestAnimationFrame(this.animateCircles.bind(this))}return i.$inject=["$element","RandomizerService"],t(i,[{key:"createCircles",value:function(){for(var e=1;e<=this.circlesAmount;e++)this.circles.push({radius:e*this.circleWidth,increase:n.get(this).randomWithSign(Math.PI/(20*e)),arcs:this.createArcs(e)})}},{key:"createArcs",value:function(e){for(var t=[],i=Math.PI/(5*e),r=Math.PI/e,o=2*Math.PI,a=0;;){var s=a?a+i+n.get(this).random(i):0,c=s+r+n.get(this).random(r);if(s>=o)break;c>o&&(c=o),t.push({start:s,end:c}),a=c}return t}},{key:"animateCircles",value:function(){var e=this;this.context.clearRect(0,0,this.width,this.height),this.circles.forEach(function(t){t.arcs.forEach(function(n){n.start+=t.increase,n.end+=t.increase,e.context.beginPath(),e.context.strokeStyle=e.color,e.context.arc(e.center.x,e.center.y,t.radius,n.start,n.end),e.context.stroke()})}),window.requestAnimationFrame(this.animateCircles.bind(this))}},{key:"$onDestroy",value:function(){n["delete"](this)}}]),i}();angular.module("mlsdev").controller("ArcSystemController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(r){function o(n,i){e(this,o);var r=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.visible=!1,n.$on("$stateChangeSuccess",function(){r.stateName=i.current.name}),r}return o.$inject=["$rootScope","$state"],n(o,r),i(o,[{key:"switchState",value:function(){this.isVisible=!this.isVisible}},{key:"setClosed",value:function(){this.isVisible=!1}},{key:"onVisiblity",value:function(e){this.setVisibility(e.visibleParts),e.touch&&this.setVisibilityTouch(e.visibleParts)}},{key:"setVisibility",value:function(e){this.isVisibleControls=e}},{key:"setVisibilityTouch",value:function(){this.emit("setvisiblitytouch")}},{key:"isVisible",get:function(){return this.visible},set:function(e){this.visible=e,e?this.emit("open"):this.emit("close")}}]),o}(EventEmitter);angular.module("mlsdev").service("SideMenuService",r)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r){e(this,i),n.set(this,{menu:r,element:t,container:t[0].getElementsByClassName("menu-container")[0]}),this.setVisiblityHandler=this.setVisiblity.bind(this)}return i.$inject=["$element","SideMenuService"],t(i,[{key:"$onInit",value:function(){this.listenChangeVisiblity()}},{key:"stateActive",value:function(e){return n.get(this).menu.stateName===e}},{key:"menuClick",value:function(){n.get(this).menu.switchState()}},{key:"listenChangeVisiblity",value:function(){n.get(this).menu.on("setvisiblitytouch",this.setVisiblityHandler)}},{key:"setVisiblity",value:function(){var e=n.get(this).container;if(e){var t=e.classList;this.isVisibleControls.sandwich?t.contains("visible")||t.add("visible","touch"):t.contains("visible")&&!this.isVisible&&t.remove("visible","touch")}}},{key:"$onDestroy",value:function(){n.get(this).menu.off("setvisiblitytouch",this.setVisiblityHandler)}},{key:"isVisible",get:function(){return n.get(this).menu.isVisible}},{key:"isVisibleControls",get:function(){return n.get(this).menu.isVisibleControls}}]),i}();angular.module("mlsdev").controller("SideMenuController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdSideMenu",{bindings:{duration:"@"},templateUrl:"/scripts/components/side-menu/side-menu.template.html",transclude:!1,controller:"SideMenuController",controllerAs:"menu"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function n(t){e(this,n),this.trust=t.trustAsHtml};t.$inject=["$sce"],angular.module("mlsdev").controller("NextStepController",t)}(),function(){"use strict";angular.module("mlsdev").component("mdNextStep",{templateUrl:"/scripts/components/next-step/next-step.template.html",controller:"NextStepController",controllerAs:"step",bindings:{firstButton:"@",firstButtonSref:"@",secondButton:"@",secondButtonSref:"@",stepText:"@",stepTitle:"@",isActive:"<"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){var n=new WeakMap,i=new WeakMap,r=function(e,t,n,i){var r=e*Math.PI/180,o=(t-180)*Math.PI/180,a=-(n+i)*Math.cos(r)*Math.cos(o),s=(n+i)*Math.sin(r),c=(n+i)*Math.cos(r)*Math.sin(o);return{x:a,y:s,z:c}},o=function(){function o(t,i){e(this,o),this.countries=t,n.set(this,i),window.addEventListener("resize",this.resize.bind(this)),this.animationId=null}return t(o,[{key:"stop",value:function(){var e=this;i.set(this,0),this.animationId&&window.cancelAnimationFrame(this.animationId),this.countries.forEach(function(t){e.positions["delete"](t)})}},{key:"run",value:function(){i.set(this,1),this.animationId&&window.cancelAnimationFrame(this.animationId),this.getLines(),this.render()}},{key:"getDomElement",value:function(){var e=n.get(this),t=window.innerWidth,i=window.innerHeight;this.camera=new THREE.PerspectiveCamera(45,t/i,1,4e3),this.camera.position.set(e.positionX,e.positionY,e.positionZ),this.scene=new THREE.Scene,this.light=new THREE.HemisphereLight(16777215,16777215,.9),this.lightDirectional=new THREE.DirectionalLight(16777215,.2),this.lightDirectional.position.set(5,5,5).normalize(),this.scene.add(this.light),this.scene.add(this.lightDirectional);var r=new THREE.SphereGeometry(e.radius,50,50),o=new THREE.MeshPhongMaterial,a=new THREE.TextureLoader;return THREE.ImageUtils.crossOrigin="",o.map=a.load(e.textures.map),o.bumpMap=a.load(e.textures.bumpMap),o.bumpScale=50,o.side=THREE.DoubleSide,this.mesh=new THREE.Mesh(r,o),this.scene.add(this.mesh),this.mesh.rotation.x=.2,this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setSize(t,i),this.positions=new WeakMap,this.renderer.domElement}},{key:"country",value:function(e,t){if(e.line&&e.point&&e.wrapper){var n=new THREE.Vector3(t.vector.x,t.vector.y,t.vector.z),i=new THREE.Vector3(0,0,0),r=n.project(this.camera),o=i.project(this.camera),a=window,s=a.innerWidth,c=a.innerHeight,l=t.direction===-1;r.x=(r.x+1)/2*s,r.y=-(r.y-1)/2*c;var u=r.x-.2*s,h=1.25*r.y-40,f=o.z-r.z>t.visibleZ,p=this.positions.get(t);f&&(!p||p<0||p>1.25*h?this.positions.set(t,h):(e.wrapper.style.top=p+"px",e.point.style.top=p+15+"px")),e.line.style.display="none",f?(e.svg.setAttribute("x2",r.x),p&&(e.svg.setAttribute("y2",p+15),e.svg.setAttribute("y1",e.wrapper.offsetTop+e.wrapper.offsetHeight/2),e.svg.setAttribute("x1",e.text.offsetWidth)),e.svg.classList.add("active")):e.svg.classList.remove("active"),l?f?(e.line.style.right=e.text.offsetWidth+"px",e.line.style.left=r.x+"px",e.point.style.transform="translateX("+r.x+"px)",e.point.classList.add("active"),e.wrapper.classList.add("active")):(e.line.style.right=r.x+"px",e.point.classList.remove("active"),e.wrapper.classList.remove("active")):f?(e.line.style.left=e.text.offsetWidth+"px",e.line.style.right=s-u+"px",e.point.style.transform="translateX("+r.x+"px)",e.point.classList.add("active"),e.wrapper.classList.add("active")):(e.line.style.left=u+"px",e.point.classList.remove("active"),e.wrapper.classList.remove("active"))}}},{key:"onDocumentMouseDown",value:function(e){this.start=e.clientX,this.deltaTwo=this.deltaTwo||0,this.deltaOne=this.deltaTwo||this.start,this.isDown=!0,this.getLines()}},{key:"onDocumentMouseMove",value:function(e){if(this.isDown){var t=this.start-e.clientX;this.deltaTwo=this.deltaOne+t,this.render()}}},{key:"onDocumentMouseUp",value:function(e){this.isDown=!1,this.start=0}},{key:"resize",value:function(e){var t=this;this.countries.forEach(function(e){t.positions["delete"](e)});var n=e.target.innerWidth,i=e.target.innerHeight;this.renderer.setSize(n,i),this.camera.aspect=n/i,this.camera.updateProjectionMatrix()}},{key:"getLines",value:function(){var e=this;this.lines={},this.countries.forEach(function(t){var i=t.code,o=t.coordinates,a=o.lat,s=o["long"],c=n.get(e).radius;t.vector=r(a,s,c,50),e.lines[i]={wrapper:document.querySelector(".country-"+i+".country"),text:document.querySelector(".country-"+i+" .text"),line:document.querySelector("."+i),point:document.querySelector(".point-"+i),svg:document.querySelector(".country-"+i+".svg-line")}})}},{key:"render",value:function(){var e=this,t=i.get(this),n=1800,r=this.deltaTwo*-.0022;this.camera.position.x=Math.cos(r)*n,this.camera.position.z=Math.sin(r)*n,this.camera.lookAt(this.scene.position),this.lightDirectional.position.x=.9*this.camera.position.x,this.lightDirectional.position.z=this.camera.position.z,this.lightDirectional.lookAt(this.scene.position.multiplyScalar(5)),this.countries.forEach(function(t){e.country(e.lines[t.code],t)}),this.renderer.render(this.scene,this.camera),t&&(this.animationId=window.requestAnimationFrame(this.render.bind(this)))}}]),o}();return o};angular.module("mlsdev").factory("PlanetFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(n){var i=function(){function i(t){e(this,i),this.textures=t}return t(i,[{key:"resolve",value:function(){var e=this.textures.map(function(e){return n.loadImage(e)});return Promise.all(e)}}]),i}();return i};n.$inject=["ImageLoaderFactory"],angular.module("mlsdev").factory("PlanetPreloaderFactory",n)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=new WeakMap,r=new WeakMap,o=function(){function o(t,a,s,c,l,u,h){e(this,o),n.set(this,{scope:t,timeout:s,screensService:h,element:a[0]});var f={positionX:1800,positionY:600,positionZ:1800,radius:400,textures:{map:"images/company/earth_map.jpg",bumpMap:"images/company/earth_bump.jpg"}};this.isLoaded=!1,this.runAllowed=!0;var p=new l(c,f),d=new u([f.textures.map,f.textures.bumpMap]);i.set(this,p),r.set(this,d),this.resizeBind=this.resize.bind(this),this.runBind=this.run.bind(this),this.onDocumentMouseMoveBind=p.onDocumentMouseMove.bind(p),this.onDocumentMouseDowmBind=p.onDocumentMouseDown.bind(p),this.onDocumentMouseUpBind=p.onDocumentMouseUp.bind(p)}return o.$inject=["$scope","$element","$timeout","OurProjects","PlanetFactory","PlanetPreloaderFactory","ScreensService"],t(o,[{key:"$onInit",value:function(){var e=i.get(this),t=e.getDomElement(),r=n.get(this),o=(r.screensService,r.element);o.appendChild(t),this.isLoaded=!0,window.addEventListener("resize",this.resizeBind),document.addEventListener("mousedown",this.onDocumentMouseDowmBind,!1),document.addEventListener("mousemove",this.onDocumentMouseMoveBind,!1),document.addEventListener("mouseup",this.onDocumentMouseUpBind,!1)}},{key:"run",value:function(){var e=this,t=i.get(this),r=n.get(this),o=r.timeout;t&&this.runAllowed&&t.run(),this.runAllowed=!1,o&&o(function(){return e.isLoaded=!0},0)}},{key:"stop",value:function(){i.get(this).stop()}},{key:"resize",value:function(e){var t=i.get(this);t&&t.resize(e)}},{key:"$onDestroy",value:function(){this.stop(),window.removeEventListener("resize",this.resizeBind),n.get(this).screensService.off("transitionend",this.runBind),i["delete"](this),n["delete"](this)}}]),o}();angular.module("mlsdev").controller("PlanetController",o)}(),function(){"use strict";angular.module("mlsdev").component("mdPlanet",{templateUrl:"/scripts/components/planet/planet.template.html",controller:"PlanetController",controllerAs:"planet",bindings:{animationEnabled:"<",ghost:"@"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s){var c=this;e(this,i),this.screens=[],n.set(this,t),t.on("ready",this.onReady.bind(this)),t.on("visiblity",this.onMoving.bind(this)),this.SiteScreens=o,this.$location=a,this.$timeout=s,r.on("preload:finished",function(){return c.initAnchor()})}return i.$inject=["ScreensService","PreloaderService","SiteScreens","$location","$timeout"],t(i,[{key:"initAnchor",value:function(){var e=this,t=this.$location.search().s;if(t){var n=this.$location.path().split("/")[1]||"home",i=_.find(this.SiteScreens[n],function(e){return e.anchor==t});i&&this.$timeout(function(){e.moveIndex(i.index)},0)}}},{key:"fillScreens",value:function(){this.screens=n.get(this).screenssettings}},{key:"cleanScreens",value:function(){this.screens.length=0}},{key:"onReady",value:function(e){this.screens=n.get(this).screenssettings,this.setVisibility(e.visibleParts)}},{key:"onMoving",value:function(e){this.setVisibility(e.visibleParts)}},{key:"setVisibility",value:function(e){this.isVisible=e}},{key:"moveIndex",value:function(e){n.get(this).moveIndex(e)}},{key:"moveDown",value:function(){n.get(this).moveDown()}},{key:"activeScreenIndex",get:function(){return n.get(this).activeIndex}}]),i}();angular.module("mlsdev").service("ScreenNavigationService",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t){e(this,i),n.set(this,t)}return i.$inject=["ScreenNavigationService"],t(i,[{key:"$onInit",value:function(){n.get(this).fillScreens()}},{key:"setActive",value:function(e){n.get(this).moveIndex(e)}},{key:"setActiveNext",value:function(){n.get(this).moveDown()}},{key:"isScreenActive",value:function(e){return n.get(this).activeScreenIndex===e}},{key:"$onDestroy",value:function(){n.get(this).cleanScreens()}},{key:"pageScreens",get:function(){return n.get(this).screens}},{key:"isVisible",get:function(){return n.get(this).isVisible}}]),i}();angular.module("mlsdev").controller("ScreenNavigationController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdScreenNavigation",{bindings:{},templateUrl:"/scripts/components/screen-navigation/screen-navigation.template.html",controller:"ScreenNavigationController",controllerAs:"navigation"})}(),function(){"use strict";angular.module("mlsdev").component("mdScreenNavigationNext",{bindings:{},templateUrl:"/scripts/components/screen-navigation/screen-navigation-next.template.html",transclude:!1,controller:"ScreenNavigationController",controllerAs:"navigation"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t){e(this,n),this.items=t.profiles}return n.$inject=["CompanyLinks"],t(n,[{key:"$onInit",value:function(){this["class"]=this.elementClass}}]),n}();angular.module("mlsdev").controller("CompanyLinksController",n)}(),function(){"use strict";angular.module("mlsdev").component("mdCompanyLinks",{templateUrl:"/scripts/components/company-links/company-links.template.html",transclude:!1,controller:"CompanyLinksController",controllerAs:"links",bindings:{elementClass:"@",linkToShare:"@"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r){e(this,i),n.set(this,{timeout:t,slider:r})}return i.$inject=["$timeout","SliderFactory"],t(i,[{key:"$onInit",value:function(){this.isShowbackgroundText=!0,this.countClientOnPage=null,this.setupListBind=this.setupList.bind(this),this.setupList(),this.backgroundListener=this.setBackground.bind(this),this.currentSlider=null,window.addEventListener("resize",this.setupListBind)}},{key:"setupList",value:function(){var e=this.__getCountClientOnPage();if(this.countClientOnPage!==e)if(this.countClientOnPage=e,this.mainList=[],this.showType=null,e){for(var t=this.clientsList.length/e,n=0;n<t;n++){for(var i=[],r=0;r<e;r++)i.push(this.clientsList[r+n*e]);this.mainList.push(i)}this.showType="slider"}else this.showType="all",this.mainList=this.clientsList.slice()}},{key:"setBackground",value:function(e,t){var i=this,r=n.get(this),o=r.timeout;t&&t.stopPropagation(),e?(this.isShowbackgroundText=!1,this.currentBackground=e.image):o(function(){i.isShowbackgroundText=!0,i.currentBackground=null})}},{key:"getBackgroundImage",value:function(){if(this.currentBackground)return"/images/home/"+this.currentBackground}},{key:"__getCountClientOnPage",value:function(){var e=window.outerWidth;switch(!0){case e>900:return 0;case e>451:return 6;default:return 3}}},{key:"setSliderName",value:function(e){var t=n.get(this),i=t.slider;this.currentSlider=i.get(e),this.currentSlider&&this.currentSlider.on("slider:setActive",this.backgroundListener)}},{key:"$onDestroy",value:function(){n["delete"](this),window.removeEventListener("resize",this.setupList),this.currentSlider&&this.currentSlider.off("slider:setActive",this.backgroundListener)}}]),i}();angular.module("mlsdev").controller("ClientsScreenController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdClientsScreen",{bindings:{clientsList:"="},templateUrl:"/scripts/components/clients-screen/clients-screen.template.html",controller:"ClientsScreenController"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t){e(this,i),n.set(this,{Portfolio:t})}return i.$inject=["Portfolio"],t(i,[{key:"$onInit",value:function(){var e=this,t=n.get(this),i=t.Portfolio;i.forEach(function(t){t.id==e.prevPortfolio&&(e.prev={link:t.link,preview:t.images.preview,name:t.name,background:t.colors.description}),t.id===e.nextPortfolio&&(e.next={link:t.link,preview:t.images.preview,name:t.name,background:t.colors.description})})}},{key:"$onDestroy",value:function(){}}]),i}();angular.module("mlsdev").controller("PortfolioLinksController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdPortfolioLinks",{templateUrl:"/scripts/components/portfolio-links/portfolio-links.template.html",controller:"PortfolioLinksController",controllerAs:"portfolio",bindings:{prevPortfolio:"@",nextPortfolio:"@"}})}(),function(){"use strict";angular.module("mlsdev").component("mdLeadForm",{templateUrl:"/scripts/components/lead-form/lead-form.template.html",controller:"LeadFormController",controllerAs:"lead",bindings:{start:"@",value:"@",placeholder:"@",placeholderName:"@",email:"<",name:"<"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c,l){e(this,i),n.set(this,{element:t[0],helper:a,GoalsService:c,HeaderService:l,api:o,trafficSource:s}),this.trust=r.trustAsHtml}return i.$inject=["$element","$sce","API","HelpersService","TrafficSourceService","GoalsService","HeaderService"],t(i,[{key:"$onInit",value:function(){this.emailField=!1,this.sended=!1,this.placeholder=this.placeholder||"Enter your e-mail"}},{key:"click",value:function(e){var t=e.target,i=n.get(this),r=i.element;this.emailField||(e.preventDefault(),t.innerText=this.value,t.type="submit",r.classList.add("step-2"),this.emailField=!0),this.email&&!this._validate(this.email)&&this.invalid(t)}},{key:"submit",value:function(){var e=this,t=n.get(this),i=t.api,r=t.trafficSource,o=t.GoalsService,a=t.HeaderService;return this._validate(this.email)?(this.sended=!0,void i.ClientMessages.save({name:this.name,email:this.email,referer:r.referrer,utm_source:r.utmSource,kind:"popup"}).$promise.then(function(t){if(t.id){e.message=" Thanks! We will contact you shortly";var n=e.name?"popup":a.stateName;o.track(n,e.email)}})["catch"](function(e){return console.log(e)})):null}},{key:"invalid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.get(this),i=t.element;e=e||i.querySelector("button"),i.classList.add("invalid"),this.validationMessage="please fill the correct email address",e.innerText="OOPS",e.classList.remove("btn-green_")}},{key:"valid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.get(this),i=t.element;e=e||i.querySelector("button"),i.classList.remove("invalid"),this.validationMessage=null,e.innerText=this.value,e.classList.add("btn-green_")}},{key:"_validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=n.get(this),i=t.helper;return i.validEmail(e)}}]),i}();angular.module("mlsdev").controller("LeadFormController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdSubscriptionForm",{templateUrl:"/scripts/components/subscription-form/subscription-form.template.html",transclude:!1,controller:"SubscriptionFormController"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r){e(this,i),n.set(this,{SubscriptionService:t,GoalsService:r}),this.isInvalid=!1,this.isSent=!1,this.email=""}return i.$inject=["SubscriptionService","GoalsService"],t(i,[{key:"subscribe",value:function(){var e=this;if(this.form.$invalid)return this.isInvalid=!0;var t=n.get(this),i=t.SubscriptionService,r=t.GoalsService;r.track("subscribe"),i.subscribe(this.email).then(function(t){return e.isSent=!0})["catch"](function(){return e.isInvalid=!0})}},{key:"onChange",value:function(){this.isInvalid=!1}},{key:"buttonText",get:function(){return this.isInvalid?"Oops":"Subscribe"}}]),i}();angular.module("mlsdev").controller("SubscriptionFormController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t){e(this,i),n.set(this,{API:t})}return i.$inject=["API"],t(i,[{key:"subscribe",value:function(e){return n.get(this).API.Subscription.save({email:e}).$promise}}]),i}();angular.module("mlsdev").service("SubscriptionService",i)}(),function(){"use strict";angular.module("mlsdev").component("mdShares",{templateUrl:"/scripts/components/shares/shares.template.html",controller:"SharesController",controllerAs:"shares",bindings:{title:"<"}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e){return window.encodeURIComponent(e)},i=function(){function i(){e(this,i)}return t(i,[{key:"$onInit",value:function(){this.title=n(this.title)}},{key:"share",value:function(e){return this[e]&&window.open(this[e],"_blank","resizable=yes,top=500,left=500,width=400,height=400"),!1}},{key:"twitter",get:function(){return"http://twitter.com/intent/tweet?status="+this.title+"+"+this.location}},{key:"facebook",get:function(){return"http://www.facebook.com/share.php?u="+this.location+"&title="+this.title}},{key:"google",get:function(){return"https://plus.google.com/share?url="+this.location}},{key:"linkedin",get:function(){return"http://www.linkedin.com/shareArticle?mini=true&url="+this.location+"&title="+this.title+"&ro=false&source="}},{key:"location",get:function(){return""+window.location.href}}]),i}();angular.module("mlsdev").controller("SharesController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdUserLeave",{templateUrl:"/scripts/components/user-leave/user-leave.template.html",controller:"UserLeaveController",controllerAs:"leave"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o){e(this,i),n.set(this,{$element:t,$rootScope:r,$timeout:o})}return i.$inject=["$element","$rootScope","$timeout"],t(i,[{key:"$onInit",value:function(){this.submited=!0,this.error=!1,this.placeholder="Enter email",this.onLeave=this.leave.bind(this),document.body.addEventListener("mouseleave",this.onLeave)}},{key:"$onDestroy",value:function(){document.body.removeEventListener("mouseleave",this.onLeave)}},{key:"leave",value:function(e){var t=window.localStorage.getItem("leave_popup");e.clientY<0&&!t&&(this.element.classList.add("active"),window.localStorage.setItem("leave_popup",1))}},{key:"getClass",value:function(){return this.error?"error":""}},{key:"close",value:function(){this.element.classList.remove("active")}},{key:"element",get:function(){return n.get(this).$element[0]}}]),i}();angular.module("mlsdev").controller("UserLeaveController",i)}(),function(){"use strict";angular.module("mlsdev").component("mdChat",{bindings:{screen:"<"},templateUrl:"/scripts/components/chat/chat.template.html",
controller:"ChatController",controllerAs:"chat"})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=new WeakMap,i=function(){function i(t,r,o,a,s,c){e(this,i),n.set(this,{$element:t,$timeout:r,ChatService:o,BrowserEventsService:a,ScreensService:s,chatAvailable:c})}return i.$inject=["$element","$timeout","ChatService","BrowserEventsService","ScreensService","chatAvailable"],t(i,[{key:"$onInit",value:function(){var e=n.get(this),t=e.$element,i=e.ScreensService,r=e.BrowserEventsService,o=e.chatAvailable;this.isAvailable=o,this.dialogs=[],this.opened=!1,this.autoOpened=!1,this.waiting=!1,this.stausText="Very smart ChatBot",this.setDialogWelcome(),this.doOpen=this.onVisibility.bind(this),t[0].addEventListener(r.wheelEvent,this.onScroll,!1),i.on("visiblity",this.doOpen),this.question=""}},{key:"onVisibility",value:function(e){e.visibleParts&&e.visibleParts.chat?(this.autoOpened=!0,this.setDialogWelcome("Interesting fact! We are currently working on this screen and pretty soon it will become much bigger. Interested? Contact us",!0),this._scroll()):(this.autoOpened=!1,this.setDialogWelcome())}},{key:"setDialogWelcome",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Some welcome text here",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.dialogs.length<=1&&!this.opened?this.dialogs=[{text:e}]:t&&this.dialogs.push({text:e})}},{key:"onScroll",value:function(e){e.stopPropagation()}},{key:"getDialogClass",value:function(e){var t=[];return e.isQuestion&&t.push("chat-question"),t}},{key:"getChatClass",value:function(){return this.opened||this.autoOpened&&!this.opened?"opened":""}},{key:"toggleOpened",value:function(){this.opened=!this.opened,this.autoOpened=!1}},{key:"send",value:function(){var e=this;if(this.question){var t=n.get(this),i=t.$timeout,r=t.ChatService,o=this.question;i(function(){e.dialogs.push({text:o,isQuestion:!0}),e.question="",e.waiting=!0},0),r.send(this.question).then(function(t){i(function(){t.forEach(function(t){e.dialogs.push(t.toJSON())})},0),e._scroll()})["catch"](function(e){return console.log(e)})["finally"](function(){e.waiting=!1}),this._scroll()}}},{key:"reply",value:function(e){this.question=e,this.send()}},{key:"_scroll",value:function(){var e=n.get(this),t=e.$timeout,i=document.querySelector(".chat-dialog");t(function(){return i.scrollTop=i.scrollHeight+20},10)}},{key:"$onDestroy",value:function(){var e=n.get(this),t=e.$element,i=e.ScreensService,r=e.BrowserEventsService;t[0].removeEventListener(r.wheelEvent,this.onScroll,!1),i.off("visiblity",this.doOpen)}}]),i}();angular.module("mlsdev").controller("ChatController",i)}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(t){e(this,n),this.api=t,window.sessionStorage.setItem("mlsdev-token",(new Date).getTime()+Math.random())}return n.$inject=["API"],t(n,[{key:"send",value:function(e){return this.api.ChatBot.message({sender:window.sessionStorage.getItem("mlsdev-token"),message:e}).$promise}}]),n}();angular.module("mlsdev").service("ChatService",n)}();